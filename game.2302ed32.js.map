{"version":3,"sources":["js/kaboom.js","js/game.js"],"names":["kaboom","__defProp","Object","defineProperty","__name","target","value","configurable","__esm","fn","res","__init","keys","__commonJS","cb","mod","__require","exports","__toBinary","table","Uint8Array","i","base64","n","length","bytes","i2","j","c0","charCodeAt","c1","c2","c3","deg2rad","deg","Math","PI","rad2deg","rad","clamp","val","min","max","lerp","a","b","t","map","v","l1","h1","l2","h2","mapc","vec2","_len","arguments","args","Array","_key","isVec2","x","y","isArray","apply","clone","add","p2","sub","scale","s","dist","sqrt","len","unit","normal","dot","angle","atan2","toFixed","eq","other","str","concat","vec2FromAngle","cos","sin","vec3","z","xy","p","isVec3","isColor","c","r","g","isMat4","m","rgb","_len2","_key2","rgba","_args$","_len3","_key3","lighten","darken","invert","isDark","undefined","isLight","quad","w","h","mat4","_toConsumableArray","mult","out","multVec4","multVec3","p4","multVec2","translate","rotateX","rotateY","rotateZ","f00","f01","f02","f03","f04","f05","f06","f07","f08","f09","f10","f11","f12","f13","f14","f15","f16","f17","f18","det","wave","lo","hi","makeRng","seed","gen","_len4","_key4","A","C","M","randSeed","defRNG","rand","_defRNG","chance","choose","list","floor","colRectRect","r1","r2","p1","overlapRectRect","colRectPt","pt","init_math","src_mathTs","Date","now","deepEq","o1","o2","t1","_typeof","t2","k1","k2","_i","_k","k","v1","v2","init_utils","src_utilsTs","originPt","orig","gfxInit","gl","gconf","texFilter","LINEAR","NEAREST","gfx","_gconf$clearColor","defProg","makeProgram","DEF_VERT","DEF_FRAG","emptyTex","makeTex","ImageData","Uint8ClampedArray","clearColor","enable","BLEND","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","vbuf","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","QUEUE_COUNT","DYNAMIC_DRAW","ibuf","ELEMENT_ARRAY_BUFFER","bgTex","drawCalls","lastDrawCalls","curProg","defTex","curTex","curUniform","vqueue","iqueue","transform","transformStack","frameStart","frameEnd","powerOfTwo","log","data","id","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","wrap","width","height","REPEAT","CLAMP_TO_EDGE","TEXTURE_WRAP_S","TEXTURE_WRAP_T","bind","unbind","vertSrc","fragSrc","msg","vcode","VERT_TEMPLATE","replace","fcode","FRAG_TEMPLATE","vertShader","createShader","VERTEX_SHADER","fragShader","FRAGMENT_SHADER","shaderSource","compileShader","getShaderInfoLog","Error","createProgram","attachShader","bindAttribLocation","linkProgram","getProgramInfoLog","useProgram","bindAttribs","vertexAttribPointer","FLOAT","STRIDE","enableVertexAttribArray","send","uniform","name","loc","getUniformLocation","uniform1f","uniformMatrix4fv","Float32Array","uniform4f","uniform3f","uniform2f","makeFont","tex","gw","gh","chars","cols","rows","qw","qh","map2","charMap","split","entries","_iterator","_createForOfIteratorHelper","_step","done","_step$value","_slicedToArray","ch","err","e","f","drawRaw","verts","indices","_tex","_prog","prog","flush","nIndices","nVerts","toNDC","pos","uv","color","flat","forEach","push","bufferSubData","Uint16Array","drawElements","TRIANGLES","UNSIGNED_SHORT","clear","COLOR_BUFFER_BIT","drawQuad","BG_GRID_SIZE","pushMatrix","pushTranslate","pushScale","pushRotateX","pushRotateY","pushRotateZ","pushTransform","popTransform","pop","_conf$scale","_conf$z","conf","origin","DEF_ORIGIN","offset","scale2","rot","q","flipX","flipY","drawTexture","_conf$quad","tiled","repX","ceil","repY","_objectSpread","drawRect","drawRectStroke","p3","drawLine","drawTri","fmtText","text","font","size","cw","curX","th","tw","flines","curLine","lastSpace","cursor","char","slice","fchars","ox","oy","line","ln","oxl","cn","qpos","drawText","txt","drawFmtText","ftext","_iterator2","_step2","drawingBufferWidth","drawingBufferHeight","_gconf$scale","init_gfx","src_gfxTs","processBtnState","appInit","_gconf$canvas","_gconf$scale2","app","canvas","_gconf$root","document","createElement","root","body","appendChild","keyStates","charInputted","mouseMoved","mouseState","mousePos","time","realTime","skipTime","dt","isTouch","loopID","stopped","fps","fpsBuf","fpsTimer","keyMap","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","preventDefaultKeys","fullscreen","window","innerWidth","innerHeight","styles","crisp","style","join","setAttribute","getContext","antialias","depth","stencil","alpha","preserveDrawingBuffer","navigator","maxTouchPoints","msMaxTouchPoints","addEventListener","offsetX","offsetY","touchToMouse","preventDefault","touches","clientX","clientY","key","toLowerCase","includes","repeat","focus","visibilityState","mouseClicked","mouseDown","mouseReleased","keyPressed","keyPressedRep","keyDown","keyReleased","screenshot","toDataURL","run","frame","realDt","round","reduce","requestAnimationFrame","quit","cancelAnimationFrame","focused","activeElement","init_app","src_appTs","burp_default","init_burp","src_assets_burpMp3","audioInit","audio","ctx2","AudioContext","webkitAudioContext","gainNode","createGain","masterNode","connect","destination","ctx","burpBuf","decodeAudioData","buffer","buf","volume","gain","MIN_GAIN","MAX_GAIN","play","sound","_conf$seek","loop","speed","detune","seek","srcNode","createBufferSource","start","startTime","currentTime","stopTime","handle","stop","pause","oldNode","playbackRate","pos2","paused","MIN_SPEED","MAX_SPEED","MIN_DETUNE","MAX_DETUNE","unloop","duration","burp","init_audio","src_audioTs","unscii_8x8_default","init_unscii_8x8","src_assets_unscii_8x8Png","mark_default","init_mark","src_assets_markPng","loadImg","src","img","Image","crossOrigin","Promise","resolve","reject","onload","onerror","isDataUrl","startsWith","assetsInit","assets","lastLoaderID","loadRoot","loaders","sprites","sounds","fonts","shaders","addLoader","prom","_gconf$errHandler","catch","errHandler","console","error","finally","loadProgress","total","loaded","path","loadFont","ASCII_CHARS","loader","then","loadSprite","sliceX","sliceY","anims","loadRawSprite","name2","src2","conf2","gridWidth","gridHeight","frames","sprite","loadShader","vert","frag","isUrl","loadRawShader","vert2","frag2","shader","resolveUrl","url","fetch","ok","all","_ref","_ref2","loadSound","arrayBuffer","resolve2","reject2","defFont","DEF_FONT","init_assets","src_assetsTs","loggerInit","_conf$max","logs","draw","txtAlpha","bgAlpha","col","type","LOG_SIZE","unshift","info","init_logger","src_loggerTs","netInit","handlers","sendQueue","socket","connected","readyState","ws","WebSocket","onopen","_iterator3","_step3","onmessage","JSON","parse","_iterator4","_step4","handler","recv","stringify","close","init_net","src_netTs","require_kaboom","src_kaboomTs","module","IDList","_Map","_this","_classCallCheck","_len5","_key5","_callSuper","lastID","_inherits","_createClass","set","pushd","_this2","delete","_wrapNativeSuper","Map","_gconf$touchToMouse","debug","logMax","logger","net","NetMsg","NetMsg2","AddObj","UpdateObj","DestroyObj","Disconnect","sync","obj","game","travelers","_id","_data","visitors","oid","destroy","objs","get","_i2","_Object$values","values","ty","timeScale","pb","AudioBuffer","numberOfChannels","sampleRate","ready","pb2","isCamLayer","layer2","_game$layers","layers","defLayer","noCam","camMousePos","drawSprite","_conf$frame","spr","_conf$font","fid","DEF_GRAVITY","DEF_ORIGIN2","events","objEvents","actions","renders","timers","cam","shake","camMatrix","gravity","on","ev","trigger","_len6","_key6","scenes","def","idx","order","camPos","camScale","camRot","camShake","intensity","camIgnore","layers2","COMP_EVENTS","Set","comps","compStates","customState","tags","hidden","use","comp","_this3","stateContainer","_loop","func","has","_ret","exists","is","tag","_iterator5","_step5","action","_this4","_len7","_key7","call","gEvents","rmTag","indexOf","splice","_inspect","inspect","_iterator6","_step6","_iterator7","_step7","deps","require","_iterator8","_step8","dep","readd","event","render","collides","_checkCollisions","overlaps","_checkOverlaps","clicks","o","isClicked","wait","newF","cancellers","keyPress","keyPressRep","keyRelease","mouseClick","mouseRelease","mouseMove","charInput","touchStart","touchMove","touchEnd","touchIsActive","sort","_game$layers$order","_game$layers2","_o1$layer","_game$layers$order2","_game$layers3","_o2$layer","layer","filter","every","revery","reverse","destroyAll","gameFrame","ignorePause","nextFrame","doUpdate","drawInspect","_gconf$inspectColor","inspecting","lcolor","inspectColor","drawInspectTxt","pad","ftxt","drawObj","isCam","area","isHovered","lwidth","_worldArea","mpos","lines","_iterator9","_step9","_iterator10","_step10","field","move","dx","dy","screenPos","rotate","l","_this$layer","isSameLayer","_o1$layer2","_o2$layer2","colliding","overlapping","areaWidth","_this$_worldArea","p12","p22","areaHeight","_this$_worldArea2","hasPt","isCollided","a1","a2","isOverlapped","_this5","hovers","_this6","_this7","_this8","pushOut","disLeft","disRight","disTop","disBottom","side","dis","pushOutAll","_this9","solid","_this10","_this11","area2","getAreaFromSize","curAnim","calcTexScale","animSpeed","noArea","load","update","anim","timer","to","from","_this12","loop2","prevAnim","changeSprite","id2","_this13","numFrames","_curAnim2","textSize","_this$font","_this$scale","_this$scale2","_this$font2","rect","DEF_MAX_VEL","DEF_JUMP_FORCE","_conf$maxVel","_conf$jumpForce","velY","curPlatform","lastPlatformPos","maxVel","jumpForce","targets","justOff","_iterator11","_step11","grounded","falling","jump","force","showLog","objCount","stepFrame","clearLog","gridder","level","gridPos","setGridPos","moveLeft","moveRight","moveUp","moveDown","addLevel","longRow","getPos","spawn","sym","any","_i3","_objs","row","syms","commonProps","props","_props$pos","_props$rot","_props$scale","_props$color","addSprite","addRect","addText","scene","go","_len8","_key8","_game$scenes","regDebugInput","getData","localStorage","_unused","setData","keyIsDown","keyIsPressed","keyIsPressedRep","keyIsReleased","mouseIsDown","mouseIsClicked","mouseIsReleased","mouseIsMoved","plugins","_iterator12","_step12","global","_ref3","_ref4","progress","stack","_default","default","_kaboom","_interopRequireDefault","__esModule","JUMP_FORCE","MOVE_SPEED","FALL_DEATH","score","big","isBig","smallify","biggify","player"],"mappings":"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","file":"game.2302ed32.js","sourceRoot":"../src","sourcesContent":["/* eslint-disable no-void */\n/* eslint-disable camelcase */\n/* eslint-disable no-use-before-define */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable  */\nconst kaboom = (() => {\n  const __defProp = Object.defineProperty;\n  const __name = (target, value) =>\n    __defProp(target, 'name', { value, configurable: true });\n  const __esm = (fn, res) =>\n    function __init() {\n      return fn && (res = (0, fn[Object.keys(fn)[0]])((fn = 0))), res;\n    };\n  const __commonJS = (cb, mod) =>\n    function __require() {\n      return (\n        mod ||\n          (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod),\n        mod.exports\n      );\n    };\n  const __toBinary = /* @__PURE__ */ (() => {\n    const table = new Uint8Array(128);\n    for (let i = 0; i < 64; i++)\n      table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] =\n        i;\n    return base64 => {\n      const n = base64.length;\n      const bytes = new Uint8Array(\n        (((n - (base64[n - 1] == '=') - (base64[n - 2] == '=')) * 3) / 4) | 0\n      );\n      for (let i2 = 0, j = 0; i2 < n; ) {\n        const c0 = table[base64.charCodeAt(i2++)];\n        const c1 = table[base64.charCodeAt(i2++)];\n        const c2 = table[base64.charCodeAt(i2++)];\n        const c3 = table[base64.charCodeAt(i2++)];\n        bytes[j++] = (c0 << 2) | (c1 >> 4);\n        bytes[j++] = (c1 << 4) | (c2 >> 2);\n        bytes[j++] = (c2 << 6) | c3;\n      }\n      return bytes;\n    };\n  })();\n\n  // src/math.ts\n  function deg2rad(deg) {\n    return (deg * Math.PI) / 180;\n  }\n  function rad2deg(rad) {\n    return (rad * 180) / Math.PI;\n  }\n  function clamp(val, min, max) {\n    if (min > max) {\n      return clamp(val, max, min);\n    }\n    return Math.min(Math.max(val, min), max);\n  }\n  function lerp(a, b, t) {\n    return a + (b - a) * t;\n  }\n  function map(v, l1, h1, l2, h2) {\n    return l2 + ((v - l1) / (h1 - l1)) * (h2 - l2);\n  }\n  function mapc(v, l1, h1, l2, h2) {\n    return clamp(map(v, l1, h1, l2, h2), l2, h2);\n  }\n  function vec2(...args) {\n    if (args.length === 0) {\n      return vec2(0, 0);\n    }\n    if (args.length === 1) {\n      if (typeof args[0] === 'number') {\n        return vec2(args[0], args[0]);\n      }\n      if (isVec2(args[0])) {\n        return vec2(args[0].x, args[0].y);\n      }\n      if (Array.isArray(args[0]) && args[0].length === 2) {\n        return vec2.apply(null, args[0]);\n      }\n    }\n    return {\n      x: args[0],\n      y: args[1],\n      clone() {\n        return vec2(this.x, this.y);\n      },\n      add(...args2) {\n        const p2 = vec2(...args2);\n        return vec2(this.x + p2.x, this.y + p2.y);\n      },\n      sub(...args2) {\n        const p2 = vec2(...args2);\n        return vec2(this.x - p2.x, this.y - p2.y);\n      },\n      scale(...args2) {\n        const s = vec2(...args2);\n        return vec2(this.x * s.x, this.y * s.y);\n      },\n      dist(...args2) {\n        const p2 = vec2(...args2);\n        return Math.sqrt(\n          (this.x - p2.x) * (this.x - p2.x) + (this.y - p2.y) * (this.y - p2.y)\n        );\n      },\n      len() {\n        return this.dist(vec2(0, 0));\n      },\n      unit() {\n        return this.scale(1 / this.len());\n      },\n      normal() {\n        return vec2(this.y, -this.x);\n      },\n      dot(p2) {\n        return this.x * p2.x + this.y + p2.y;\n      },\n      angle(...args2) {\n        const p2 = vec2(...args2);\n        return Math.atan2(this.y - p2.y, this.x - p2.x);\n      },\n      lerp(p2, t) {\n        return vec2(lerp(this.x, p2.x, t), lerp(this.y, p2.y, t));\n      },\n      toFixed(n) {\n        return vec2(this.x.toFixed(n), this.y.toFixed(n));\n      },\n      eq(other) {\n        return this.x === other.x && this.y === other.y;\n      },\n      str() {\n        return `(${this.x}, ${this.y})`;\n      },\n    };\n  }\n  function vec2FromAngle(a) {\n    return vec2(Math.cos(a), Math.sin(a));\n  }\n  function vec3(x, y, z) {\n    return {\n      x,\n      y,\n      z,\n      xy() {\n        return vec2(this.x, this.y);\n      },\n    };\n  }\n  function isVec2(p) {\n    return p !== void 0 && p.x !== void 0 && p.y !== void 0;\n  }\n  function isVec3(p) {\n    return p !== void 0 && p.x !== void 0 && p.y !== void 0 && p.z !== void 0;\n  }\n  function isColor(c) {\n    return (\n      c !== void 0 &&\n      c.r !== void 0 &&\n      c.g !== void 0 &&\n      c.b !== void 0 &&\n      c.a !== void 0\n    );\n  }\n  function isMat4(m) {\n    if (m !== void 0 && Array.isArray(m.m) && m.m.length === 16) {\n      return m;\n    }\n  }\n  function rgb(...args) {\n    if (args.length === 0) {\n      return rgba();\n    }\n    if (args.length === 1) {\n      if (isColor(args[0])) {\n        return rgba(args[0]);\n      }\n      if (Array.isArray(args[0]) && args[0].length === 3) {\n        return rgb.apply(null, args[0]);\n      }\n    }\n    return rgba(args[0], args[1], args[2], 1);\n  }\n  function rgba(...args) {\n    if (args.length === 0) {\n      return rgba(1, 1, 1, 1);\n    }\n    if (args.length === 1) {\n      if (isColor(args[0])) {\n        return rgba(args[0].r, args[0].g, args[0].b, args[0].a);\n      }\n      if (Array.isArray(args[0]) && args[0].length === 4) {\n        return rgba.apply(null, args[0]);\n      }\n    }\n    return {\n      r: args[0],\n      g: args[1],\n      b: args[2],\n      a: args[3] ?? 1,\n      clone() {\n        return rgba(this.r, this.g, this.b, this.a);\n      },\n      lighten(a) {\n        return rgba(this.r + a, this.g + a, this.b + a, this.a);\n      },\n      darken(a) {\n        return this.lighten(-a);\n      },\n      invert() {\n        return rgba(1 - this.r, 1 - this.g, 1 - this.b, this.a);\n      },\n      isDark(p = 0.5) {\n        return this.r + this.g + this.b < 3 * p;\n      },\n      isLight(p = 0.5) {\n        return this.r + this.g + this.b > 3 * p;\n      },\n      eq(other) {\n        return (\n          this.r === other.r &&\n          this.g === other.g &&\n          this.b === other.g &&\n          this.a === other.a\n        );\n      },\n    };\n  }\n  function quad(x, y, w, h) {\n    return {\n      x,\n      y,\n      w,\n      h,\n      scale(other) {\n        return quad(\n          this.x + this.w * other.x,\n          this.y + this.h * other.y,\n          this.w * other.w,\n          this.h * other.h\n        );\n      },\n      clone() {\n        return quad(this.x, this.y, this.w, this.h);\n      },\n      eq(other) {\n        return (\n          this.x === other.x &&\n          this.y === other.y &&\n          this.w === other.w &&\n          this.h === other.h\n        );\n      },\n    };\n  }\n  function mat4(m) {\n    return {\n      m: m ? [...m] : [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\n      clone() {\n        return mat4(this.m);\n      },\n      mult(other) {\n        const out = [];\n        for (let i = 0; i < 4; i++) {\n          for (let j = 0; j < 4; j++) {\n            out[i * 4 + j] =\n              this.m[0 * 4 + j] * other.m[i * 4 + 0] +\n              this.m[1 * 4 + j] * other.m[i * 4 + 1] +\n              this.m[2 * 4 + j] * other.m[i * 4 + 2] +\n              this.m[3 * 4 + j] * other.m[i * 4 + 3];\n          }\n        }\n        return mat4(out);\n      },\n      multVec4(p) {\n        return {\n          x:\n            p.x * this.m[0] +\n            p.y * this.m[4] +\n            p.z * this.m[8] +\n            p.w * this.m[12],\n          y:\n            p.x * this.m[1] +\n            p.y * this.m[5] +\n            p.z * this.m[9] +\n            p.w * this.m[13],\n          z:\n            p.x * this.m[2] +\n            p.y * this.m[6] +\n            p.z * this.m[10] +\n            p.w * this.m[14],\n          w:\n            p.x * this.m[3] +\n            p.y * this.m[7] +\n            p.z * this.m[11] +\n            p.w * this.m[15],\n        };\n      },\n      multVec3(p) {\n        const p4 = this.multVec4({\n          x: p.x,\n          y: p.y,\n          z: p.z,\n          w: 1,\n        });\n        return vec3(p4.x, p4.y, p4.z);\n      },\n      multVec2(p) {\n        return vec2(\n          p.x * this.m[0] + p.y * this.m[4] + 0 * this.m[8] + 1 * this.m[12],\n          p.x * this.m[1] + p.y * this.m[5] + 0 * this.m[9] + 1 * this.m[13]\n        );\n      },\n      translate(p) {\n        return this.mult(\n          mat4([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, p.x, p.y, 0, 1])\n        );\n      },\n      scale(s) {\n        return this.mult(\n          mat4([s.x, 0, 0, 0, 0, s.y, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])\n        );\n      },\n      rotateX(a) {\n        return this.mult(\n          mat4([\n            1,\n            0,\n            0,\n            0,\n            0,\n            Math.cos(a),\n            -Math.sin(a),\n            0,\n            0,\n            Math.sin(a),\n            Math.cos(a),\n            0,\n            0,\n            0,\n            0,\n            1,\n          ])\n        );\n      },\n      rotateY(a) {\n        return this.mult(\n          mat4([\n            Math.cos(a),\n            0,\n            -Math.sin(a),\n            0,\n            0,\n            1,\n            0,\n            0,\n            Math.sin(a),\n            0,\n            Math.cos(a),\n            0,\n            0,\n            0,\n            0,\n            1,\n          ])\n        );\n      },\n      rotateZ(a) {\n        return this.mult(\n          mat4([\n            Math.cos(a),\n            -Math.sin(a),\n            0,\n            0,\n            Math.sin(a),\n            Math.cos(a),\n            0,\n            0,\n            0,\n            0,\n            1,\n            0,\n            0,\n            0,\n            0,\n            1,\n          ])\n        );\n      },\n      invert() {\n        const out = [];\n        const f00 = this.m[10] * this.m[15] - this.m[14] * this.m[11];\n        const f01 = this.m[9] * this.m[15] - this.m[13] * this.m[11];\n        const f02 = this.m[9] * this.m[14] - this.m[13] * this.m[10];\n        const f03 = this.m[8] * this.m[15] - this.m[12] * this.m[11];\n        const f04 = this.m[8] * this.m[14] - this.m[12] * this.m[10];\n        const f05 = this.m[8] * this.m[13] - this.m[12] * this.m[9];\n        const f06 = this.m[6] * this.m[15] - this.m[14] * this.m[7];\n        const f07 = this.m[5] * this.m[15] - this.m[13] * this.m[7];\n        const f08 = this.m[5] * this.m[14] - this.m[13] * this.m[6];\n        const f09 = this.m[4] * this.m[15] - this.m[12] * this.m[7];\n        const f10 = this.m[4] * this.m[14] - this.m[12] * this.m[6];\n        const f11 = this.m[5] * this.m[15] - this.m[13] * this.m[7];\n        const f12 = this.m[4] * this.m[13] - this.m[12] * this.m[5];\n        const f13 = this.m[6] * this.m[11] - this.m[10] * this.m[7];\n        const f14 = this.m[5] * this.m[11] - this.m[9] * this.m[7];\n        const f15 = this.m[5] * this.m[10] - this.m[9] * this.m[6];\n        const f16 = this.m[4] * this.m[11] - this.m[8] * this.m[7];\n        const f17 = this.m[4] * this.m[10] - this.m[8] * this.m[6];\n        const f18 = this.m[4] * this.m[9] - this.m[8] * this.m[5];\n        out[0] = this.m[5] * f00 - this.m[6] * f01 + this.m[7] * f02;\n        out[4] = -(this.m[4] * f00 - this.m[6] * f03 + this.m[7] * f04);\n        out[8] = this.m[4] * f01 - this.m[5] * f03 + this.m[7] * f05;\n        out[12] = -(this.m[4] * f02 - this.m[5] * f04 + this.m[6] * f05);\n        out[1] = -(this.m[1] * f00 - this.m[2] * f01 + this.m[3] * f02);\n        out[5] = this.m[0] * f00 - this.m[2] * f03 + this.m[3] * f04;\n        out[9] = -(this.m[0] * f01 - this.m[1] * f03 + this.m[3] * f05);\n        out[13] = this.m[0] * f02 - this.m[1] * f04 + this.m[2] * f05;\n        out[2] = this.m[1] * f06 - this.m[2] * f07 + this.m[3] * f08;\n        out[6] = -(this.m[0] * f06 - this.m[2] * f09 + this.m[3] * f10);\n        out[10] = this.m[0] * f11 - this.m[1] * f09 + this.m[3] * f12;\n        out[14] = -(this.m[0] * f08 - this.m[1] * f10 + this.m[2] * f12);\n        out[3] = -(this.m[1] * f13 - this.m[2] * f14 + this.m[3] * f15);\n        out[7] = this.m[0] * f13 - this.m[2] * f16 + this.m[3] * f17;\n        out[11] = -(this.m[0] * f14 - this.m[1] * f16 + this.m[3] * f18);\n        out[15] = this.m[0] * f15 - this.m[1] * f17 + this.m[2] * f18;\n        const det =\n          this.m[0] * out[0] +\n          this.m[1] * out[4] +\n          this.m[2] * out[8] +\n          this.m[3] * out[12];\n        for (let i = 0; i < 4; i++) {\n          for (let j = 0; j < 4; j++) {\n            out[i * 4 + j] *= 1 / det;\n          }\n        }\n        return mat4(out);\n      },\n    };\n  }\n  function wave(lo, hi, t) {\n    return lo + ((Math.sin(t) + 1) / 2) * (hi - lo);\n  }\n  function makeRng(seed) {\n    return {\n      seed,\n      gen(...args) {\n        if (args.length === 0) {\n          this.seed = (A * this.seed + C) % M;\n          return this.seed / M;\n        }\n        if (args.length === 1) {\n          if (typeof args[0] === 'number') {\n            return this.gen(0, args[0]);\n          }\n          if (isVec2(args[0])) {\n            return this.gen(vec2(0, 0), args[0]);\n          }\n          if (isColor(args[0])) {\n            return this.gen(rgba(0, 0, 0, 0), args[0]);\n          }\n        } else if (args.length === 2) {\n          if (typeof args[0] === 'number' && typeof args[1] === 'number') {\n            return this.gen() * (args[1] - args[0]) + args[0];\n          }\n          if (isVec2(args[0]) && isVec2(args[1])) {\n            return vec2(\n              this.gen(args[0].x, args[1].x),\n              this.gen(args[0].y, args[1].y)\n            );\n          }\n          if (isColor(args[0]) && isColor(args[1])) {\n            return rgba(\n              this.gen(args[0].r, args[1].r),\n              this.gen(args[0].g, args[1].g),\n              this.gen(args[0].b, args[1].b),\n              this.gen(args[0].a, args[1].a)\n            );\n          }\n        }\n      },\n    };\n  }\n  function randSeed(seed) {\n    if (seed != null) {\n      defRNG.seed = seed;\n    }\n    return defRNG.seed;\n  }\n  function rand(...args) {\n    return defRNG.gen(...args);\n  }\n  function chance(p) {\n    return rand() <= p;\n  }\n  function choose(list) {\n    return list[Math.floor(rand(list.length))];\n  }\n  function colRectRect(r1, r2) {\n    return (\n      r1.p2.x >= r2.p1.x &&\n      r1.p1.x <= r2.p2.x &&\n      r1.p2.y >= r2.p1.y &&\n      r1.p1.y <= r2.p2.y\n    );\n  }\n  function overlapRectRect(r1, r2) {\n    return (\n      r1.p2.x > r2.p1.x &&\n      r1.p1.x < r2.p2.x &&\n      r1.p2.y > r2.p1.y &&\n      r1.p1.y < r2.p2.y\n    );\n  }\n  function colRectPt(r, pt) {\n    return pt.x >= r.p1.x && pt.x <= r.p2.x && pt.y >= r.p1.y && pt.y < r.p2.y;\n  }\n  let A;\n  let C;\n  let M;\n  let defRNG;\n  const init_math = __esm({\n    'src/math.ts': function () {\n      __name(deg2rad, 'deg2rad');\n      __name(rad2deg, 'rad2deg');\n      __name(clamp, 'clamp');\n      __name(lerp, 'lerp');\n      __name(map, 'map');\n      __name(mapc, 'mapc');\n      __name(vec2, 'vec2');\n      __name(vec2FromAngle, 'vec2FromAngle');\n      __name(vec3, 'vec3');\n      __name(isVec2, 'isVec2');\n      __name(isVec3, 'isVec3');\n      __name(isColor, 'isColor');\n      __name(isMat4, 'isMat4');\n      __name(rgb, 'rgb');\n      __name(rgba, 'rgba');\n      __name(quad, 'quad');\n      __name(mat4, 'mat4');\n      __name(wave, 'wave');\n      A = 1103515245;\n      C = 12345;\n      M = 2147483648;\n      defRNG = makeRng(Date.now());\n      __name(makeRng, 'makeRng');\n      __name(randSeed, 'randSeed');\n      __name(rand, 'rand');\n      __name(chance, 'chance');\n      __name(choose, 'choose');\n      __name(colRectRect, 'colRectRect');\n      __name(overlapRectRect, 'overlapRectRect');\n      __name(colRectPt, 'colRectPt');\n    },\n  });\n\n  // src/utils.ts\n  function deepEq(o1, o2) {\n    const t1 = typeof o1;\n    const t2 = typeof o2;\n    if (t1 !== t2) {\n      return false;\n    }\n    if (t1 === 'object' && t2 === 'object') {\n      const k1 = Object.keys(o1);\n      const k2 = Object.keys(o2);\n      if (k1.length !== k2.length) {\n        return false;\n      }\n      for (const k of k1) {\n        const v1 = o1[k];\n        const v2 = o2[k];\n        if (!(typeof v1 === 'function' && typeof v2 === 'function')) {\n          if (!deepEq(v1, v2)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return o1 === o2;\n  }\n  const init_utils = __esm({\n    'src/utils.ts': function () {\n      __name(deepEq, 'deepEq');\n    },\n  });\n\n  // src/gfx.ts\n  function originPt(orig) {\n    switch (orig) {\n      case 'topleft':\n        return vec2(-1, -1);\n      case 'top':\n        return vec2(0, -1);\n      case 'topright':\n        return vec2(1, -1);\n      case 'left':\n        return vec2(-1, 0);\n      case 'center':\n        return vec2(0, 0);\n      case 'right':\n        return vec2(1, 0);\n      case 'botleft':\n        return vec2(-1, 1);\n      case 'bot':\n        return vec2(0, 1);\n      case 'botright':\n        return vec2(1, 1);\n      default:\n        return orig;\n    }\n  }\n  function gfxInit(gl, gconf) {\n    const texFilter = (() => {\n      switch (gconf.texFilter) {\n        case 'linear':\n          return gl.LINEAR;\n        case 'nearest':\n          return gl.NEAREST;\n        default:\n          return gl.NEAREST;\n      }\n    })();\n    const gfx = (() => {\n      const defProg = makeProgram(DEF_VERT, DEF_FRAG);\n      const emptyTex = makeTex(\n        new ImageData(new Uint8ClampedArray([255, 255, 255, 255]), 1, 1)\n      );\n      const c = gconf.clearColor ?? rgba(0, 0, 0, 1);\n      gl.clearColor(c.r, c.g, c.b, c.a);\n      gl.enable(gl.BLEND);\n      gl.blendFuncSeparate(\n        gl.SRC_ALPHA,\n        gl.ONE_MINUS_SRC_ALPHA,\n        gl.ONE,\n        gl.ONE_MINUS_SRC_ALPHA\n      );\n      const vbuf = gl.createBuffer();\n      gl.bindBuffer(gl.ARRAY_BUFFER, vbuf);\n      gl.bufferData(gl.ARRAY_BUFFER, QUEUE_COUNT * 4, gl.DYNAMIC_DRAW);\n      gl.bindBuffer(gl.ARRAY_BUFFER, null);\n      const ibuf = gl.createBuffer();\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf);\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, QUEUE_COUNT * 2, gl.DYNAMIC_DRAW);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n      const bgTex = makeTex(\n        new ImageData(\n          new Uint8ClampedArray([\n            128, 128, 128, 255, 190, 190, 190, 255, 190, 190, 190, 255, 128,\n            128, 128, 255,\n          ]),\n          2,\n          2\n        )\n      );\n      return {\n        drawCalls: 0,\n        lastDrawCalls: 0,\n        defProg,\n        curProg: defProg,\n        defTex: emptyTex,\n        curTex: emptyTex,\n        curUniform: {},\n        vbuf,\n        ibuf,\n        vqueue: [],\n        iqueue: [],\n        transform: mat4(),\n        transformStack: [],\n        clearColor: c,\n        bgTex,\n      };\n    })();\n    frameStart();\n    frameEnd();\n    function powerOfTwo(n) {\n      return (Math.log(n) / Math.log(2)) % 1 === 0;\n    }\n    __name(powerOfTwo, 'powerOfTwo');\n    function makeTex(data) {\n      const id = gl.createTexture();\n      gl.bindTexture(gl.TEXTURE_2D, id);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, texFilter);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, texFilter);\n      const wrap = (() => {\n        if (powerOfTwo(data.width) && powerOfTwo(data.height)) {\n          return gl.REPEAT;\n        }\n        return gl.CLAMP_TO_EDGE;\n      })();\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrap);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrap);\n      gl.bindTexture(gl.TEXTURE_2D, null);\n      return {\n        width: data.width,\n        height: data.height,\n        bind() {\n          gl.bindTexture(gl.TEXTURE_2D, id);\n        },\n        unbind() {\n          gl.bindTexture(gl.TEXTURE_2D, null);\n        },\n      };\n    }\n    __name(makeTex, 'makeTex');\n    function makeProgram(vertSrc = DEF_VERT, fragSrc = DEF_FRAG) {\n      let msg;\n      const vcode = VERT_TEMPLATE.replace('{{user}}', vertSrc ?? DEF_VERT);\n      const fcode = FRAG_TEMPLATE.replace('{{user}}', fragSrc ?? DEF_FRAG);\n      const vertShader = gl.createShader(gl.VERTEX_SHADER);\n      const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n      gl.shaderSource(vertShader, vcode);\n      gl.shaderSource(fragShader, fcode);\n      gl.compileShader(vertShader);\n      gl.compileShader(fragShader);\n      if ((msg = gl.getShaderInfoLog(vertShader))) {\n        throw new Error(msg);\n      }\n      if ((msg = gl.getShaderInfoLog(fragShader))) {\n        throw new Error(msg);\n      }\n      const id = gl.createProgram();\n      gl.attachShader(id, vertShader);\n      gl.attachShader(id, fragShader);\n      gl.bindAttribLocation(id, 0, 'a_pos');\n      gl.bindAttribLocation(id, 1, 'a_uv');\n      gl.bindAttribLocation(id, 2, 'a_color');\n      gl.linkProgram(id);\n      if ((msg = gl.getProgramInfoLog(id))) {\n        if (msg !== '\\n') {\n          throw new Error(msg);\n        }\n      }\n      return {\n        bind() {\n          gl.useProgram(id);\n        },\n        unbind() {\n          gl.useProgram(null);\n        },\n        bindAttribs() {\n          gl.vertexAttribPointer(0, 3, gl.FLOAT, false, STRIDE * 4, 0);\n          gl.enableVertexAttribArray(0);\n          gl.vertexAttribPointer(1, 2, gl.FLOAT, false, STRIDE * 4, 12);\n          gl.enableVertexAttribArray(1);\n          gl.vertexAttribPointer(2, 4, gl.FLOAT, false, STRIDE * 4, 20);\n          gl.enableVertexAttribArray(2);\n        },\n        send(uniform) {\n          this.bind();\n          for (const name in uniform) {\n            const val = uniform[name];\n            const loc = gl.getUniformLocation(id, name);\n            if (typeof val === 'number') {\n              gl.uniform1f(loc, val);\n            } else if (isMat4(val)) {\n              gl.uniformMatrix4fv(loc, false, new Float32Array(val.m));\n            } else if (isColor(val)) {\n              gl.uniform4f(loc, val.r, val.g, val.b, val.a);\n            } else if (isVec3(val)) {\n              gl.uniform3f(loc, val.x, val.y, val.z);\n            } else if (isVec2(val)) {\n              gl.uniform2f(loc, val.x, val.y);\n            }\n          }\n          this.unbind();\n        },\n      };\n    }\n    __name(makeProgram, 'makeProgram');\n    function makeFont(tex, gw, gh, chars) {\n      const cols = tex.width / gw;\n      const rows = tex.height / gh;\n      const qw = 1 / cols;\n      const qh = 1 / rows;\n      const map2 = {};\n      const charMap = chars.split('').entries();\n      for (const [i, ch] of charMap) {\n        map2[ch] = vec2((i % cols) * qw, Math.floor(i / cols) * qh);\n      }\n      return {\n        tex,\n        map: map2,\n        qw,\n        qh,\n      };\n    }\n    __name(makeFont, 'makeFont');\n    function drawRaw(\n      verts,\n      indices,\n      tex = gfx.defTex,\n      prog = gfx.defProg,\n      uniform = {}\n    ) {\n      tex = tex ?? gfx.defTex;\n      prog = prog ?? gfx.defProg;\n      if (\n        tex !== gfx.curTex ||\n        prog !== gfx.curProg ||\n        !deepEq(gfx.curUniform, uniform) ||\n        gfx.vqueue.length + verts.length * STRIDE > QUEUE_COUNT ||\n        gfx.iqueue.length + indices.length > QUEUE_COUNT\n      ) {\n        flush();\n      }\n      gfx.curTex = tex;\n      gfx.curProg = prog;\n      gfx.curUniform = uniform;\n      const nIndices = indices.map(i => {\n        return i + gfx.vqueue.length / STRIDE;\n      });\n      const nVerts = verts\n        .map(v => {\n          const pt = toNDC(gfx.transform.multVec2(v.pos.xy()));\n          return [\n            pt.x,\n            pt.y,\n            v.pos.z,\n            v.uv.x,\n            v.uv.y,\n            v.color.r,\n            v.color.g,\n            v.color.b,\n            v.color.a,\n          ];\n        })\n        .flat();\n      nIndices.forEach(i => gfx.iqueue.push(i));\n      nVerts.forEach(v => gfx.vqueue.push(v));\n    }\n    __name(drawRaw, 'drawRaw');\n    function flush() {\n      if (\n        !gfx.curTex ||\n        !gfx.curProg ||\n        gfx.vqueue.length === 0 ||\n        gfx.iqueue.length === 0\n      ) {\n        return;\n      }\n      gfx.curProg.send(gfx.curUniform);\n      gl.bindBuffer(gl.ARRAY_BUFFER, gfx.vbuf);\n      gl.bufferSubData(gl.ARRAY_BUFFER, 0, new Float32Array(gfx.vqueue));\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gfx.ibuf);\n      gl.bufferSubData(gl.ELEMENT_ARRAY_BUFFER, 0, new Uint16Array(gfx.iqueue));\n      gfx.curProg.bind();\n      gfx.curProg.bindAttribs();\n      gfx.curTex.bind();\n      gl.drawElements(gl.TRIANGLES, gfx.iqueue.length, gl.UNSIGNED_SHORT, 0);\n      gfx.curTex.unbind();\n      gfx.curProg.unbind();\n      gl.bindBuffer(gl.ARRAY_BUFFER, null);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n      gfx.iqueue = [];\n      gfx.vqueue = [];\n      gfx.drawCalls++;\n    }\n    __name(flush, 'flush');\n    function frameStart() {\n      gl.clear(gl.COLOR_BUFFER_BIT);\n      if (!gconf.clearColor) {\n        drawQuad({\n          width: width(),\n          height: height(),\n          quad: quad(\n            0,\n            0,\n            (width() * scale()) / BG_GRID_SIZE,\n            (height() * scale()) / BG_GRID_SIZE\n          ),\n          tex: gfx.bgTex,\n        });\n      }\n      gfx.drawCalls = 0;\n      gfx.transformStack = [];\n      gfx.transform = mat4();\n    }\n    __name(frameStart, 'frameStart');\n    function frameEnd() {\n      flush();\n      gfx.lastDrawCalls = gfx.drawCalls;\n    }\n    __name(frameEnd, 'frameEnd');\n    function drawCalls() {\n      return gfx.lastDrawCalls;\n    }\n    __name(drawCalls, 'drawCalls');\n    function toNDC(pt) {\n      return vec2((pt.x / width()) * 2 - 1, (-pt.y / height()) * 2 + 1);\n    }\n    __name(toNDC, 'toNDC');\n    function pushMatrix(m) {\n      gfx.transform = m.clone();\n    }\n    __name(pushMatrix, 'pushMatrix');\n    function pushTranslate(p) {\n      if (!p || (p.x === 0 && p.y === 0)) {\n        return;\n      }\n      gfx.transform = gfx.transform.translate(p);\n    }\n    __name(pushTranslate, 'pushTranslate');\n    function pushScale(p) {\n      if (!p || (p.x === 1 && p.y === 1)) {\n        return;\n      }\n      gfx.transform = gfx.transform.scale(p);\n    }\n    __name(pushScale, 'pushScale');\n    function pushRotateX(a) {\n      if (!a) {\n        return;\n      }\n      gfx.transform = gfx.transform.rotateX(a);\n    }\n    __name(pushRotateX, 'pushRotateX');\n    function pushRotateY(a) {\n      if (!a) {\n        return;\n      }\n      gfx.transform = gfx.transform.rotateY(a);\n    }\n    __name(pushRotateY, 'pushRotateY');\n    function pushRotateZ(a) {\n      if (!a) {\n        return;\n      }\n      gfx.transform = gfx.transform.rotateZ(a);\n    }\n    __name(pushRotateZ, 'pushRotateZ');\n    function pushTransform() {\n      gfx.transformStack.push(gfx.transform.clone());\n    }\n    __name(pushTransform, 'pushTransform');\n    function popTransform() {\n      if (gfx.transformStack.length > 0) {\n        gfx.transform = gfx.transformStack.pop();\n      }\n    }\n    __name(popTransform, 'popTransform');\n    function drawQuad(conf = {}) {\n      const w = conf.width || 0;\n      const h = conf.height || 0;\n      const pos = conf.pos || vec2(0, 0);\n      const origin = originPt(conf.origin || DEF_ORIGIN);\n      const offset = origin.scale(vec2(w, h).scale(-0.5));\n      const scale2 = vec2(conf.scale ?? 1);\n      const rot = conf.rot || 0;\n      const q = conf.quad || quad(0, 0, 1, 1);\n      const z = 1 - (conf.z ?? 0);\n      const color = conf.color || rgba(1, 1, 1, 1);\n      pushTransform();\n      pushTranslate(pos);\n      pushRotateZ(rot);\n      pushScale(scale2);\n      pushTranslate(offset);\n      drawRaw(\n        [\n          {\n            pos: vec3(-w / 2, h / 2, z),\n            uv: vec2(\n              conf.flipX ? q.x + q.w : q.x,\n              conf.flipY ? q.y : q.y + q.h\n            ),\n            color,\n          },\n          {\n            pos: vec3(-w / 2, -h / 2, z),\n            uv: vec2(\n              conf.flipX ? q.x + q.w : q.x,\n              conf.flipY ? q.y + q.h : q.y\n            ),\n            color,\n          },\n          {\n            pos: vec3(w / 2, -h / 2, z),\n            uv: vec2(\n              conf.flipX ? q.x : q.x + q.w,\n              conf.flipY ? q.y + q.h : q.y\n            ),\n            color,\n          },\n          {\n            pos: vec3(w / 2, h / 2, z),\n            uv: vec2(\n              conf.flipX ? q.x : q.x + q.w,\n              conf.flipY ? q.y : q.y + q.h\n            ),\n            color,\n          },\n        ],\n        [0, 1, 3, 1, 2, 3],\n        conf.tex,\n        conf.prog,\n        conf.uniform\n      );\n      popTransform();\n    }\n    __name(drawQuad, 'drawQuad');\n    function drawTexture(tex, conf = {}) {\n      const q = conf.quad ?? quad(0, 0, 1, 1);\n      const w = tex.width * q.w;\n      const h = tex.height * q.h;\n      const scale2 = vec2(1);\n      if (conf.tiled) {\n        const repX = Math.ceil((conf.width || w) / w);\n        const repY = Math.ceil((conf.height || h) / h);\n        const origin = originPt(conf.origin || DEF_ORIGIN)\n          .add(vec2(1, 1))\n          .scale(0.5);\n        const offset = origin.scale(repX * w, repY * h);\n        for (let i = 0; i < repX; i++) {\n          for (let j = 0; j < repY; j++) {\n            drawQuad({\n              ...conf,\n              pos: (conf.pos || vec2(0)).add(vec2(w * i, h * j)).sub(offset),\n              scale: scale2.scale(conf.scale || vec2(1)),\n              tex,\n              quad: q,\n              width: w,\n              height: h,\n              origin: 'topleft',\n            });\n          }\n        }\n      } else {\n        if (conf.width && conf.height) {\n          scale2.x = conf.width / w;\n          scale2.y = conf.height / h;\n        } else if (conf.width) {\n          scale2.x = conf.width / w;\n          scale2.y = scale2.x;\n        } else if (conf.height) {\n          scale2.y = conf.height / h;\n          scale2.x = scale2.y;\n        }\n        drawQuad({\n          ...conf,\n          scale: scale2.scale(conf.scale || vec2(1)),\n          tex,\n          quad: q,\n          width: w,\n          height: h,\n        });\n      }\n    }\n    __name(drawTexture, 'drawTexture');\n    function drawRect(pos, w, h, conf = {}) {\n      drawQuad({\n        ...conf,\n        pos,\n        width: w,\n        height: h,\n      });\n    }\n    __name(drawRect, 'drawRect');\n    function drawRectStroke(pos, w, h, conf = {}) {\n      const offset = originPt(conf.origin || DEF_ORIGIN)\n        .scale(vec2(w, h))\n        .scale(0.5);\n      const p1 = pos.add(vec2(-w / 2, -h / 2)).sub(offset);\n      const p2 = pos.add(vec2(-w / 2, h / 2)).sub(offset);\n      const p3 = pos.add(vec2(w / 2, h / 2)).sub(offset);\n      const p4 = pos.add(vec2(w / 2, -h / 2)).sub(offset);\n      drawLine(p1, p2, conf);\n      drawLine(p2, p3, conf);\n      drawLine(p3, p4, conf);\n      drawLine(p4, p1, conf);\n    }\n    __name(drawRectStroke, 'drawRectStroke');\n    function drawLine(p1, p2, conf = {}) {\n      const w = conf.width || 1;\n      const h = p1.dist(p2);\n      const rot = Math.PI / 2 - p1.angle(p2);\n      drawQuad({\n        ...conf,\n        pos: p1.add(p2).scale(0.5),\n        width: w,\n        height: h,\n        rot,\n        origin: 'center',\n      });\n    }\n    __name(drawLine, 'drawLine');\n    function drawTri(p1, p2, p3, conf = {}) {\n      const { z } = conf;\n      const color = conf.color || rgb(1, 1, 1);\n      drawRaw(\n        [\n          {\n            pos: vec3(p1.x, p1.y, z),\n            uv: vec2(0, 0),\n            color,\n          },\n          {\n            pos: vec3(p2.x, p2.y, z),\n            uv: vec2(0, 0),\n            color,\n          },\n          {\n            pos: vec3(p3.x, p3.y, z),\n            uv: vec2(0, 0),\n            color,\n          },\n        ],\n        [0, 1, 2],\n        gfx.defTex,\n        conf.prog,\n        conf.uniform\n      );\n    }\n    __name(drawTri, 'drawTri');\n    function fmtText(text, font, conf = {}) {\n      const chars = `${text}`.split('');\n      const gw = font.qw * font.tex.width;\n      const gh = font.qh * font.tex.height;\n      const size = conf.size || gh;\n      const scale2 = vec2(size / gh).scale(vec2(conf.scale || 1));\n      const cw = scale2.x * gw;\n      const ch = scale2.y * gh;\n      let curX = 0;\n      let th = ch;\n      let tw = 0;\n      const flines = [];\n      let curLine = [];\n      let lastSpace = null;\n      let cursor = 0;\n      while (cursor < chars.length) {\n        let char = chars[cursor];\n        if (char === '\\n') {\n          th += ch;\n          curX = 0;\n          lastSpace = null;\n          flines.push(curLine);\n          curLine = [];\n        } else if (conf.width ? curX + cw > conf.width : false) {\n          th += ch;\n          curX = 0;\n          if (lastSpace != null) {\n            cursor -= curLine.length - lastSpace;\n            char = chars[cursor];\n            curLine = curLine.slice(0, lastSpace);\n          }\n          lastSpace = null;\n          flines.push(curLine);\n          curLine = [];\n        }\n        if (char !== '\\n') {\n          curLine.push(char);\n          curX += cw;\n          if (char === ' ') {\n            lastSpace = curLine.length;\n          }\n        }\n        tw = Math.max(tw, curX);\n        cursor++;\n      }\n      flines.push(curLine);\n      if (conf.width) {\n        tw = conf.width;\n      }\n      const fchars = [];\n      const pos = vec2(conf.pos || 0);\n      const offset = originPt(conf.origin || DEF_ORIGIN).scale(0.5);\n      const ox = -offset.x * cw - (offset.x + 0.5) * (tw - cw);\n      const oy = -offset.y * ch - (offset.y + 0.5) * (th - ch);\n      flines.forEach((line, ln) => {\n        const oxl = (tw - line.length * cw) * (offset.x + 0.5);\n        line.forEach((char, cn) => {\n          const qpos = font.map[char];\n          const x = cn * cw;\n          const y = ln * ch;\n          if (qpos) {\n            fchars.push({\n              tex: font.tex,\n              quad: quad(qpos.x, qpos.y, font.qw, font.qh),\n              ch: char,\n              pos: vec2(pos.x + x + ox + oxl, pos.y + y + oy),\n              color: conf.color,\n              origin: conf.origin,\n              scale: scale2,\n              z: conf.z,\n            });\n          }\n        });\n      });\n      return {\n        width: tw,\n        height: th,\n        chars: fchars,\n      };\n    }\n    __name(fmtText, 'fmtText');\n    function drawText(txt, font, conf = {}) {\n      drawFmtText(fmtText(txt, font, conf));\n    }\n    __name(drawText, 'drawText');\n    function drawFmtText(ftext) {\n      for (const ch of ftext.chars) {\n        drawQuad({\n          tex: ch.tex,\n          width: ch.tex.width * ch.quad.w,\n          height: ch.tex.height * ch.quad.h,\n          pos: ch.pos,\n          scale: ch.scale,\n          color: ch.color,\n          quad: ch.quad,\n          origin: 'center',\n          z: ch.z,\n        });\n      }\n    }\n    __name(drawFmtText, 'drawFmtText');\n    function width() {\n      return gl.drawingBufferWidth / scale();\n    }\n    __name(width, 'width');\n    function height() {\n      return gl.drawingBufferHeight / scale();\n    }\n    __name(height, 'height');\n    function scale() {\n      return gconf.scale ?? 1;\n    }\n    __name(scale, 'scale');\n    function clearColor() {\n      return gfx.clearColor.clone();\n    }\n    __name(clearColor, 'clearColor');\n    return {\n      width,\n      height,\n      scale,\n      makeTex,\n      makeProgram,\n      makeFont,\n      drawTexture,\n      drawText,\n      drawFmtText,\n      drawRect,\n      drawRectStroke,\n      drawLine,\n      drawTri,\n      fmtText,\n      frameStart,\n      frameEnd,\n      pushTransform,\n      popTransform,\n      pushMatrix,\n      drawCalls,\n      clearColor,\n    };\n  }\n  let DEF_ORIGIN;\n  let STRIDE;\n  let QUEUE_COUNT;\n  let BG_GRID_SIZE;\n  let VERT_TEMPLATE;\n  let FRAG_TEMPLATE;\n  let DEF_VERT;\n  let DEF_FRAG;\n  const init_gfx = __esm({\n    'src/gfx.ts': function () {\n      init_math();\n      init_utils();\n      DEF_ORIGIN = 'topleft';\n      STRIDE = 9;\n      QUEUE_COUNT = 65536;\n      BG_GRID_SIZE = 64;\n      VERT_TEMPLATE = `\nattribute vec3 a_pos;\nattribute vec2 a_uv;\nattribute vec4 a_color;\n\nvarying vec3 v_pos;\nvarying vec2 v_uv;\nvarying vec4 v_color;\n\nvec4 def_vert() {\n\treturn vec4(a_pos, 1.0);\n}\n\n{{user}}\n\nvoid main() {\n\tvec4 pos = vert(a_pos, a_uv, a_color);\n\tv_pos = a_pos;\n\tv_uv = a_uv;\n\tv_color = a_color;\n\tgl_Position = pos;\n}\n`;\n      FRAG_TEMPLATE = `\nprecision mediump float;\n\nvarying vec3 v_pos;\nvarying vec2 v_uv;\nvarying vec4 v_color;\n\nuniform sampler2D u_tex;\n\nvec4 def_frag() {\n\treturn v_color * texture2D(u_tex, v_uv);\n}\n\n{{user}}\n\nvoid main() {\n\tgl_FragColor = frag(v_pos, v_uv, v_color, u_tex);\n\tif (gl_FragColor.a == 0.0) {\n\t\tdiscard;\n\t}\n}\n`;\n      DEF_VERT = `\nvec4 vert(vec3 pos, vec2 uv, vec4 color) {\n\treturn def_vert();\n}\n`;\n      DEF_FRAG = `\nvec4 frag(vec3 pos, vec2 uv, vec4 color, sampler2D tex) {\n\treturn def_frag();\n}\n`;\n      __name(originPt, 'originPt');\n      __name(gfxInit, 'gfxInit');\n    },\n  });\n\n  // src/app.ts\n  function processBtnState(s) {\n    if (s === 'pressed' || s === 'rpressed') {\n      return 'down';\n    }\n    if (s === 'released') {\n      return 'up';\n    }\n    return s;\n  }\n  function appInit(gconf = {}) {\n    const app = {\n      canvas:\n        gconf.canvas ??\n        (() => {\n          const canvas = document.createElement('canvas');\n          (gconf.root ?? document.body).appendChild(canvas);\n          return canvas;\n        })(),\n      keyStates: {},\n      charInputted: [],\n      mouseMoved: false,\n      mouseState: 'up',\n      mousePos: vec2(0, 0),\n      time: 0,\n      realTime: 0,\n      skipTime: false,\n      dt: 0,\n      scale: gconf.scale ?? 1,\n      isTouch: false,\n      loopID: null,\n      stopped: false,\n      fps: 0,\n      fpsBuf: [],\n      fpsTimer: 0,\n    };\n    const keyMap = {\n      ArrowLeft: 'left',\n      ArrowRight: 'right',\n      ArrowUp: 'up',\n      ArrowDown: 'down',\n      ' ': 'space',\n    };\n    const preventDefaultKeys = [\n      'space',\n      'left',\n      'right',\n      'up',\n      'down',\n      'tab',\n      'f1',\n      'f2',\n      'f3',\n      'f4',\n      'f5',\n      'f6',\n      'f7',\n      'f8',\n      'f9',\n      'f10',\n      'f11',\n    ];\n    if (gconf.fullscreen) {\n      app.canvas.width = window.innerWidth;\n      app.canvas.height = window.innerHeight;\n    } else {\n      app.canvas.width = (gconf.width || 640) * app.scale;\n      app.canvas.height = (gconf.height || 480) * app.scale;\n    }\n    const styles = ['outline: none', 'cursor: default'];\n    if (gconf.crisp) {\n      styles.push('image-rendering: pixelated');\n      styles.push('image-rendering: crisp-edges');\n    }\n    app.canvas.style = styles.join(';');\n    app.canvas.setAttribute('tabindex', '0');\n    const gl = app.canvas.getContext('webgl', {\n      antialias: true,\n      depth: true,\n      stencil: true,\n      alpha: true,\n      preserveDrawingBuffer: true,\n    });\n    app.isTouch =\n      'ontouchstart' in window ||\n      navigator.maxTouchPoints > 0 ||\n      navigator.msMaxTouchPoints > 0;\n    app.canvas.addEventListener('mousemove', e => {\n      app.mousePos = vec2(e.offsetX, e.offsetY).scale(1 / app.scale);\n      app.mouseMoved = true;\n    });\n    app.canvas.addEventListener('mousedown', () => {\n      app.mouseState = 'pressed';\n    });\n    app.canvas.addEventListener('mouseup', () => {\n      app.mouseState = 'released';\n    });\n    app.canvas.addEventListener('touchstart', e => {\n      if (!gconf.touchToMouse) return;\n      e.preventDefault();\n      const t = e.touches[0];\n      app.mousePos = vec2(t.clientX, t.clientY).scale(1 / app.scale);\n      app.mouseState = 'pressed';\n    });\n    app.canvas.addEventListener('touchmove', e => {\n      if (!gconf.touchToMouse) return;\n      e.preventDefault();\n      const t = e.touches[0];\n      app.mousePos = vec2(t.clientX, t.clientY).scale(1 / app.scale);\n      app.mouseMoved = true;\n    });\n    app.canvas.addEventListener('touchend', e => {\n      if (!gconf.touchToMouse) return;\n      app.mouseState = 'released';\n    });\n    app.canvas.addEventListener('touchcancel', e => {\n      if (!gconf.touchToMouse) return;\n      app.mouseState = 'released';\n    });\n    app.canvas.addEventListener('keydown', e => {\n      const k = keyMap[e.key] || e.key.toLowerCase();\n      if (preventDefaultKeys.includes(k)) {\n        e.preventDefault();\n      }\n      if (k.length === 1) {\n        app.charInputted.push(k);\n      }\n      if (k === 'space') {\n        app.charInputted.push(' ');\n      }\n      if (e.repeat) {\n        app.keyStates[k] = 'rpressed';\n      } else {\n        app.keyStates[k] = 'pressed';\n      }\n    });\n    app.canvas.addEventListener('keyup', e => {\n      const k = keyMap[e.key] || e.key.toLowerCase();\n      app.keyStates[k] = 'released';\n    });\n    app.canvas.focus();\n    document.addEventListener('visibilitychange', () => {\n      switch (document.visibilityState) {\n        case 'visible':\n          app.skipTime = true;\n          break;\n        case 'hidden':\n          break;\n      }\n    });\n    function mousePos() {\n      return app.mousePos.clone();\n    }\n    __name(mousePos, 'mousePos');\n    function mouseClicked() {\n      return app.mouseState === 'pressed';\n    }\n    __name(mouseClicked, 'mouseClicked');\n    function mouseDown() {\n      return app.mouseState === 'pressed' || app.mouseState === 'down';\n    }\n    __name(mouseDown, 'mouseDown');\n    function mouseReleased() {\n      return app.mouseState === 'released';\n    }\n    __name(mouseReleased, 'mouseReleased');\n    function mouseMoved() {\n      return app.mouseMoved;\n    }\n    __name(mouseMoved, 'mouseMoved');\n    function keyPressed(k) {\n      return app.keyStates[k] === 'pressed';\n    }\n    __name(keyPressed, 'keyPressed');\n    function keyPressedRep(k) {\n      return app.keyStates[k] === 'pressed' || app.keyStates[k] === 'rpressed';\n    }\n    __name(keyPressedRep, 'keyPressedRep');\n    function keyDown(k) {\n      return (\n        app.keyStates[k] === 'pressed' ||\n        app.keyStates[k] === 'rpressed' ||\n        app.keyStates[k] === 'down'\n      );\n    }\n    __name(keyDown, 'keyDown');\n    function keyReleased(k) {\n      return app.keyStates[k] === 'released';\n    }\n    __name(keyReleased, 'keyReleased');\n    function charInputted() {\n      return [...app.charInputted];\n    }\n    __name(charInputted, 'charInputted');\n    function dt() {\n      return app.dt;\n    }\n    __name(dt, 'dt');\n    function time() {\n      return app.time;\n    }\n    __name(time, 'time');\n    function fps() {\n      return app.fps;\n    }\n    __name(fps, 'fps');\n    function screenshot() {\n      return app.canvas.toDataURL();\n    }\n    __name(screenshot, 'screenshot');\n    function cursor(c) {\n      if (c) {\n        app.canvas.style.cursor = c ?? 'default';\n      }\n      return app.canvas.style.cursor;\n    }\n    __name(cursor, 'cursor');\n    function run(f) {\n      const frame = /* @__PURE__ */ __name(t => {\n        const realTime = t / 1e3;\n        const realDt = realTime - app.realTime;\n        app.realTime = realTime;\n        if (!app.skipTime) {\n          app.dt = realDt;\n          app.time += app.dt;\n          app.fpsBuf.push(1 / app.dt);\n          app.fpsTimer += app.dt;\n          if (app.fpsTimer >= 1) {\n            app.fpsTimer = 0;\n            app.fps = Math.round(\n              app.fpsBuf.reduce((a, b) => a + b) / app.fpsBuf.length\n            );\n            app.fpsBuf = [];\n          }\n        }\n        app.skipTime = false;\n        f();\n        for (const k in app.keyStates) {\n          app.keyStates[k] = processBtnState(app.keyStates[k]);\n        }\n        app.mouseState = processBtnState(app.mouseState);\n        app.charInputted = [];\n        app.mouseMoved = false;\n        if (!app.stopped) {\n          app.loopID = requestAnimationFrame(frame);\n        }\n      }, 'frame');\n      app.loopID = requestAnimationFrame(frame);\n    }\n    __name(run, 'run');\n    function quit() {\n      cancelAnimationFrame(app.loopID);\n      app.stopped = true;\n    }\n    __name(quit, 'quit');\n    return {\n      gl,\n      mousePos,\n      keyDown,\n      keyPressed,\n      keyPressedRep,\n      keyReleased,\n      mouseDown,\n      mouseClicked,\n      mouseReleased,\n      mouseMoved,\n      charInputted,\n      cursor,\n      dt,\n      time,\n      fps,\n      screenshot,\n      run,\n      quit,\n      focused: () => document.activeElement === app.canvas,\n      focus: () => app.canvas.focus(),\n      canvas: () => app.canvas,\n      isTouch: () => app.isTouch,\n    };\n  }\n  const init_app = __esm({\n    'src/app.ts': function () {\n      init_math();\n      __name(processBtnState, 'processBtnState');\n      __name(appInit, 'appInit');\n    },\n  });\n\n  // src/assets/burp.mp3\n  let burp_default;\n  const init_burp = __esm({\n    'src/assets/burp.mp3': function () {\n      burp_default = __toBinary(\n        'SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAASAAAeMwAUFBQUFCIiIiIiIjAwMDAwPj4+Pj4+TExMTExZWVlZWVlnZ2dnZ3V1dXV1dYODg4ODkZGRkZGRn5+fn5+frKysrKy6urq6urrIyMjIyNbW1tbW1uTk5OTk8vLy8vLy//////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAQKAAAAAAAAHjOZTf9/AAAAAAAAAAAAAAAAAAAAAP/7kGQAAANUMEoFPeACNQV40KEYABEY41g5vAAA9RjpZxRwAImU+W8eshaFpAQgALAAYALATx/nYDYCMJ0HITQYYA7AH4c7MoGsnCMU5pnW+OQnBcDrQ9Xx7w37/D+PimYavV8elKUpT5fqx5VjV6vZ38eJR48eRKa9KUp7v396UgPHkQwMAAAAAA//8MAOp39CECAAhlIEEIIECBAgTT1oj///tEQYT0wgEIYxgDC09aIiE7u7u7uIiIz+LtoIQGE/+XAGYLjpTAIOGYYy0ZACgDgSNFxC7YYiINocwERjAEDhIy0mRoGwAE7lOTBsGhj1qrXNCU9GrgwSPr80jj0dIpT9DRUNHKJbRxiWSiifVHuD2b0EbjLkOUzSXztP3uE1JpHzV6NPq+f3P5T0/f/lNH7lWTavQ5Xz1yLVe653///qf93B7f/vMdaKJAAJAMAIwIMAHMpzDkoYwD8CR717zVb8/p54P3MikXGCEWhQOEAOAdP6v8b8oNL/EzdnROC8Zo+z+71O8VVAGIKFEglKbidkoLam0mAFiwo0ZoVExf/7kmQLgAQyZFxvPWAENcVKXeK0ABAk2WFMaSNIzBMptBYfArbkZgpWjEQpcmjxQoG2qREWQcvpzuuIm29THt3ElhDNlrXV///XTGbm7Kbx0ymcRX///x7GVvquf5vk/dPs0Wi5Td1vggDxqbNII4bAPTU3Ix5h9FJTe7zv1LHG/uPsPrvth0ejchVzVT3giirs6sQAACgQAAIAdaXbRAYra/2t0//3HwqLKIlBOJhOg4BzAOkt+MOL6H8nlNvKyi3rOnqP//zf6AATwBAKIcHKixxwjl1TjDVIrvTqdmKQOFQBUBDwZ1EhHlDEGEVyGQWBAHrcJgRSXYbkvHK/8/6rbYjs4Qj0C8mRy2hwRv/82opGT55fROgRoBTjanaiQiMRHUu1/P3V9yGFffaVv78U1/6l/kpo0cz73vuSv/9GeaqDVRA5bWdHRKQKIEAAAAoIktKeEmdQFKN5sguv/ZSC0oxCAR7CzcJgEsd8cA0M/x0tzv15E7//5L5KCqoIAAmBFIKM1UxYtMMFjLKESTE8lhaelUyCBYeA2IN4rK1iDt//+5JkEgAkZzlVq29D8DJDWo0YLLARwPFZrL0PyLsUazTAlpI+hKSx01VSOfbjXg0iW9/jVPDleLJ15QQA4Okdc5ByMDFIeuCCE5CvevwBGH8YibiX9FtaIIgUikF42wrZw6ZJ6WlHrA+Ki5++NNMeYH1lEkwwJAIJB4ugVFguXFc20Vd/FLlvq1GSiSwAFABABABA47k6BFeNvxEQZO9v3L1IE4iEVElfrXmEmlyWIyGslFA55gH/sW7////o9AAFIBIIAAIUMzYTTNkgsAmYObfwQyzplrOmYvq0BKCKNN+nUTbvD7cJzvHxrEWG5QqvP8U1vFx6CwE8NoRc2ADBeEb/HoXh60N7ST8nw9QiiGoYvf/r6GtC9+vLwXHjaSkIp3iupC5+Nii81Zhu85pNYbFvrf+UFThDOYYY26off+W6b//73GTiN9xDfl0AAwBAiMBO8qsDBPOZtuT/dTbjVVbY/KSGH6ppHwKv/6X+s8gUCN/lODzv////GQAGAMQAADlXAUCBJiY0wFQZusYQOaQzaTwDBTcx0IvVp8m7uxKp//uSZBMCBHRI1eNPLHAyxNqWGeoYUIEnWYyxD8DUFSn0l6iojcd+oEOkzV6uWqyHNzjqmv+7V5xGUfY9yEmbziTzjRscm9OqFQp1PKFrqu3PX/7YuGtDU6bt0OUTpv38rdc+37dVDQLKUchaJ853E9edNDGqWwsYz1VoiSStEJtZvw6+sNqFWqaIXJjQCGAAGWAYVwmag/x3BRJw1wYF7IzVqDcNzn85d//FzK7IgwbQwccLoB4AsF8Nj/1ESRUAAVJwAFh0YOFEhmSJEHKQRDyhszgLUpHIgFrb5cySFg5jv10ImlYuvaaGBItfXqnNPmic+XNkmb5fW49vdhq97nQMQyGIlM2v8oQSrxKSxE4F1WqrduqvuJCRof1R7Gsre9KszUVF1/t3PzH2tnp+iSUG3rDwGNcDzxCGA8atuQF0paZAAkAhAQAEAC240yJV+nJgUrqq8axAYtVpYjZyFGb13/17jwiClQDaCdytZpyHHf1R/EG/+lUAgAAAChhmJvioVGGBCFgqdpsGAkUUrbTstwTCJgLQpFIsELW7t/68Iv/7kmQUgAQ9NFO9aeAAPAU6RKwUABClY2e5hoARGpDvPydCAsY8WO10fSvUOnfT98+n/l/6/+hxslhQ1DEOaevNKGocvIYba8WJpaP/15pX0NQ1DUNn/////k6lPp/N61rBi8RJFfERV3IgrqDsJA64sjCoKxDDQ9xEcWDpMBDwVFDIAEIAAzryxsjGi4q/oWpixKjhklAF4pUrDPjFhFVupDFZ/t/t0YPAygUBhADPR/KLCKJ8h2Oxhpxz/zNRAAFl0MAZLAYEAiVbEiz36LSgZ5QoQVat69KNy8FyM5Z80ACHAzgnISEkxUSJIDyBSwi5KF4mjBl4xJdbrG9ComLrL8YATiodhQKCkj6ROdyg1y5XmZlvMVmpJzYppJDwLi/Lp9vT3TfmimOGpuezi2U/9FNav0zX9Oja2r//8+hvuihuQAAMAVmqFgAgCcuboAEAAAUcqy8ca0BHBmwbFkED0CNA1YYDPkhcQrRJxcY3BzfxxltAz9vX62Xl3plAzWmRO+FkZyH///1qAAEjQBAACUpgU5o2AIBmFBGMamrGg0b/+5JkC4ADxyLWb2ngAEEkGofsoACP7U1JLaxTkOqFaKhspGgnW3SGC56ZgUJGCRnLOmIJAkuNBgvwU4Ocf8CJK9UsafH9/Frj///365XSoME+DZMw5UNjrMbVoeIj9EL91IuQ5KHyl5V2LCpdIdESgafOHxVGkAlkHuakmix/gN8+BP/sKguLAAoAtUjtvaoeEADwr3OK11E4KBlojgeQNQBJ4MvCAd/4t/xMMzeLhQGQ1//6tQu5BaBOGCT6U4aafvXZ//4iAPAAAAbLkgIlQmMSLA2H1CVNAlWwyVvKIQIxOSK1NWxs4MBUATlKrAkIMPAjCAdS6MVFzuURWa/+/qQWEGsA6EEpiBEJb9Q21lAHoBoD0B6aAPhyt+bG3muoXIN3RLadXxUfr/ohjGFF/p97eqNI5noKAqYLNPpUTDSI9/TmA6B+YAAADgA0Y4lxTW1SQfOQuDDDI0KTTuIrF5qoJrUFhUFAsg+AT2hbkaRZYGIjBKVDIa5VgNN/9P/rCDsBJbYJRKpCA1ArAkigIeYY61AjE+jubyiZFZ3+L789//uSZBCABHVj2entNmw1JXokLycYEFTFVa0wz4DYjKs08J2Q+r4n3lgbWaaMwMLEjFW88F39brqPF83cv1mCSJeY3Q2uiQxhBJxCBeR1D2LQRsYQcZUTzdNll8+OwZBsIwSgl45ymaHX603Mz7JmZuvt71GDTN66zev/+cLn/b5imV8pAHkg61FIJchBSG+zycgAZgADD6F1iQQRXRWmWS6bDIIgyBCZEcdl/KgXGmVKFv/vl8ry/5bLypf//U5jhYDhL9X/pAA0AKBIAAKgGtGXGGWJgEoF2JNsHlKfSKLRhGBAgIuWZKIJCFpF1VBhkB+EfzEyMUJdWuMrEZoPZ5BfF3/Nu62riIdjoO4AAKD2sTrDmpZZaYysf/810TitAVvn9xtFucieiaEy54YqiIO6RqkGAm5wVO0bFB0sDTdNxYGekKktR4KAAfAwUIgI8Ci6aXgtwbhPWAC+CKExAFydNtYGXNZoQjUsXv/9vKjgmdwieb+h7kHvPoc//0FaCACAATKFC4Y9ammklidbaiJNPBhGWTNhFSgdtalK12lpl//7kmQRAFN2NFI7TBvwNKNaTRsFGBWdfV2tPNcYvBHpgPKJsc8IUcTCxY3HSvUVNTWe/Z3YWlrJ0yrNRUiT19aprA7E+mPP+ZmC3/CsheOJXhc/9VJb3UZnphUBcqZUZQth1i3XqtPYu2Sy1s8DV9ZYACAAASAAHgFkQcOqgB5utFHFh3kSi4USs0yk4iOClREmjvdG+upaiLcRA6/9QGbOfxF/8sEAQAVG0G07YFMihKR4EXJCkRdX9isueLqUMRAQdhDZmv3KeR0nPqRVrZmSIXDt+BBSR7qqbKQcB98W9qiMb55preHIStxFWPE4lAyI+BKz2iSxonpvMR5DgKxTH6vGGXAbYCaAnJUW4W07EesQqbfqdbo4qNnPxSpn1H8eahszc/y9//dn1V7D/OYpn1szQKAPXTMlO/rO//u7JriJXbld7aP33v6RXYg/COIDzTWkTspg6Ay1YaDSwKxrP/LfIikHjmO871POf/kEAseAgoPEi9/0ZziNwfxVKy9qAEGEEAAq1EcOamDEGHAA0iao8k31rz2MiLNEik6VQ37/+5JkEAgEYU5WU0M3MDjDe0o9IjiOzSVM7aCzEM2GqXD8pFB0zxMcHCQNHtZD+R+pMWZxOJ/otEZTvVN/MeU12xTVcL+f2YaiNJTVoPd6SvzEnKel5GXOzEaazgdChnP2jOAwpfyRpVlQwoJBwpN1L1DL////6TVWcoepf7CVWrpEWiym5lR5U0BSMlxQC4qByOyQIAEuJfIriWixDqRgMfVZWuvRowjR9BzP5lZlT/+YG50CsSBG////////liXDQVMxEaBkbzKAAACnDIAstY7iK7gGSF7SIDexaTtPOHABk9YcmJEACmo50pgWal22etroBpYoVqtU6OPqvlf0c4QCAfLk9P/FJs4KCQMf6ECZyA6BwqqyJ0rMYj56k1/UlTIx1V3Rt5NF71D4qlptDC8VMgQVHFDlQnDFi06qQgKQAAIK4TxxJGFGYJuZNGXRdpq7IW/DYpPIQRFJLAc+qn1E0XYdOkQVJT+z8Lvff//8vbKAWTIBBUUdM6cOhlDry7x4dAkJXIBhbO3HSMMMGBQ9K9/JNfu09PjTO64wYEcR//uSZBeABP5g11NPRVwzQ4r8PMJVj7j9UU2wUwDPjeq0Z5w675D9+uDdL2QsuIry2lZtwn/pJYyRRjANEOQxNWw8mU7Tq+vueV7JrX/Pg7VIkEuZT5dwd85MVoq5lpStNICkBAcFR88//58KO8Zjt2PIGxWl1cVfXeNGH18SReNT//hYliWtQuNluxyxONbm4U+lpkAgpyE7yAIYUjIaqHmARJ0GQTtmH60xdwFp/u253XBCxD0f/lBcguCALn//Y5nqEv//1h4BAAwgAA5gcHmpIplgeW9fAOM6RFZUywrsGAiRmKkanQnCFBjYoPDS7bjwtPTkVI8D/P8VVLcTUz65n7PW2s3tNYHgEul4tBaIz0A9RgJAyAMI4/i0fpQKjhX9S+qIa0vmc4CZit/0/3UTDGeKNpkk0nu2rUE2ag8WErhE/kgAiQCJKQEYBA5Wn6CxHoIUh6dQ46nLIuwFk4S/LaDQxXu7Yf/pf//lwJB0S/Ff/4C///EiBEiAAAIAMnpngiIABAdMpKigkXaUwhLEGvpiofmXW57h2XAZO3CMRv/7kmQUAEOHQlHraRTQMkQp6GWFZBTVU1lNPTPYyIyocYeUoNgLBWAs1jPkTv/tXBaeZ/tbD/nAGP8/xT0SNEi5zof0KIVEzVe9r5lZOol7kyaXMYS4J/ZS3djp//UaeVyR0mUMlTgfz8XqMzIEgAQQ6UNQ1DSE0/C16OvyaocF4ijAGFci0FSYqCUSaWs6t9F6/699DKvMgMoK1//kSbvxtyBN27I7mdXgNMAW75sRU1UwUHYG5axI2tFIFpkgx7nnK+1JmRKjqeAd5Ph0QAL4QAnirmiPlg0yBDlrb/d3ngtA65rb999+8vdDCfnJuJAYIl285zklpVbrKpk1PEzrOY9NZUgyz6OiOsKt5qG/g2ibxSZ+/eTI/NB8n4ev//n2nIw85GAdwuJL7kYnnAbpcf1RBKH6b2U4RWP8dmWH5snsAFYwADBgAopKdzFJq4Jlmotloh/m4QpTSvJRE3nYZHephoqBhVf+P7vQ9BPlwZCP+3//+hdy5uUwS3LDEgQx4cdIgvDEBR1YqymCsSbKzRy2aQmSv+AAcAgAkvzPfuX/+5JkFQAj6VFX00Zr5DllOhhgpn4MmSs+zSRRiO8U5tWklYgSLKfs+Xheb/+6WaAQCKTztNeJ382MUltZNnjSJoFrCqB6C4mFcwJpJD4Oc8dLDXMTh9k1/rmTopfzqv9AvHWfOuZJlEvHSVMjyjpkVucKSzxJVQBgAAIo8DGqRdYCXPckFYg+dH9A/qUyljrtpxH9RJX/Z3Vv6uFkPg4M2jf3CL09QrwOrMt69n//8UFEAAMHWdhg1CcjyVBwiArOYlDL5NPY6x8ZLFBCGi6SVTKX5nqdSEFjebnv2zHdt0dj6xvORsSFzwqRNTJSZIrrlpXcURNL9WW7krBgr5jPMaGcvJ5v0N1s19CV7+7fvQfjySX2QECWUgKgeJCIif4WRBZ/6archpDkzE7oWctK3zEHP9Smeai8oeHkM6AK7pGjtOgeFv40ugqNd+Iv///uAZAMgAAAUeSWhLPpdwk3iXpBw43hOVIp1gliUOSaeZcZeZhLAH9TtD56wUpBduzLF5v5qViTH6o+I0+8Z1asaLgKVAohlpB72DgAQBQxEd3g//uSZCiAA6k0UdMPQfA+xcnBYON8E3WDVU0w1ZjPDSmo8IniHAFDNnkXF3B94gicH5d8MFw+IHZwufxOf/8gsHw+XrD4Jn8T4RAyQiABNBQg/3giEWuZ42mVFB3kkXNjhqBg1CghEUbN3/7/KBhyqNueef/MIDBClP3YRnKLiIlEFzf//0g+4zKpRIKTpqQgUtnHGFw6RSLN421iGcYapqFxny/capK9r9v+2BSy/RU1yZxa2eGaWK07ijfcxeiO3iuHJvjbXzts+Ny+XyFnsne1h0qG4mAaN6xRGaLVxKPlrri0Bg9oXGyxcw8JRBPkUzC8v451vVd9liSX85JMrmkVNwxOCwUg298////7ks//L409/hwMRIozKiIckXtjzDaAMTBcAACAwLGargPSEgEJZN/EFjfF/VKgaMYKMbwtf/T0UCGGfjfOAZ2frCigYdwh/+sGlQBxhCAAAUHkDPqOdmmUdAVYl3IhrEfR8qZFjLYEPOyzVGvm6lNUJCk2PNazwFxaijk+ZEaiTehoJGuDh6zN/EVP8BCLD/88BoY7Xv/7kmQlgBNmMtNTL0FwOGZJ/WHiKAyhJU+soE3A3JnmAa2oaCIru/+RrEHMTphxQ0X/LzoVy4gKhYl6ZUlklW7CLRVoYmgABwCRMAAMA/poCiEEYLsBVodWcVZ18+CcAfH165U4Xgh7/X1/BAQF6GN/BwQ/+D9S9P6wII//CoANYFYCBAKlGQDKhVjjylKARw2mPAtp8JjcQHggQswVsOEKsF6AIBWvmpIFdSZvRVv/LHWEy0+txMxu+VK9gEqG5pWf6GNGU4UBVkfd+bsj/6lZE0fkOpAqAOvyUO9oo+IiEtcLKOGzhhSGa4MYINHWoQsFr8zzmow0tRILkqz5/+vFxl/oZX/+qGW//xiLjR3xcGn//0QLkTQJh1UA8MAQAEXC/YxODKTDUEhrASs1512GRp+dRFFdTWIRaOXrve1eNjTNpreqQYrC9NBlQc1f8YO2po8bnH6qffuRvU7taiNF3baokE0YpmjRCHRclWBb9NCHKHpERwHRG3pqgXklq4sBpLjGvmekg8Y7SjM1FZopIM8IhB6dtMr8aKsdovh4FW//+5JkQ4CjTDdSU0gtIDiE+YBrKgwNbSVJTCBPwN8N5ZW8NKDnhRB8AXCm//KAsBUCwKU//oJQnET+UP3/zpYRocAAABJkVzzIuoLGEaDoxfsNva12EUdxhJMGFQioSg8GxKsLm8kWEmExJuNidarkk+OTXc0i2OZEq2v+tZr/MDZRS0I7LfRpHdlsiF6m/mEjk+XlK10UqtKYUwNgMx24hUtCJLfpM3ExUeKDYjClgZAzAjQ0qlNQBTsGpk9zSRkCiKkRGp572VXsPYChGvxhAuYkDYZK//jSRgto2mTf6+PJqgAAgIAAAACYZE6aZOHhYkYlcbpeYQq1RgLO4U8TIlL1sGw+iKZi5Kzc/bKT0yXrIUMES89RCWy8oWlxqIQlKANLFpT/KjUrK+UCYbZqGnjVj29aO5dzofWAskRX5eJWPi4kf/aRVjy3Wlyg2AnMYIDSTLwZUTASIzflPWUwwlUnIFMnGiyABeaXJcN91PmQJCLzmvUJkFOHCrX/+6O///IHnT4tT9YYBoNMQ09GfKIErwdwChNz1Qy5+5S/wWeY//uSZF+C03UyT2tMO0A3RRkhY20KzQjDMszhA8DjlGOBp5y4ZCS3ica52GIGiryv7FAaSDVZSXKFTiir+GvGiuK4rjgwPVTddso+W/42a4ueJJHDYtfj6YoKknnjzRgKA0fBIRZOSsprJqnoNN73ps/Z9DVgbKNbMGmRzrYBMAZCPUANkAZQ0syAC2ubK1NF90+WoesBpnhY8qwVDkNb/5Uof6//418TgElCSgAIgyAAQBHEmiaQFPIRmfAMELffpo0IflyEuAAQnSnKvwTlVlnIgOAAGS3P3IydjXPSh/CaVRqpSNCjQqDvPM+fLcuN+WgqNix6CoHomUWTT86JjziRSZ3yjnq+dIldKPU11KUuf6wAASMAAJxE+MlyktgE9UGSxjEx6RR0v1s9bWZ+EJSrGtjqUIhklG3J8eLRn/2U/nv7f///+7/6gBQgEAMUijVMwweWWMyYM/PLXuc7DptIQmBARMRCxXjEIcTNDQgSSeHpUNXO7dRSOllJPvnY7yzaO1hmUjsKvHe99fOxrabMX7mGTi5tsNkZVZLndzxse//7kmR7ABM2O0pbKTvQN4NI+WGFPA2ZESs1pYAAvA0jVrJwAHfbr/c6//vW790dzX36QNBRlDv/6QQAU3V64yUgBEAYc/lI8e5bm+Z9+j+4aaj4tFrb//iker/4a12b/V//q//9v+7vAEAAAAMqZTGd5gL4f54o6ZebKNrR/zWVYUEVYVVv8BuAV2OUT+DUQgkJ8J1Ey4ZbFCiAwgwzMSdHV4jQR+OoPWEASaPkyYq+PsQFFJCsEEJtOiUjI/+GRhtC2DnizTMXATJig9Ey/kAJMrkHGYJ8gpLjmJOYoskpav+ShRJInyGGZVJMihDi6pIxRZJJel/8iZPkYiREnyKE0akTL5QNSqT5iiySS9Ja2SV//5ME0ak//+4KgAAABgQBAADAMDgYCAEgCteQ0fZH6+ICXA357+MPfhR/+ywRf/U///LVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5JknQAFoWhGLm5gBClBmT3GiAAAAAGkHAAAIAAANIOAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV'\n      );\n    },\n  });\n\n  // src/audio.ts\n  function audioInit() {\n    const audio = (() => {\n      const ctx2 = new (window.AudioContext || window.webkitAudioContext)();\n      const gainNode = ctx2.createGain();\n      const masterNode = gainNode;\n      masterNode.connect(ctx2.destination);\n      return {\n        ctx: ctx2,\n        gainNode,\n        masterNode,\n      };\n    })();\n    let burpBuf;\n    audio.ctx.decodeAudioData(\n      burp_default.buffer.slice(0),\n      buf => {\n        burpBuf = buf;\n      },\n      () => {\n        throw new Error('failed to make burp');\n      }\n    );\n    function volume(v) {\n      if (v !== void 0) {\n        audio.gainNode.gain.value = clamp(v, MIN_GAIN, MAX_GAIN);\n      }\n      return audio.gainNode.gain.value;\n    }\n    __name(volume, 'volume');\n    function play(\n      sound,\n      conf = {\n        loop: false,\n        volume: 1,\n        speed: 1,\n        detune: 0,\n        seek: 0,\n      }\n    ) {\n      let stopped = false;\n      let srcNode = audio.ctx.createBufferSource();\n      srcNode.buffer = sound;\n      srcNode.loop = !!conf.loop;\n      const gainNode = audio.ctx.createGain();\n      srcNode.connect(gainNode);\n      gainNode.connect(audio.masterNode);\n      const pos = conf.seek ?? 0;\n      srcNode.start(0, pos);\n      let startTime = audio.ctx.currentTime - pos;\n      let stopTime = null;\n      const handle = {\n        stop() {\n          if (stopped) {\n            return;\n          }\n          this.pause();\n          startTime = audio.ctx.currentTime;\n        },\n        play(seek) {\n          if (!stopped) {\n            return;\n          }\n          const oldNode = srcNode;\n          srcNode = audio.ctx.createBufferSource();\n          srcNode.buffer = oldNode.buffer;\n          srcNode.loop = oldNode.loop;\n          srcNode.playbackRate.value = oldNode.playbackRate.value;\n          if (srcNode.detune) {\n            srcNode.detune.value = oldNode.detune.value;\n          }\n          srcNode.connect(gainNode);\n          const pos2 = seek ?? this.time();\n          srcNode.start(0, pos2);\n          startTime = audio.ctx.currentTime - pos2;\n          stopped = false;\n          stopTime = null;\n        },\n        pause() {\n          if (stopped) {\n            return;\n          }\n          srcNode.stop();\n          stopped = true;\n          stopTime = audio.ctx.currentTime;\n        },\n        paused() {\n          return stopped;\n        },\n        stopped() {\n          return stopped;\n        },\n        speed(val) {\n          if (val !== void 0) {\n            srcNode.playbackRate.value = clamp(val, MIN_SPEED, MAX_SPEED);\n          }\n          return srcNode.playbackRate.value;\n        },\n        detune(val) {\n          if (!srcNode.detune) {\n            return 0;\n          }\n          if (val !== void 0) {\n            srcNode.detune.value = clamp(val, MIN_DETUNE, MAX_DETUNE);\n          }\n          return srcNode.detune.value;\n        },\n        volume(val) {\n          if (val !== void 0) {\n            gainNode.gain.value = clamp(val, MIN_GAIN, MAX_GAIN);\n          }\n          return gainNode.gain.value;\n        },\n        loop() {\n          srcNode.loop = true;\n        },\n        unloop() {\n          srcNode.loop = false;\n        },\n        duration() {\n          return sound.duration;\n        },\n        time() {\n          if (stopped) {\n            return stopTime - startTime;\n          }\n          return audio.ctx.currentTime - startTime;\n        },\n      };\n      handle.speed(conf.speed);\n      handle.detune(conf.detune);\n      handle.volume(conf.volume);\n      return handle;\n    }\n    __name(play, 'play');\n    function ctx() {\n      return audio.ctx;\n    }\n    __name(ctx, 'ctx');\n    function burp(conf) {\n      return play(burpBuf, conf);\n    }\n    __name(burp, 'burp');\n    return {\n      ctx,\n      volume,\n      play,\n      burp,\n    };\n  }\n  let MIN_GAIN;\n  let MAX_GAIN;\n  let MIN_SPEED;\n  let MAX_SPEED;\n  let MIN_DETUNE;\n  let MAX_DETUNE;\n  const init_audio = __esm({\n    'src/audio.ts': function () {\n      init_math();\n      init_burp();\n      MIN_GAIN = 0;\n      MAX_GAIN = 3;\n      MIN_SPEED = 0;\n      MAX_SPEED = 3;\n      MIN_DETUNE = -1200;\n      MAX_DETUNE = 1200;\n      __name(audioInit, 'audioInit');\n    },\n  });\n\n  // src/assets/unscii_8x8.png\n  let unscii_8x8_default;\n  const init_unscii_8x8 = __esm({\n    'src/assets/unscii_8x8.png': function () {\n      unscii_8x8_default =\n        'data:image/png;base64,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';\n    },\n  });\n\n  // src/assets/mark.png\n  let mark_default;\n  const init_mark = __esm({\n    'src/assets/mark.png': function () {\n      mark_default =\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAAAXNSR0IArs4c6QAAALBJREFUSInFlsESwyAIRNlOP5w/pxfjpLgIqTrlJkN8rqtECA8L8j7wa5GZaY2AoY5CfbIMSKBf894HSwAC63O/tszqoi22+4qe36TiHpeiZSXE/LFGJioAlVWFgM492bWFR4w/DmEe/VdJ5dSwb5iPIcRMH4EYoHRPKiBA06P+zlaYgWZ3TFpHOdJWfIPc3oU9YBisghiAJqS16KewCBAmL1gFFP0NqxCR2oMifUx8AEs8Sqk46+g8AAAAAElFTkSuQmCC';\n    },\n  });\n\n  // src/assets.ts\n  function loadImg(src) {\n    const img = new Image();\n    img.src = src;\n    img.crossOrigin = 'anonymous';\n    return new Promise((resolve, reject) => {\n      img.onload = () => {\n        resolve(img);\n      };\n      img.onerror = () => {\n        reject(`failed to load ${src}`);\n      };\n    });\n  }\n  function isDataUrl(src) {\n    return src.startsWith('data:');\n  }\n  function assetsInit(gfx, audio, gconf = {}) {\n    const assets = {\n      lastLoaderID: 0,\n      loadRoot: '',\n      loaders: {},\n      sprites: {},\n      sounds: {},\n      fonts: {},\n      shaders: {},\n    };\n    function addLoader(prom) {\n      const id = assets.lastLoaderID;\n      assets.loaders[id] = false;\n      assets.lastLoaderID++;\n      prom\n        .catch(gconf.errHandler ?? console.error)\n        .finally(() => (assets.loaders[id] = true));\n    }\n    __name(addLoader, 'addLoader');\n    function loadProgress() {\n      let total = 0;\n      let loaded = 0;\n      for (const id in assets.loaders) {\n        total += 1;\n        if (assets.loaders[id]) {\n          loaded += 1;\n        }\n      }\n      return loaded / total;\n    }\n    __name(loadProgress, 'loadProgress');\n    function loadRoot(path) {\n      if (path !== void 0) {\n        assets.loadRoot = path;\n      }\n      return assets.loadRoot;\n    }\n    __name(loadRoot, 'loadRoot');\n    function loadFont(name, src, gw, gh, chars = ASCII_CHARS) {\n      const loader = new Promise((resolve, reject) => {\n        const path = isDataUrl(src) ? src : assets.loadRoot + src;\n        loadImg(path)\n          .then(img => {\n            const font = gfx.makeFont(gfx.makeTex(img), gw, gh, chars);\n            assets.fonts[name] = font;\n            resolve(font);\n          })\n          .catch(reject);\n      });\n      addLoader(loader);\n      return loader;\n    }\n    __name(loadFont, 'loadFont');\n    function loadSprite(\n      name,\n      src,\n      conf = {\n        sliceX: 1,\n        sliceY: 1,\n        anims: {},\n      }\n    ) {\n      function loadRawSprite(\n        name2,\n        src2,\n        conf2 = {\n          sliceX: 1,\n          sliceY: 1,\n          gridWidth: 0,\n          gridHeight: 0,\n          anims: {},\n        }\n      ) {\n        const frames = [];\n        const tex = gfx.makeTex(src2);\n        const sliceX =\n          conf2.sliceX || tex.width / (conf2.gridWidth || tex.width);\n        const sliceY =\n          conf2.sliceY || tex.height / (conf2.gridHeight || tex.height);\n        const qw = 1 / sliceX;\n        const qh = 1 / sliceY;\n        for (let j = 0; j < sliceY; j++) {\n          for (let i = 0; i < sliceX; i++) {\n            frames.push(quad(i * qw, j * qh, qw, qh));\n          }\n        }\n        const sprite = {\n          tex,\n          frames,\n          anims: conf2.anims || {},\n        };\n        assets.sprites[name2] = sprite;\n        return sprite;\n      }\n      __name(loadRawSprite, 'loadRawSprite');\n      const loader = new Promise((resolve, reject) => {\n        if (!src) {\n          return reject(`expected sprite src for \"${name}\"`);\n        }\n        if (typeof src === 'string') {\n          const path = isDataUrl(src) ? src : assets.loadRoot + src;\n          loadImg(path)\n            .then(img => {\n              resolve(loadRawSprite(name, img, conf));\n            })\n            .catch(reject);\n        } else {\n          resolve(loadRawSprite(name, src, conf));\n        }\n      });\n      addLoader(loader);\n      return loader;\n    }\n    __name(loadSprite, 'loadSprite');\n    function loadShader(name, vert, frag, isUrl = false) {\n      function loadRawShader(name2, vert2, frag2) {\n        const shader = gfx.makeProgram(vert2, frag2);\n        assets.shaders[name2] = shader;\n        return shader;\n      }\n      __name(loadRawShader, 'loadRawShader');\n      const loader = new Promise((resolve, reject) => {\n        if (!vert && !frag) {\n          return reject('no shader');\n        }\n        function resolveUrl(url) {\n          return url\n            ? fetch(assets.loadRoot + url)\n                .then(r => {\n                  if (r.ok) {\n                    return r.text();\n                  }\n                  throw new Error(`failed to load ${url}`);\n                })\n                .catch(reject)\n            : new Promise(r => r(null));\n        }\n        __name(resolveUrl, 'resolveUrl');\n        if (isUrl) {\n          Promise.all([resolveUrl(vert), resolveUrl(frag)])\n            .then(([vcode, fcode]) => {\n              resolve(loadRawShader(name, vcode, fcode));\n            })\n            .catch(reject);\n        } else {\n          try {\n            resolve(loadRawShader(name, vert, frag));\n          } catch (err) {\n            reject(err);\n          }\n        }\n      });\n      addLoader(loader);\n      return loader;\n    }\n    __name(loadShader, 'loadShader');\n    function loadSound(name, src) {\n      const url = assets.loadRoot + src;\n      const loader = new Promise((resolve, reject) => {\n        if (!src) {\n          return reject(`expected sound src for \"${name}\"`);\n        }\n        if (typeof src === 'string') {\n          fetch(url)\n            .then(res => {\n              if (res.ok) {\n                return res.arrayBuffer();\n              }\n              throw new Error(`failed to load ${url}`);\n            })\n            .then(data => {\n              return new Promise((resolve2, reject2) => {\n                audio.ctx().decodeAudioData(data, resolve2, reject2);\n              });\n            })\n            .then(buf => {\n              assets.sounds[name] = buf;\n              resolve(buf);\n            })\n            .catch(reject);\n        }\n      });\n      addLoader(loader);\n      return loader;\n    }\n    __name(loadSound, 'loadSound');\n    function defFont() {\n      return assets.fonts[DEF_FONT];\n    }\n    __name(defFont, 'defFont');\n    loadFont(DEF_FONT, unscii_8x8_default, 8, 8);\n    loadSprite('mark', mark_default);\n    return {\n      loadRoot,\n      loadSprite,\n      loadSound,\n      loadFont,\n      loadShader,\n      loadProgress,\n      addLoader,\n      defFont,\n      sprites: assets.sprites,\n      fonts: assets.fonts,\n      sounds: assets.sounds,\n      shaders: assets.shaders,\n    };\n  }\n  let ASCII_CHARS;\n  let DEF_FONT;\n  const init_assets = __esm({\n    'src/assets.ts': function () {\n      init_math();\n      init_unscii_8x8();\n      init_mark();\n      ASCII_CHARS =\n        ' !\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\n      DEF_FONT = 'unscii';\n      __name(loadImg, 'loadImg');\n      __name(isDataUrl, 'isDataUrl');\n      __name(assetsInit, 'assetsInit');\n    },\n  });\n\n  // src/logger.ts\n  function loggerInit(\n    gfx,\n    assets,\n    conf = {\n      max: 8,\n    }\n  ) {\n    let logs = [];\n    const max = conf.max ?? 8;\n    function draw() {\n      if (logs.length > max) {\n        logs = logs.slice(0, max);\n      }\n      const pos = vec2(0, gfx.height());\n      logs.forEach((log, i) => {\n        const txtAlpha = map(i, 0, max, 1, 0.5);\n        const bgAlpha = map(i, 0, max, 0.8, 0.2);\n        const col = (() => {\n          switch (log.type) {\n            case 'info':\n              return rgba(1, 1, 1, txtAlpha);\n            case 'error':\n              return rgba(1, 0, 0.5, txtAlpha);\n          }\n        })();\n        const ftext = gfx.fmtText(log.msg, assets.defFont(), {\n          pos,\n          origin: 'botleft',\n          color: col,\n          size: LOG_SIZE / gfx.scale(),\n          width: gfx.width(),\n        });\n        gfx.drawRect(pos, ftext.width, ftext.height, {\n          origin: 'botleft',\n          color: rgba(0, 0, 0, bgAlpha),\n        });\n        gfx.drawFmtText(ftext);\n        pos.y -= ftext.height;\n      });\n    }\n    __name(draw, 'draw');\n    function error(msg) {\n      console.error(msg);\n      logs.unshift({\n        type: 'error',\n        msg,\n      });\n    }\n    __name(error, 'error');\n    function info(msg) {\n      logs.unshift({\n        type: 'info',\n        msg,\n      });\n    }\n    __name(info, 'info');\n    function clear() {\n      logs = [];\n    }\n    __name(clear, 'clear');\n    return {\n      info,\n      error,\n      draw,\n      clear,\n    };\n  }\n  let LOG_SIZE;\n  const init_logger = __esm({\n    'src/logger.ts': function () {\n      init_math();\n      LOG_SIZE = 16;\n      __name(loggerInit, 'loggerInit');\n    },\n  });\n\n  // src/net.ts\n  function netInit(url) {\n    const handlers = {};\n    const sendQueue = [];\n    let socket = null;\n    function connected() {\n      return socket !== null && socket.readyState === 1;\n    }\n    __name(connected, 'connected');\n    function connect() {\n      const ws = new WebSocket(url);\n      return new Promise((resolve, reject) => {\n        ws.onopen = () => {\n          resolve(ws);\n          socket = ws;\n          for (const msg of sendQueue) {\n            ws.send(msg);\n          }\n        };\n        ws.onerror = () => {\n          reject(`failed to connect to ${url}`);\n        };\n        ws.onmessage = e => {\n          const msg = JSON.parse(e.data);\n          if (handlers[msg.type]) {\n            for (const handler of handlers[msg.type]) {\n              handler(msg.id, msg.data);\n            }\n          }\n        };\n      });\n    }\n    __name(connect, 'connect');\n    function recv(type, handler) {\n      if (!handlers[type]) {\n        handlers[type] = [];\n      }\n      handlers[type].push(handler);\n    }\n    __name(recv, 'recv');\n    function send(type, data) {\n      const msg = JSON.stringify({\n        type,\n        data,\n      });\n      if (socket) {\n        socket.send(msg);\n      } else {\n        sendQueue.push(msg);\n      }\n    }\n    __name(send, 'send');\n    function close() {\n      if (socket) {\n        socket.close();\n      }\n    }\n    __name(close, 'close');\n    return {\n      connect,\n      close,\n      connected,\n      recv,\n      send,\n    };\n  }\n  const init_net = __esm({\n    'src/net.ts': function () {\n      __name(netInit, 'netInit');\n    },\n  });\n\n  // src/kaboom.ts\n  const require_kaboom = __commonJS({\n    'src/kaboom.ts': function (exports, module) {\n      init_math();\n      init_gfx();\n      init_app();\n      init_audio();\n      init_assets();\n      init_logger();\n      init_net();\n      const IDList = class extends Map {\n        constructor(...args) {\n          super(...args);\n          this.lastID = 0;\n        }\n\n        push(v) {\n          const id = this.lastID;\n          this.set(id, v);\n          this.lastID++;\n          return id;\n        }\n\n        pushd(v) {\n          const id = this.push(v);\n          return () => this.delete(id);\n        }\n      };\n      __name(IDList, 'IDList');\n      module.exports = (\n        gconf = {\n          width: 640,\n          height: 480,\n          scale: 1,\n          fullscreen: false,\n          debug: false,\n          crisp: false,\n          canvas: null,\n          connect: null,\n          logMax: 8,\n          root: document.body,\n        }\n      ) => {\n        const app = appInit({\n          width: gconf.width,\n          height: gconf.height,\n          scale: gconf.scale,\n          fullscreen: gconf.fullscreen,\n          crisp: gconf.crisp,\n          canvas: gconf.canvas,\n          root: gconf.root,\n          touchToMouse: gconf.touchToMouse ?? true,\n        });\n        const gfx = gfxInit(app.gl, {\n          clearColor: gconf.clearColor ? rgba(gconf.clearColor) : void 0,\n          scale: gconf.scale,\n          texFilter: gconf.texFilter,\n        });\n        const audio = audioInit();\n        const assets = assetsInit(gfx, audio, {\n          errHandler: err => {\n            logger.error(err);\n          },\n        });\n        const logger = loggerInit(gfx, assets, {\n          max: gconf.logMax,\n        });\n        const net = gconf.connect ? netInit(gconf.connect) : null;\n        let NetMsg;\n        (function (NetMsg2) {\n          NetMsg2.AddObj = 'ADD_OBJ';\n          NetMsg2.UpdateObj = 'UPDATE_OBJ';\n          NetMsg2.DestroyObj = 'DESTROY_OBJ';\n          NetMsg2.Disconnect = 'DISCONNECT';\n        })(NetMsg || (NetMsg = {}));\n        function sync(obj) {\n          if (!net) {\n            throw new Error('not connected to any websockets');\n          }\n          game.travelers.push(obj._id);\n          send(NetMsg.AddObj, obj._data());\n        }\n        __name(sync, 'sync');\n        if (net) {\n          recv(NetMsg.AddObj, (id, data) => {\n            if (!game.visitors[id]) {\n              game.visitors[id] = {};\n            }\n          });\n          recv(NetMsg.DestroyObj, (id, data) => {\n            if (!game.visitors[id]) {\n              return;\n            }\n            const oid = game.visitors[id][data.id];\n            if (oid != null) {\n              destroy(game.objs.get(oid));\n              delete game.visitors[id][data.id];\n            }\n          });\n          recv(NetMsg.Disconnect, (id, data) => {\n            if (game.visitors[id]) {\n              for (const oid of Object.values(game.visitors[id])) {\n                destroy(game.objs.get(oid));\n              }\n              delete game.visitors[id];\n            }\n          });\n        }\n        function recv(ty, handler) {\n          if (!net) {\n            throw new Error('not connected to any websockets');\n          }\n          net.recv(ty, (data, id) => {\n            try {\n              handler(data, id);\n            } catch (err) {\n              logger.error(err);\n            }\n          });\n        }\n        __name(recv, 'recv');\n        function send(ty, data) {\n          if (!net) {\n            throw new Error('not connected to any websockets');\n          }\n          net.send(ty, data);\n        }\n        __name(send, 'send');\n        function dt() {\n          return app.dt() * debug.timeScale;\n        }\n        __name(dt, 'dt');\n        function play(id, conf = {}) {\n          const pb = audio.play(\n            new AudioBuffer({\n              length: 1,\n              numberOfChannels: 1,\n              sampleRate: 44100,\n            })\n          );\n          ready(() => {\n            const sound = assets.sounds[id];\n            if (!sound) {\n              throw new Error(`sound not found: \"${id}\"`);\n            }\n            const pb2 = audio.play(sound, conf);\n            for (const k in pb2) {\n              pb[k] = pb2[k];\n            }\n          });\n          return pb;\n        }\n        __name(play, 'play');\n        function isCamLayer(layer2) {\n          return !game.layers[layer2 ?? game.defLayer]?.noCam;\n        }\n        __name(isCamLayer, 'isCamLayer');\n        function mousePos(layer2) {\n          return isCamLayer(layer2) ? game.camMousePos : app.mousePos();\n        }\n        __name(mousePos, 'mousePos');\n        function drawSprite(id, conf = {}) {\n          const spr = (() => {\n            if (typeof id === 'string') {\n              return assets.sprites[id];\n            }\n            return id;\n          })();\n          if (!spr) {\n            throw new Error(`sprite not found: \"${id}\"`);\n          }\n          const q = spr.frames[conf.frame ?? 0];\n          gfx.drawTexture(spr.tex, {\n            ...conf,\n            quad: q.scale(conf.quad || quad(0, 0, 1, 1)),\n          });\n        }\n        __name(drawSprite, 'drawSprite');\n        function drawText(txt, conf = {}) {\n          const fid = conf.font ?? DEF_FONT;\n          const font = assets.fonts[fid];\n          if (!font) {\n            throw new Error(`font not found: ${fid}`);\n          }\n          gfx.drawText(txt, font, conf);\n        }\n        __name(drawText, 'drawText');\n        const DEF_GRAVITY = 980;\n        const DEF_ORIGIN2 = 'topleft';\n        const game = {\n          loaded: false,\n          events: {},\n          objEvents: {},\n          actions: new IDList(),\n          renders: new IDList(),\n          objs: new IDList(),\n          timers: new IDList(),\n          cam: {\n            pos: vec2(gfx.width() / 2, gfx.height() / 2),\n            scale: vec2(1, 1),\n            angle: 0,\n            shake: 0,\n          },\n          camMousePos: app.mousePos(),\n          camMatrix: mat4(),\n          layers: {},\n          defLayer: null,\n          gravity: DEF_GRAVITY,\n          data: {},\n          travelers: [],\n          visitors: {},\n          on(ev, cb) {\n            if (!this.events[ev]) {\n              this.events[ev] = new IDList();\n            }\n            return this.events[ev].pushd(cb);\n          },\n          trigger(ev, ...args) {\n            if (this.events[ev]) {\n              this.events[ev].forEach(cb => cb(...args));\n            }\n          },\n          scenes: {},\n        };\n        function layers(list, def) {\n          list.forEach((name, idx) => {\n            game.layers[name] = {\n              alpha: 1,\n              order: idx + 1,\n              noCam: false,\n            };\n          });\n          if (def) {\n            game.defLayer = def;\n          }\n        }\n        __name(layers, 'layers');\n        function camPos(...pos2) {\n          if (pos2.length > 0) {\n            game.cam.pos = vec2(...pos2);\n          }\n          return game.cam.pos.clone();\n        }\n        __name(camPos, 'camPos');\n        function camScale(...scale2) {\n          if (scale2.length > 0) {\n            game.cam.scale = vec2(...scale2);\n          }\n          return game.cam.scale.clone();\n        }\n        __name(camScale, 'camScale');\n        function camRot(angle) {\n          if (angle !== void 0) {\n            game.cam.angle = angle;\n          }\n          return game.cam.angle;\n        }\n        __name(camRot, 'camRot');\n        function camShake(intensity) {\n          game.cam.shake = intensity;\n        }\n        __name(camShake, 'camShake');\n        function camIgnore(layers2) {\n          layers2.forEach(name => {\n            if (game.layers[name]) {\n              game.layers[name].noCam = true;\n            }\n          });\n        }\n        __name(camIgnore, 'camIgnore');\n        const COMP_EVENTS = new Set([\n          'add',\n          'load',\n          'update',\n          'draw',\n          'destroy',\n          'inspect',\n        ]);\n        function add(comps) {\n          const compStates = {};\n          const customState = {};\n          const events = {};\n          const tags = [];\n          const obj = {\n            hidden: false,\n            paused: false,\n            _id: null,\n            use(comp) {\n              if (comp === void 0) {\n                return;\n              }\n              const ty = typeof comp;\n              if (ty === 'string') {\n                tags.push(comp);\n                return;\n              }\n              if (ty !== 'object') {\n                throw new Error(`invalid comp type: ${ty}`);\n              }\n              let stateContainer = customState;\n              if (comp.id) {\n                compStates[comp.id] = {};\n                stateContainer = compStates[comp.id];\n              }\n              for (const k in comp) {\n                if (k === 'id' || k === 'require') {\n                  continue;\n                }\n                if (typeof comp[k] === 'function') {\n                  const func = comp[k].bind(this);\n                  if (COMP_EVENTS.has(k)) {\n                    this.on(k, func);\n                    continue;\n                  } else {\n                    stateContainer[k] = func;\n                  }\n                } else {\n                  stateContainer[k] = comp[k];\n                }\n                if (!this[k]) {\n                  Object.defineProperty(this, k, {\n                    get() {\n                      if (comp.id) {\n                        return compStates[comp.id][k];\n                      }\n                      return customState[k];\n                    },\n                    set(val) {\n                      if (comp.id) {\n                        compStates[comp.id][k] = val;\n                      } else {\n                        customState[k] = val;\n                      }\n                    },\n                  });\n                }\n              }\n            },\n            c(id) {\n              return compStates[id];\n            },\n            exists() {\n              return this._id !== void 0;\n            },\n            is(tag) {\n              if (tag === '*') {\n                return true;\n              }\n              if (Array.isArray(tag)) {\n                for (const t of tag) {\n                  if (!tags.includes(t)) {\n                    return false;\n                  }\n                }\n                return true;\n              }\n              return tags.includes(tag);\n            },\n            on(ev, cb) {\n              if (!events[ev]) {\n                events[ev] = new IDList();\n              }\n              return events[ev].pushd(cb);\n            },\n            action(cb) {\n              return this.on('update', cb);\n            },\n            trigger(ev, ...args) {\n              if (events[ev]) {\n                events[ev].forEach(cb => cb.call(this, ...args));\n              }\n              const gEvents = game.objEvents[ev];\n              if (gEvents) {\n                gEvents.forEach(e => {\n                  if (this.is(e.tag)) {\n                    e.cb(this, ...args);\n                  }\n                });\n              }\n            },\n            rmTag(t) {\n              const idx = tags.indexOf(t);\n              if (idx > -1) {\n                tags.splice(idx, 1);\n              }\n            },\n            _inspect() {\n              const info = [];\n              if (events.inspect) {\n                for (const inspect of events.inspect.values()) {\n                  info.push(inspect());\n                }\n              }\n              return {\n                tags,\n                info,\n              };\n            },\n            destroy() {\n              destroy(this);\n            },\n          };\n          for (const comp of comps) {\n            obj.use(comp);\n          }\n          obj._id = game.objs.push(obj);\n          obj.trigger('add');\n          ready(() => obj.trigger('load'));\n          for (const id in compStates) {\n            const comp = compStates[id];\n            const deps = comp.require || [];\n            for (const dep of deps) {\n              if (!obj.c(dep)) {\n                throw new Error(`comp '${id}' requires comp '${dep}'`);\n              }\n            }\n          }\n          return obj;\n        }\n        __name(add, 'add');\n        function readd(obj) {\n          if (!obj.exists()) {\n            return;\n          }\n          game.objs.delete(obj._id);\n          const id = game.objs.push(obj);\n          obj._id = id;\n          return obj;\n        }\n        __name(readd, 'readd');\n        function on(event, tag, cb) {\n          if (!game.objEvents[event]) {\n            game.objEvents[event] = new IDList();\n          }\n          return game.objEvents[event].pushd({\n            tag,\n            cb,\n          });\n        }\n        __name(on, 'on');\n        function action(tag, cb) {\n          if (typeof tag === 'function' && cb === void 0) {\n            return game.actions.pushd(tag);\n          }\n          if (typeof tag === 'string') {\n            return on('update', tag, cb);\n          }\n        }\n        __name(action, 'action');\n        function render(tag, cb) {\n          if (typeof tag === 'function' && cb === void 0) {\n            return game.renders.pushd(tag);\n          }\n          if (typeof tag === 'string') {\n            return on('update', tag, cb);\n          }\n        }\n        __name(render, 'render');\n        function collides(t1, t2, f) {\n          return action(t1, o1 => {\n            o1._checkCollisions(t2, o2 => {\n              f(o1, o2);\n            });\n          });\n        }\n        __name(collides, 'collides');\n        function overlaps(t1, t2, f) {\n          return action(t1, o1 => {\n            o1._checkOverlaps(t2, o2 => {\n              f(o1, o2);\n            });\n          });\n        }\n        __name(overlaps, 'overlaps');\n        function clicks(t, f) {\n          return action(t, o => {\n            if (o.isClicked()) {\n              f(o);\n            }\n          });\n        }\n        __name(clicks, 'clicks');\n        function wait(t, f) {\n          return new Promise(resolve => {\n            game.timers.push({\n              time: t,\n              cb: () => {\n                if (f) {\n                  f();\n                }\n                resolve();\n              },\n            });\n          });\n        }\n        __name(wait, 'wait');\n        function loop(t, f) {\n          let stopped = false;\n          const newF = /* @__PURE__ */ __name(() => {\n            if (stopped) {\n              return;\n            }\n            f();\n            wait(t, newF);\n          }, 'newF');\n          newF();\n          return () => (stopped = true);\n        }\n        __name(loop, 'loop');\n        function keyDown(k, f) {\n          if (Array.isArray(k)) {\n            const cancellers = k.map(key => keyDown(key, f));\n            return () => cancellers.forEach(cb => cb());\n          }\n          return game.on('input', () => app.keyDown(k) && f());\n        }\n        __name(keyDown, 'keyDown');\n        function keyPress(k, f) {\n          if (Array.isArray(k)) {\n            const cancellers = k.map(key => keyPress(key, f));\n            return () => cancellers.forEach(cb => cb());\n          }\n          return game.on('input', () => app.keyPressed(k) && f());\n        }\n        __name(keyPress, 'keyPress');\n        function keyPressRep(k, f) {\n          if (Array.isArray(k)) {\n            const cancellers = k.map(key => keyPressRep(key, f));\n            return () => cancellers.forEach(cb => cb());\n          }\n          return game.on('input', () => app.keyPressedRep(k) && f());\n        }\n        __name(keyPressRep, 'keyPressRep');\n        function keyRelease(k, f) {\n          if (Array.isArray(k)) {\n            const cancellers = k.map(key => keyRelease(key, f));\n            return () => cancellers.forEach(cb => cb());\n          }\n          return game.on('input', () => app.keyReleased(k) && f());\n        }\n        __name(keyRelease, 'keyRelease');\n        function mouseDown(f) {\n          return game.on('input', () => app.mouseDown() && f());\n        }\n        __name(mouseDown, 'mouseDown');\n        function mouseClick(f) {\n          return game.on('input', () => app.mouseClicked() && f());\n        }\n        __name(mouseClick, 'mouseClick');\n        function mouseRelease(f) {\n          return game.on('input', () => app.mouseReleased() && f());\n        }\n        __name(mouseRelease, 'mouseRelease');\n        function mouseMove(f) {\n          return game.on('input', () => app.mouseMoved() && f());\n        }\n        __name(mouseMove, 'mouseMove');\n        function charInput(f) {\n          return game.on('input', () =>\n            app.charInputted().forEach(ch => f(ch))\n          );\n        }\n        __name(charInput, 'charInput');\n        function touchStart(f) {\n          return game.on('input', () => {});\n        }\n        __name(touchStart, 'touchStart');\n        function touchMove(f) {\n          return game.on('input', () => {});\n        }\n        __name(touchMove, 'touchMove');\n        function touchEnd(f) {\n          return game.on('input', () => {});\n        }\n        __name(touchEnd, 'touchEnd');\n        function touchIsActive(id) {\n          return false;\n        }\n        __name(touchIsActive, 'touchIsActive');\n        function get(t) {\n          const objs = [...game.objs.values()].sort((o1, o2) => {\n            const l1 = game.layers[o1.layer ?? game.defLayer]?.order ?? 0;\n            const l2 = game.layers[o2.layer ?? game.defLayer]?.order ?? 0;\n            return l1 - l2;\n          });\n          if (!t) {\n            return objs;\n          }\n          return objs.filter(obj => obj.is(t));\n        }\n        __name(get, 'get');\n        function every(t, f) {\n          if (typeof t === 'function' && f === void 0) {\n            return get().map(t);\n          }\n          if (typeof t === 'string') {\n            return get(t).map(f);\n          }\n        }\n        __name(every, 'every');\n        function revery(t, f) {\n          if (typeof t === 'function' && f === void 0) {\n            return get().reverse().map(t);\n          }\n          if (typeof t === 'string') {\n            return get(t).reverse().map(f);\n          }\n        }\n        __name(revery, 'revery');\n        function destroy(obj) {\n          if (!obj.exists()) {\n            return;\n          }\n          obj.trigger('destroy');\n          game.objs.delete(obj._id);\n          delete obj._id;\n        }\n        __name(destroy, 'destroy');\n        function destroyAll(t) {\n          every(t, obj => {\n            destroy(obj);\n          });\n        }\n        __name(destroyAll, 'destroyAll');\n        function gravity(g) {\n          if (g !== void 0) {\n            game.gravity = g;\n          }\n          return game.gravity;\n        }\n        __name(gravity, 'gravity');\n        function gameFrame(ignorePause) {\n          game.trigger('nextFrame');\n          delete game.events.nextFrame;\n          const doUpdate = ignorePause || !debug.paused;\n          if (doUpdate) {\n            game.timers.forEach((t, id) => {\n              t.time -= dt();\n              if (t.time <= 0) {\n                t.cb();\n                game.timers.delete(id);\n              }\n            });\n          }\n          revery(obj => {\n            if (!obj.paused && doUpdate) {\n              obj.trigger('update');\n            }\n          });\n          if (doUpdate) {\n            game.actions.forEach(a => a());\n          }\n          const size = vec2(gfx.width(), gfx.height());\n          const { cam } = game;\n          const shake = vec2FromAngle(rand(0, Math.PI * 2)).scale(cam.shake);\n          cam.shake = lerp(cam.shake, 0, 5 * dt());\n          game.camMatrix = mat4()\n            .translate(size.scale(0.5))\n            .scale(cam.scale)\n            .rotateZ(cam.angle)\n            .translate(size.scale(-0.5))\n            .translate(cam.pos.scale(-1).add(size.scale(0.5)).add(shake));\n          every(obj => {\n            if (!obj.hidden) {\n              gfx.pushTransform();\n              if (isCamLayer(obj.layer)) {\n                gfx.pushMatrix(game.camMatrix);\n              }\n              obj.trigger('draw');\n              gfx.popTransform();\n            }\n          });\n          game.renders.forEach(r => r());\n        }\n        __name(gameFrame, 'gameFrame');\n        function drawInspect() {\n          let inspecting = null;\n          const font = assets.defFont();\n          const lcolor = rgba(gconf.inspectColor ?? [0, 1, 1, 1]);\n          function drawInspectTxt(pos2, txt, scale2) {\n            const pad = vec2(4).scale(1 / scale2);\n            const ftxt = gfx.fmtText(txt, font, {\n              size: 12 / scale2,\n              pos: pos2.add(vec2(pad.x, pad.y)),\n            });\n            gfx.drawRect(\n              pos2,\n              ftxt.width + pad.x * 2,\n              ftxt.height + pad.x * 2,\n              {\n                color: rgba(0, 0, 0, 1),\n              }\n            );\n            gfx.drawFmtText(ftxt);\n          }\n          __name(drawInspectTxt, 'drawInspectTxt');\n          function drawObj(obj, f) {\n            const isCam = isCamLayer(obj.layer);\n            const scale2 =\n              gfx.scale() *\n              (isCam ? (game.cam.scale.x + game.cam.scale.y) / 2 : 1);\n            if (isCam) {\n              gfx.pushTransform();\n              gfx.pushMatrix(game.camMatrix);\n            }\n            f(scale2);\n            if (isCam) {\n              gfx.popTransform();\n            }\n          }\n          __name(drawObj, 'drawObj');\n          revery(obj => {\n            if (!obj.area) {\n              return;\n            }\n            if (obj.hidden) {\n              return;\n            }\n            drawObj(obj, scale2 => {\n              if (!inspecting) {\n                if (obj.isHovered()) {\n                  inspecting = obj;\n                }\n              }\n              const lwidth = (inspecting === obj ? 6 : 2) / scale2;\n              const a = obj._worldArea();\n              const w = a.p2.x - a.p1.x;\n              const h = a.p2.y - a.p1.y;\n              gfx.drawRectStroke(a.p1, w, h, {\n                width: lwidth,\n                color: lcolor,\n              });\n            });\n          });\n          if (inspecting) {\n            drawObj(inspecting, scale2 => {\n              const mpos = mousePos(inspecting.layer);\n              const lines = [];\n              const data = inspecting._inspect();\n              for (const tag of data.tags) {\n                lines.push(`\"${tag}\"`);\n              }\n              for (const info of data.info) {\n                for (const field in info) {\n                  lines.push(`${field}: ${info[field]}`);\n                }\n              }\n              drawInspectTxt(mpos, lines.join('\\n'), scale2);\n            });\n          }\n          drawInspectTxt(vec2(0), `${app.fps()}`, gfx.scale());\n        }\n        __name(drawInspect, 'drawInspect');\n        function pos(...args) {\n          return {\n            id: 'pos',\n            pos: vec2(...args),\n            move(...args2) {\n              const p = vec2(...args2);\n              const dx = p.x * dt();\n              const dy = p.y * dt();\n              this.pos.x += dx;\n              this.pos.y += dy;\n            },\n            screenPos() {\n              return game.camMatrix.multVec2(this.pos);\n            },\n            inspect() {\n              return {\n                pos: `(${~~this.pos.x}, ${~~this.pos.y})`,\n              };\n            },\n          };\n        }\n        __name(pos, 'pos');\n        function scale(...args) {\n          if (args.length === 0) {\n            return scale(1);\n          }\n          return {\n            id: 'scale',\n            scale: vec2(...args),\n          };\n        }\n        __name(scale, 'scale');\n        function rotate(r) {\n          return {\n            id: 'rotate',\n            angle: r ?? 0,\n          };\n        }\n        __name(rotate, 'rotate');\n        function color(...args) {\n          return {\n            id: 'color',\n            color: rgba(...args),\n          };\n        }\n        __name(color, 'color');\n        function origin(o) {\n          return {\n            id: 'origin',\n            origin: o,\n          };\n        }\n        __name(origin, 'origin');\n        function layer(l) {\n          return {\n            id: 'layer',\n            layer: l,\n            inspect() {\n              return {\n                layer: this.layer ?? game.defLayer,\n              };\n            },\n          };\n        }\n        __name(layer, 'layer');\n        function isSameLayer(o1, o2) {\n          return (o1.layer ?? game.defLayer) === (o2.layer ?? game.defLayer);\n        }\n        __name(isSameLayer, 'isSameLayer');\n        function area(p1, p2) {\n          const colliding = {};\n          const overlapping = {};\n          return {\n            id: 'area',\n            area: {\n              p1,\n              p2,\n            },\n            areaWidth() {\n              const { p1: p12, p2: p22 } = this._worldArea();\n              return p22.x - p12.x;\n            },\n            areaHeight() {\n              const { p1: p12, p2: p22 } = this._worldArea();\n              return p22.y - p12.y;\n            },\n            isClicked() {\n              return app.mouseClicked() && this.isHovered();\n            },\n            isHovered() {\n              return this.hasPt(mousePos(this.layer));\n            },\n            isCollided(other) {\n              if (!other.area) {\n                return false;\n              }\n              if (!isSameLayer(this, other)) {\n                return false;\n              }\n              const a1 = this._worldArea();\n              const a2 = other._worldArea();\n              return colRectRect(a1, a2);\n            },\n            isOverlapped(other) {\n              if (!other.area) {\n                return false;\n              }\n              if (!isSameLayer(this, other)) {\n                return false;\n              }\n              const a1 = this._worldArea();\n              const a2 = other._worldArea();\n              return overlapRectRect(a1, a2);\n            },\n            clicks(f) {\n              this.action(() => {\n                if (this.isClicked()) {\n                  f();\n                }\n              });\n            },\n            hovers(f) {\n              this.action(() => {\n                if (this.isHovered()) {\n                  f();\n                }\n              });\n            },\n            collides(tag, f) {\n              this.action(() => {\n                this._checkCollisions(tag, f);\n              });\n            },\n            overlaps(tag, f) {\n              this.action(() => {\n                this._checkOverlaps(tag, f);\n              });\n            },\n            hasPt(pt) {\n              const a = this._worldArea();\n              return colRectPt(\n                {\n                  p1: a.p1,\n                  p2: a.p2,\n                },\n                pt\n              );\n            },\n            pushOut(obj) {\n              if (obj === this) {\n                return null;\n              }\n              if (!obj.area) {\n                return null;\n              }\n              if (!isSameLayer(this, obj)) {\n                return null;\n              }\n              const a1 = this._worldArea();\n              const a2 = obj._worldArea();\n              if (!colRectRect(a1, a2)) {\n                return null;\n              }\n              const disLeft = a1.p2.x - a2.p1.x;\n              const disRight = a2.p2.x - a1.p1.x;\n              const disTop = a1.p2.y - a2.p1.y;\n              const disBottom = a2.p2.y - a1.p1.y;\n              const min = Math.min(disLeft, disRight, disTop, disBottom);\n              switch (min) {\n                case disLeft:\n                  this.pos.x -= disLeft;\n                  return {\n                    obj,\n                    side: 'right',\n                    dis: -disLeft,\n                  };\n                case disRight:\n                  this.pos.x += disRight;\n                  return {\n                    obj,\n                    side: 'left',\n                    dis: disRight,\n                  };\n                case disTop:\n                  this.pos.y -= disTop;\n                  return {\n                    obj,\n                    side: 'bottom',\n                    dis: -disTop,\n                  };\n                case disBottom:\n                  this.pos.y += disBottom;\n                  return {\n                    obj,\n                    side: 'top',\n                    dis: disBottom,\n                  };\n              }\n              return null;\n            },\n            pushOutAll() {\n              return every(other =>\n                other.solid ? this.pushOut(other) : null\n              ).filter(res => res != null);\n            },\n            _checkCollisions(tag, f) {\n              every(tag, obj => {\n                if (this === obj) {\n                  return;\n                }\n                if (colliding[obj._id]) {\n                  return;\n                }\n                if (this.isCollided(obj)) {\n                  f(obj);\n                  colliding[obj._id] = obj;\n                }\n              });\n              for (const id in colliding) {\n                const obj = colliding[id];\n                if (!this.isCollided(obj)) {\n                  delete colliding[id];\n                }\n              }\n            },\n            _checkOverlaps(tag, f) {\n              every(tag, obj => {\n                if (this === obj) {\n                  return;\n                }\n                if (overlapping[obj._id]) {\n                  return;\n                }\n                if (this.isOverlapped(obj)) {\n                  f(obj);\n                  overlapping[obj._id] = obj;\n                }\n              });\n              for (const id in overlapping) {\n                const obj = overlapping[id];\n                if (!this.isOverlapped(obj)) {\n                  delete overlapping[id];\n                }\n              }\n            },\n            _worldArea() {\n              const a = this.area;\n              const pos2 = this.pos || vec2(0);\n              const scale2 = this.scale || vec2(1);\n              const p12 = pos2.add(a.p1.scale(scale2));\n              const p22 = pos2.add(a.p2.scale(scale2));\n              const area2 = {\n                p1: vec2(Math.min(p12.x, p22.x), Math.min(p12.y, p22.y)),\n                p2: vec2(Math.max(p12.x, p22.x), Math.max(p12.y, p22.y)),\n              };\n              return area2;\n            },\n          };\n        }\n        __name(area, 'area');\n        function getAreaFromSize(w, h, o) {\n          const size = vec2(w, h);\n          const offset = originPt(o || DEF_ORIGIN2)\n            .scale(size)\n            .scale(-0.5);\n          return area(offset.sub(size.scale(0.5)), offset.add(size.scale(0.5)));\n        }\n        __name(getAreaFromSize, 'getAreaFromSize');\n        function sprite(id, conf = {}) {\n          let spr = null;\n          let curAnim = null;\n          function calcTexScale(tex, q, w, h) {\n            const scale2 = vec2(1, 1);\n            if (w && h) {\n              scale2.x = w / (tex.width * q.w);\n              scale2.y = h / (tex.height * q.h);\n            } else if (w) {\n              scale2.x = w / (tex.width * q.w);\n              scale2.y = scale2.x;\n            } else if (h) {\n              scale2.y = h / (tex.height * q.h);\n              scale2.x = scale2.y;\n            }\n            return scale2;\n          }\n          __name(calcTexScale, 'calcTexScale');\n          return {\n            id: 'sprite',\n            width: 0,\n            height: 0,\n            animSpeed: conf.animSpeed || 0.1,\n            frame: conf.frame || 0,\n            quad: conf.quad || quad(0, 0, 1, 1),\n            add() {\n              if (!conf.noArea) {\n                this.use(area(vec2(0), vec2(0)));\n              }\n            },\n            load() {\n              spr = assets.sprites[id];\n              if (!spr) {\n                throw new Error(`sprite not found: \"${id}\"`);\n              }\n              let q = { ...spr.frames[0] };\n              if (conf.quad) {\n                q = q.scale(conf.quad);\n              }\n              const scale2 = calcTexScale(spr.tex, q, conf.width, conf.height);\n              this.width = spr.tex.width * q.w * scale2.x;\n              this.height = spr.tex.height * q.h * scale2.y;\n              if (!conf.noArea) {\n                this.use(getAreaFromSize(this.width, this.height, this.origin));\n              }\n            },\n            draw() {\n              drawSprite(spr, {\n                pos: this.pos,\n                scale: this.scale,\n                rot: this.angle,\n                color: this.color,\n                frame: this.frame,\n                origin: this.origin,\n                quad: this.quad,\n                prog: assets.shaders[this.shader],\n                uniform: this.uniform,\n                flipX: conf.flipX,\n                flipY: conf.flipY,\n                tiled: conf.tiled,\n                width: conf.width,\n                height: conf.height,\n              });\n            },\n            update() {\n              if (!curAnim) {\n                return;\n              }\n              const anim = spr.anims[curAnim.name];\n              curAnim.timer += dt();\n              if (curAnim.timer >= this.animSpeed) {\n                this.frame++;\n                if (this.frame > anim.to) {\n                  if (curAnim.loop) {\n                    this.frame = anim.from;\n                  } else {\n                    this.frame--;\n                    this.stop();\n                  }\n                }\n                if (curAnim) {\n                  curAnim.timer -= this.animSpeed;\n                }\n              }\n            },\n            play(name, loop2 = true) {\n              if (!spr) {\n                ready(() => {\n                  this.play(name, loop2);\n                });\n                return;\n              }\n              const anim = spr.anims[name];\n              if (!anim) {\n                throw new Error(`anim not found: ${name}`);\n              }\n              if (curAnim) {\n                this.stop();\n              }\n              curAnim = {\n                name,\n                loop: loop2,\n                timer: 0,\n              };\n              this.frame = anim.from;\n              this.trigger('animPlay', name);\n            },\n            stop() {\n              if (!curAnim) {\n                return;\n              }\n              const prevAnim = curAnim.name;\n              curAnim = null;\n              this.trigger('animEnd', prevAnim);\n            },\n            changeSprite(id2) {\n              if (!spr) {\n                ready(() => {\n                  this.changeSprite(id2);\n                });\n                return;\n              }\n              spr = assets.sprites[id2];\n              if (!spr) {\n                throw new Error(`sprite not found: \"${id2}\"`);\n              }\n              const q = { ...spr.frames[0] };\n              if (conf.quad) {\n                q.x += conf.quad.x * q.w;\n                q.y += conf.quad.y * q.h;\n                q.w *= conf.quad.w;\n                q.h *= conf.quad.h;\n              }\n              this.width = spr.tex.width * q.w;\n              this.height = spr.tex.height * q.h;\n              if (!conf.noArea) {\n                this.use(getAreaFromSize(this.width, this.height, this.origin));\n              }\n              curAnim = null;\n              this.frame = 0;\n            },\n            numFrames() {\n              if (!spr) {\n                return 0;\n              }\n              return spr.frames.length;\n            },\n            curAnim() {\n              return curAnim?.name;\n            },\n            flipX(b) {\n              conf.flipX = b;\n            },\n            flipY(b) {\n              conf.flipY = b;\n            },\n            inspect() {\n              const info = {};\n              if (curAnim) {\n                info.curAnim = `\"${curAnim.name}\"`;\n              }\n              return info;\n            },\n          };\n        }\n        __name(sprite, 'sprite');\n        function text(t, size, conf = {}) {\n          return {\n            id: 'text',\n            text: t,\n            textSize: size || 16,\n            font: conf.font,\n            width: 0,\n            height: 0,\n            add() {\n              if (!conf.noArea) {\n                this.use(area(vec2(0), vec2(0)));\n              }\n            },\n            load() {\n              if (!conf.noArea) {\n                const font = assets.fonts[this.font ?? DEF_FONT];\n                const ftext = gfx.fmtText(`${this.text}`, font, {\n                  pos: this.pos,\n                  scale: this.scale,\n                  rot: this.angle,\n                  size: this.textSize,\n                  origin: this.origin,\n                  color: this.color,\n                  width: conf.width,\n                });\n                this.width = ftext.width / (this.scale?.x || 1);\n                this.height = ftext.height / (this.scale?.y || 1);\n                this.use(getAreaFromSize(this.width, this.height, this.origin));\n              }\n            },\n            draw() {\n              const font = assets.fonts[this.font ?? DEF_FONT];\n              const ftext = gfx.fmtText(`${this.text}`, font, {\n                pos: this.pos,\n                scale: this.scale,\n                rot: this.angle,\n                size: this.textSize,\n                origin: this.origin,\n                color: this.color,\n                width: conf.width,\n              });\n              this.width = ftext.width;\n              this.height = ftext.height;\n              gfx.drawFmtText(ftext);\n            },\n          };\n        }\n        __name(text, 'text');\n        function rect(w, h, conf = {}) {\n          return {\n            id: 'rect',\n            width: w,\n            height: h,\n            add() {\n              if (!this.area && !conf.noArea) {\n                this.use(getAreaFromSize(this.width, this.height, this.origin));\n              }\n            },\n            draw() {\n              gfx.drawRect(this.pos, this.width, this.height, {\n                scale: this.scale,\n                rot: this.angle,\n                color: this.color,\n                origin: this.origin,\n                prog: assets.shaders[this.shader],\n                uniform: this.uniform,\n              });\n            },\n          };\n        }\n        __name(rect, 'rect');\n        function solid() {\n          return {\n            id: 'solid',\n            solid: true,\n          };\n        }\n        __name(solid, 'solid');\n        const DEF_MAX_VEL = 960;\n        const DEF_JUMP_FORCE = 480;\n        function body(conf = {}) {\n          let velY = 0;\n          let curPlatform = null;\n          let lastPlatformPos = null;\n          const maxVel = conf.maxVel ?? DEF_MAX_VEL;\n          return {\n            id: 'body',\n            jumpForce: conf.jumpForce ?? DEF_JUMP_FORCE,\n            update() {\n              this.move(0, velY);\n              const targets = this.pushOutAll();\n              let justOff = false;\n              if (curPlatform) {\n                if (!curPlatform.exists() || !this.isCollided(curPlatform)) {\n                  curPlatform = null;\n                  lastPlatformPos = null;\n                  justOff = true;\n                } else if (lastPlatformPos) {\n                  this.pos = this.pos.add(curPlatform.pos.sub(lastPlatformPos));\n                  lastPlatformPos = curPlatform.pos.clone();\n                }\n              }\n              if (!curPlatform) {\n                velY = Math.min(velY + gravity() * dt(), maxVel);\n                for (const target of targets) {\n                  if (target.side === 'bottom' && velY > 0) {\n                    curPlatform = target.obj;\n                    velY = 0;\n                    lastPlatformPos = curPlatform.pos.clone();\n                    if (!justOff) {\n                      this.trigger('grounded', curPlatform);\n                    }\n                  } else if (target.side === 'top' && velY < 0) {\n                    velY = 0;\n                    this.trigger('headbutt', target.obj);\n                  }\n                }\n              }\n            },\n            curPlatform() {\n              return curPlatform;\n            },\n            grounded() {\n              return curPlatform !== null;\n            },\n            falling() {\n              return velY > 0;\n            },\n            jump(force) {\n              curPlatform = null;\n              velY = -force || -this.jumpForce;\n            },\n          };\n        }\n        __name(body, 'body');\n        function shader(id, uniform = {}) {\n          const prog = assets.shaders[id];\n          return {\n            id: 'shader',\n            shader: id,\n            uniform,\n          };\n        }\n        __name(shader, 'shader');\n        const debug = {\n          paused: false,\n          inspect: false,\n          timeScale: 1,\n          showLog: true,\n          fps: app.fps,\n          objCount() {\n            return game.objs.size;\n          },\n          stepFrame() {\n            gameFrame(true);\n          },\n          drawCalls: gfx.drawCalls,\n          clearLog: logger.clear,\n          log: logger.info,\n          error: logger.error,\n        };\n        function gridder(level, p) {\n          return {\n            id: 'gridder',\n            gridPos: p.clone(),\n            setGridPos(p2) {\n              this.gridPos = p2.clone();\n              this.pos = vec2(\n                level.offset().x + this.gridPos.x * level.gridWidth(),\n                level.offset().y + this.gridPos.y * level.gridHeight()\n              );\n            },\n            moveLeft() {\n              this.setGridPos(this.gridPos.add(vec2(-1, 0)));\n            },\n            moveRight() {\n              this.setGridPos(this.gridPos.add(vec2(1, 0)));\n            },\n            moveUp() {\n              this.setGridPos(this.gridPos.add(vec2(0, -1)));\n            },\n            moveDown() {\n              this.setGridPos(this.gridPos.add(vec2(0, 1)));\n            },\n          };\n        }\n        __name(gridder, 'gridder');\n        function addLevel(map2, conf) {\n          const objs = [];\n          const offset = vec2(conf.pos || 0);\n          let longRow = 0;\n          const level = {\n            offset() {\n              return offset.clone();\n            },\n            gridWidth() {\n              return conf.width;\n            },\n            gridHeight() {\n              return conf.height;\n            },\n            getPos(...args) {\n              const p = vec2(...args);\n              return vec2(\n                offset.x + p.x * conf.width,\n                offset.y + p.y * conf.height\n              );\n            },\n            spawn(sym, p) {\n              const comps = (() => {\n                if (Array.isArray(sym)) {\n                  return sym;\n                }\n                if (conf[sym]) {\n                  if (typeof conf[sym] === 'function') {\n                    return conf[sym]();\n                  }\n                  if (Array.isArray(conf[sym])) {\n                    return [...conf[sym]];\n                  }\n                } else if (conf.any) {\n                  return conf.any(sym);\n                }\n              })();\n              if (!comps) {\n                return;\n              }\n              comps.push(\n                pos(offset.x + p.x * conf.width, offset.y + p.y * conf.height)\n              );\n              const obj = add(comps);\n              objs.push(obj);\n              obj.use(gridder(this, p));\n              return obj;\n            },\n            width() {\n              return longRow * conf.width;\n            },\n            height() {\n              return map2.length * conf.height;\n            },\n            destroy() {\n              for (const obj of objs) {\n                destroy(obj);\n              }\n            },\n          };\n          map2.forEach((row, i) => {\n            const syms = row.split('');\n            longRow = Math.max(syms.length, longRow);\n            syms.forEach((sym, j) => {\n              level.spawn(sym, vec2(j, i));\n            });\n          });\n          return level;\n        }\n        __name(addLevel, 'addLevel');\n        function commonProps(props) {\n          return [\n            pos(props.pos ?? vec2(0)),\n            rotate(props.rot ?? 0),\n            scale(vec2(props.scale ?? 1)),\n            color(props.color ?? rgb(1, 1, 1)),\n            origin(props.origin),\n          ];\n        }\n        __name(commonProps, 'commonProps');\n        function addSprite(name, props = {}) {\n          return add([\n            sprite(name, props),\n            props.body && body(),\n            props.solid && solid(),\n            props.layer && layer(props.layer),\n            props.origin && origin(props.origin),\n            props.data,\n            ...commonProps(props),\n            ...(props.tags || []),\n          ]);\n        }\n        __name(addSprite, 'addSprite');\n        function addRect(w, h, props = {}) {\n          return add([\n            rect(w, h, props),\n            props.body && body(),\n            props.solid && solid(),\n            props.layer && layer(props.layer),\n            props.origin && origin(props.origin),\n            props.data,\n            ...commonProps(props),\n            ...(props.tags || []),\n          ]);\n        }\n        __name(addRect, 'addRect');\n        function addText(txt, size, props = {}) {\n          return add([\n            text(txt, size, props),\n            props.body && body(),\n            props.solid && solid(),\n            props.layer && layer(props.layer),\n            props.origin && origin(props.origin),\n            props.data,\n            ...commonProps(props),\n            ...(props.tags || []),\n          ]);\n        }\n        __name(addText, 'addText');\n        function ready(cb) {\n          if (game.loaded) {\n            cb();\n          } else {\n            game.on('load', cb);\n          }\n        }\n        __name(ready, 'ready');\n        function scene(id, def) {\n          game.scenes[id] = def;\n        }\n        __name(scene, 'scene');\n        function go(id, ...args) {\n          game.on('nextFrame', () => {\n            game.events = {};\n            game.objEvents = {\n              add: new IDList(),\n              update: new IDList(),\n              draw: new IDList(),\n              destroy: new IDList(),\n            };\n            game.actions = new IDList();\n            game.renders = new IDList();\n            game.objs = new IDList();\n            game.timers = new IDList();\n            game.cam = {\n              pos: vec2(gfx.width() / 2, gfx.height() / 2),\n              scale: vec2(1, 1),\n              angle: 0,\n              shake: 0,\n            };\n            game.camMousePos = app.mousePos();\n            game.camMatrix = mat4();\n            game.layers = {};\n            game.defLayer = null;\n            game.gravity = DEF_GRAVITY;\n            game.scenes[id](...args);\n            if (gconf.debug) {\n              regDebugInput();\n            }\n          });\n        }\n        __name(go, 'go');\n        function getData(key, def) {\n          try {\n            return JSON.parse(window.localStorage[key]);\n          } catch {\n            if (def) {\n              setData(key, def);\n              return def;\n            }\n            return null;\n          }\n        }\n        __name(getData, 'getData');\n        function setData(key, data) {\n          window.localStorage[key] = JSON.stringify(data);\n        }\n        __name(setData, 'setData');\n        const ctx = {\n          loadRoot: assets.loadRoot,\n          loadSprite: assets.loadSprite,\n          loadSound: assets.loadSound,\n          loadFont: assets.loadFont,\n          loadShader: assets.loadShader,\n          addLoader: assets.addLoader,\n          width: gfx.width,\n          height: gfx.height,\n          dt,\n          time: app.time,\n          screenshot: app.screenshot,\n          focused: app.focused,\n          focus: app.focus,\n          cursor: app.cursor,\n          ready,\n          isTouch: app.isTouch,\n          layers,\n          camPos,\n          camScale,\n          camRot,\n          camShake,\n          camIgnore,\n          gravity,\n          add,\n          readd,\n          destroy,\n          destroyAll,\n          get,\n          every,\n          revery,\n          sync,\n          send,\n          recv,\n          pos,\n          scale,\n          rotate,\n          color,\n          origin,\n          layer,\n          area,\n          sprite,\n          text,\n          rect,\n          solid,\n          body,\n          shader,\n          on,\n          action,\n          render,\n          collides,\n          overlaps,\n          clicks,\n          keyDown,\n          keyPress,\n          keyPressRep,\n          keyRelease,\n          mouseDown,\n          mouseClick,\n          mouseRelease,\n          mouseMove,\n          charInput,\n          touchStart,\n          touchMove,\n          touchEnd,\n          touchIsActive,\n          mousePos,\n          keyIsDown: app.keyDown,\n          keyIsPressed: app.keyPressed,\n          keyIsPressedRep: app.keyPressedRep,\n          keyIsReleased: app.keyReleased,\n          mouseIsDown: app.mouseDown,\n          mouseIsClicked: app.mouseClicked,\n          mouseIsReleased: app.mouseReleased,\n          mouseIsMoved: app.mouseMoved,\n          loop,\n          wait,\n          play,\n          volume: audio.volume,\n          burp: audio.burp,\n          makeRng,\n          rand,\n          randSeed,\n          vec2,\n          rgb,\n          rgba,\n          quad,\n          choose,\n          chance,\n          lerp,\n          map,\n          mapc,\n          wave,\n          deg2rad,\n          rad2deg,\n          drawSprite,\n          drawText,\n          drawRect: gfx.drawRect,\n          drawRectStroke: gfx.drawRectStroke,\n          drawLine: gfx.drawLine,\n          drawTri: gfx.drawTri,\n          debug,\n          addLevel,\n          addSprite,\n          addRect,\n          addText,\n          scene,\n          go,\n          getData,\n          setData,\n        };\n\n\n        if (gconf.plugins) {\n          for (const src of gconf.plugins) {\n            const map2 = src(ctx);\n            for (const k in map2) {\n              ctx[k] = map2[k];\n            }\n          }\n        }\n        if (gconf.global) {\n          Object.entries(ctx).forEach(([key, value]) => {\n            window[key] = value\n          })\n        }\n        app.run(() => {\n          gfx.frameStart();\n          if (!game.loaded) {\n            const progress = assets.loadProgress();\n            if (progress === 1) {\n              game.loaded = true;\n              game.trigger('load');\n              if (net) {\n                net.connect().catch(logger.error);\n              }\n            } else {\n              const w = gfx.width() / 2;\n              const h = 24 / gfx.scale();\n              const pos2 = vec2(gfx.width() / 2, gfx.height() / 2).sub(\n                vec2(w / 2, h / 2)\n              );\n              gfx.drawRect(vec2(0), gfx.width(), gfx.height(), {\n                color: rgb(0, 0, 0),\n              });\n              gfx.drawRectStroke(pos2, w, h, { width: 4 / gfx.scale() });\n              gfx.drawRect(pos2, w * progress, h);\n            }\n          } else {\n            try {\n              game.camMousePos = game.camMatrix\n                .invert()\n                .multVec2(app.mousePos());\n              game.trigger('input');\n              gameFrame();\n              if (debug.inspect) {\n                drawInspect();\n              }\n            } catch (e) {\n              logger.error(e.stack);\n              app.quit();\n            }\n            if (debug.showLog) {\n              logger.draw();\n            }\n          }\n          gfx.frameEnd();\n        });\n        function regDebugInput() {\n          keyPress('f1', () => {\n            debug.inspect = !debug.inspect;\n          });\n          keyPress('f2', () => {\n            debug.clearLog();\n          });\n          keyPress('f8', () => {\n            debug.paused = !debug.paused;\n            logger.info(`${debug.paused ? 'paused' : 'unpaused'}`);\n          });\n          keyPress('f7', () => {\n            debug.timeScale = clamp(debug.timeScale - 0.2, 0, 2);\n            logger.info(`time scale: ${debug.timeScale.toFixed(1)}`);\n          });\n          keyPress('f9', () => {\n            debug.timeScale = clamp(debug.timeScale + 0.2, 0, 2);\n            logger.info(`time scale: ${debug.timeScale.toFixed(1)}`);\n          });\n          keyPress('f10', () => {\n            debug.stepFrame();\n            logger.info(`stepped frame`);\n          });\n        }\n        __name(regDebugInput, 'regDebugInput');\n        if (gconf.debug) {\n          regDebugInput();\n        }\n        return ctx;\n      };\n    },\n  });\n  return require_kaboom();\n})();\n\nexport default kaboom;\n","import kaboom from './kaboom';\n// import asepritePlugin from 'kaboom/plugins/aseprite';\n/* eslint-disable  */\nkaboom({\n\tglobal: true,\n\tfullscreen: true,\n\tscale: 2,\n\tclearColor: [0, 0, 0, 1],\n});\n\n\n\n// // load assets\n// loadRoot(\"/\");\nloadSprite(\"guy\", \"guy.png\");\nloadSprite(\"spike\", \"spike.png\");\nloadSprite(\"steel\", \"steel.png\");\nloadSprite(\"prize\", \"jumpy.png\");\nloadSprite(\"apple\", \"apple.png\");\nloadSprite(\"coin\", \"coin.png\");\n\n// // define some constants\nconst JUMP_FORCE = 320;\nconst MOVE_SPEED = 120;\nconst FALL_DEATH = 640;\n\n// define layers, draw \"ui\" on top, and \"game\" is the default layer\nlayers([\n\t\"game\",\n\t\"ui\",\n], \"game\");\n\n// camera will ignore \"ui\" layer\ncamIgnore([ \"ui\", ]);\n\n// add level to scene\nconst level = addLevel([\n\t\"           $    \",\n\t\"  %      ====   \",\n\t\"                \",\n\t\"                \",\n\t\"       ^^       \",\n\t\"===============\",\n], {\n\t// TODO: derive grid size from sprite size instead of hardcode\n\t// grid size\n\twidth: 11,\n\theight: 11,\n\t// define each object as a list of components\n\t\"=\": [\n\t\tsprite(\"steel\"),\n\t\tsolid(),\n\t],\n\t\"$\": [\n\t\tsprite(\"coin\"),\n\t\t\"coin\",\n\t],\n\t\"%\": [\n\t\tsprite(\"prize\"),\n\t\tsolid(),\n\t\t\"prize\",\n\t],\n\t\"^\": [\n\t\tsprite(\"spike\"),\n\t\tarea(vec2(0, 6), vec2(11, 11)),\n\t\t\"dangerous\",\n\t],\n\t\"#\": [\n\t\tsprite(\"apple\"),\n\t\t\"apple\",\n\t],\n});\n\n// add score counter obj\nconst score = add([\n\ttext(\"0\"),\n\tpos(6, 6),\n\tlayer(\"ui\"),\n\t{\n\t\tvalue: 0,\n\t},\n]);\n\n// define a custom component that handles player grow big logic\nfunction big() {\n\tlet timer = 0;\n\tlet isBig = false;\n\treturn {\n\t\tupdate() {\n\t\t\tif (isBig) {\n\t\t\t\ttimer -= dt();\n\t\t\t\tif (timer <= 0) {\n\t\t\t\t\tthis.smallify();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tisBig() {\n\t\t\treturn isBig;\n\t\t},\n\t\tsmallify() {\n\t\t\tthis.scale = vec2(1);\n\t\t\ttimer = 0;\n\t\t\tisBig = false;\n\t\t},\n\t\tbiggify(time) {\n\t\t\tthis.scale = vec2(2);\n\t\t\ttimer = time;\n\t\t\tisBig = true;\n\t\t},\n\t};\n}\n\n// define player object\nconst player = add([\n\tsprite(\"guy\"),\n\tpos(0, 0),\n\tscale(1),\n\t// makes it fall to gravity and jumpable\n\tbody(),\n\t// as we defined above\n\tbig(),\n]);\n\n// action() runs every frame\nplayer.action(() => {\n\t// center camera to player\n\tcamPos(player.pos);\n\t// check fall death\n\tif (player.pos.y >= FALL_DEATH) {\n\t\tgo(\"lose\", { score: score.value, });\n\t}\n});\n\n// if player collides with any obj with \"dangerous\" tag, lose\nplayer.collides(\"dangerous\", () => {\n\tgo(\"lose\", { score: score.value, });\n});\n\n// grow an apple if player's head bumps into an obj with \"prize\" tag\nplayer.on(\"headbutt\", (obj) => {\n\tif (obj.is(\"prize\")) {\n\t\tlevel.spawn(\"#\", obj.gridPos.sub(0, 1));\n\t}\n});\n\n// player grows big collides with an \"apple\" obj\nplayer.collides(\"apple\", (a) => {\n\tdestroy(a);\n\t// as we defined in the big() component\n\tplayer.biggify(3);\n});\n\n// increase score if meets coin\nplayer.collides(\"coin\", (c) => {\n\tdestroy(c);\n\tscore.value++;\n\tscore.text = score.value;\n});\n\n// jump with space\nkeyPress(\"space\", () => {\n\t// these 2 functions are provided by body() component\n\tif (player.grounded()) {\n\t\tplayer.jump(JUMP_FORCE);\n\t}\n});\n\nkeyDown(\"left\", () => {\n\tplayer.move(-MOVE_SPEED, 0);\n});\n\nkeyDown(\"right\", () => {\n\tplayer.move(MOVE_SPEED, 0);\n});\n\nscene(\"lose\", ({ score }) => {\n\tadd([\n\t\ttext(\"Score: \" + score, 24),\n\t\torigin(\"center\"),\n\t\tpos(width() / 2, height() / 2),\n\t]);\n});\n"]}