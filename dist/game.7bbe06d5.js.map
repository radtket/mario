{"version":3,"sources":["kaboom.js","game.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["kaboom","__defProp","Object","defineProperty","__name","target","value","configurable","__esm","fn","res","__init","keys","__commonJS","cb","mod","__require","exports","__toBinary","table","Uint8Array","i","base64","n","length","bytes","i2","j","c0","charCodeAt","c1","c2","c3","deg2rad","deg","Math","PI","rad2deg","rad","clamp","val","min","max","lerp","a","b","t","map","v","l1","h1","l2","h2","mapc","vec2","args","isVec2","x","y","Array","isArray","apply","clone","add","p2","sub","scale","s","dist","sqrt","len","unit","normal","dot","angle","atan2","toFixed","eq","other","str","vec2FromAngle","cos","sin","vec3","z","xy","p","isVec3","isColor","c","r","g","isMat4","m","rgb","rgba","lighten","darken","invert","isDark","isLight","quad","w","h","mat4","mult","out","multVec4","multVec3","p4","multVec2","translate","rotateX","rotateY","rotateZ","f00","f01","f02","f03","f04","f05","f06","f07","f08","f09","f10","f11","f12","f13","f14","f15","f16","f17","f18","det","wave","lo","hi","makeRng","seed","gen","A","C","M","randSeed","defRNG","rand","chance","choose","list","floor","colRectRect","r1","r2","p1","overlapRectRect","colRectPt","pt","init_math","Date","now","deepEq","o1","o2","t1","t2","k1","k2","k","v1","v2","init_utils","originPt","orig","gfxInit","gl","gconf","texFilter","LINEAR","NEAREST","gfx","defProg","makeProgram","DEF_VERT","DEF_FRAG","emptyTex","makeTex","ImageData","Uint8ClampedArray","clearColor","enable","BLEND","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","vbuf","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","QUEUE_COUNT","DYNAMIC_DRAW","ibuf","ELEMENT_ARRAY_BUFFER","bgTex","drawCalls","lastDrawCalls","curProg","defTex","curTex","curUniform","vqueue","iqueue","transform","transformStack","frameStart","frameEnd","powerOfTwo","log","data","id","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","wrap","width","height","REPEAT","CLAMP_TO_EDGE","TEXTURE_WRAP_S","TEXTURE_WRAP_T","bind","unbind","vertSrc","fragSrc","msg","vcode","VERT_TEMPLATE","replace","fcode","FRAG_TEMPLATE","vertShader","createShader","VERTEX_SHADER","fragShader","FRAGMENT_SHADER","shaderSource","compileShader","getShaderInfoLog","Error","createProgram","attachShader","bindAttribLocation","linkProgram","getProgramInfoLog","useProgram","bindAttribs","vertexAttribPointer","FLOAT","STRIDE","enableVertexAttribArray","send","uniform","name","loc","getUniformLocation","uniform1f","uniformMatrix4fv","Float32Array","uniform4f","uniform3f","uniform2f","makeFont","tex","gw","gh","chars","cols","rows","qw","qh","map2","charMap","split","entries","ch","drawRaw","verts","indices","prog","flush","nIndices","nVerts","toNDC","pos","uv","color","flat","forEach","push","bufferSubData","Uint16Array","drawElements","TRIANGLES","UNSIGNED_SHORT","clear","COLOR_BUFFER_BIT","drawQuad","BG_GRID_SIZE","pushMatrix","pushTranslate","pushScale","pushRotateX","pushRotateY","pushRotateZ","pushTransform","popTransform","pop","conf","origin","DEF_ORIGIN","offset","scale2","rot","q","flipX","flipY","drawTexture","tiled","repX","ceil","repY","drawRect","drawRectStroke","p3","drawLine","drawTri","fmtText","text","font","size","cw","curX","th","tw","flines","curLine","lastSpace","cursor","char","slice","fchars","ox","oy","line","ln","oxl","cn","qpos","drawText","txt","drawFmtText","ftext","drawingBufferWidth","drawingBufferHeight","init_gfx","processBtnState","appInit","app","canvas","document","createElement","root","body","appendChild","keyStates","charInputted","mouseMoved","mouseState","mousePos","time","realTime","skipTime","dt","isTouch","loopID","stopped","fps","fpsBuf","fpsTimer","keyMap","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","preventDefaultKeys","fullscreen","window","innerWidth","innerHeight","styles","crisp","style","join","setAttribute","getContext","antialias","depth","stencil","alpha","preserveDrawingBuffer","navigator","maxTouchPoints","msMaxTouchPoints","addEventListener","e","offsetX","offsetY","touchToMouse","preventDefault","touches","clientX","clientY","key","toLowerCase","includes","repeat","focus","visibilityState","mouseClicked","mouseDown","mouseReleased","keyPressed","keyPressedRep","keyDown","keyReleased","screenshot","toDataURL","run","f","frame","realDt","round","reduce","requestAnimationFrame","quit","cancelAnimationFrame","focused","activeElement","init_app","burp_default","init_burp","audioInit","audio","ctx2","AudioContext","webkitAudioContext","gainNode","createGain","masterNode","connect","destination","ctx","burpBuf","decodeAudioData","buffer","buf","volume","gain","MIN_GAIN","MAX_GAIN","play","sound","loop","speed","detune","seek","srcNode","createBufferSource","start","startTime","currentTime","stopTime","handle","stop","pause","oldNode","playbackRate","pos2","paused","MIN_SPEED","MAX_SPEED","MIN_DETUNE","MAX_DETUNE","unloop","duration","burp","init_audio","unscii_8x8_default","init_unscii_8x8","mark_default","init_mark","loadImg","src","img","Image","crossOrigin","Promise","resolve","reject","onload","onerror","isDataUrl","startsWith","assetsInit","assets","lastLoaderID","loadRoot","loaders","sprites","sounds","fonts","shaders","addLoader","prom","catch","errHandler","console","error","finally","loadProgress","total","loaded","path","loadFont","ASCII_CHARS","loader","then","loadSprite","sliceX","sliceY","anims","loadRawSprite","name2","src2","conf2","gridWidth","gridHeight","frames","sprite","loadShader","vert","frag","isUrl","loadRawShader","vert2","frag2","shader","resolveUrl","url","fetch","ok","all","err","loadSound","arrayBuffer","resolve2","reject2","defFont","DEF_FONT","init_assets","loggerInit","logs","draw","txtAlpha","bgAlpha","col","type","LOG_SIZE","unshift","info","init_logger","netInit","handlers","sendQueue","socket","connected","readyState","ws","WebSocket","onopen","onmessage","JSON","parse","handler","recv","stringify","close","init_net","require_kaboom","module","IDList","lastID","set","delete","Map","debug","logMax","logger","net","NetMsg","NetMsg2","AddObj","UpdateObj","DestroyObj","Disconnect","sync","obj","game","travelers","_id","_data","visitors","oid","destroy","objs","get","values","ty","timeScale","pb","AudioBuffer","numberOfChannels","sampleRate","ready","pb2","isCamLayer","layer2","layers","defLayer","noCam","camMousePos","drawSprite","spr","fid","DEF_GRAVITY","DEF_ORIGIN2","events","objEvents","actions","renders","timers","cam","shake","camMatrix","gravity","on","ev","pushd","trigger","scenes","def","idx","order","camPos","camScale","camRot","camShake","intensity","camIgnore","layers2","COMP_EVENTS","Set","comps","compStates","customState","tags","hidden","use","comp","stateContainer","func","has","exists","is","tag","action","call","gEvents","rmTag","indexOf","splice","_inspect","inspect","deps","require","dep","readd","event","render","collides","_checkCollisions","overlaps","_checkOverlaps","clicks","o","isClicked","wait","newF","cancellers","keyPress","keyPressRep","keyRelease","mouseClick","mouseRelease","mouseMove","charInput","touchStart","touchMove","touchEnd","touchIsActive","sort","layer","filter","every","revery","reverse","destroyAll","gameFrame","ignorePause","nextFrame","doUpdate","drawInspect","inspecting","lcolor","inspectColor","drawInspectTxt","pad","ftxt","drawObj","isCam","area","isHovered","lwidth","_worldArea","mpos","lines","field","move","dx","dy","screenPos","rotate","l","isSameLayer","colliding","overlapping","areaWidth","p12","p22","areaHeight","hasPt","isCollided","a1","a2","isOverlapped","hovers","pushOut","disLeft","disRight","disTop","disBottom","side","dis","pushOutAll","solid","area2","getAreaFromSize","curAnim","calcTexScale","animSpeed","noArea","load","update","anim","timer","to","from","loop2","prevAnim","changeSprite","id2","numFrames","textSize","rect","DEF_MAX_VEL","DEF_JUMP_FORCE","velY","curPlatform","lastPlatformPos","maxVel","jumpForce","targets","justOff","grounded","falling","jump","force","showLog","objCount","stepFrame","clearLog","gridder","level","gridPos","setGridPos","moveLeft","moveRight","moveUp","moveDown","addLevel","longRow","getPos","spawn","sym","any","row","syms","commonProps","props","addSprite","addRect","addText","scene","go","regDebugInput","getData","localStorage","setData","keyIsDown","keyIsPressed","keyIsPressedRep","keyIsReleased","mouseIsDown","mouseIsClicked","mouseIsReleased","mouseIsMoved","plugins","global","progress","stack","JUMP_FORCE","MOVE_SPEED","FALL_DEATH","score","big","isBig","smallify","biggify","player","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","hostname","location","protocol","handled","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","message","overlay","createErrorOverlay","getElementById","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","d","concat","Function","cached","cache","some"],"mappings":"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","file":"game.7bbe06d5.js","sourceRoot":"..","sourcesContent":["/* eslint-disable no-void */\n/* eslint-disable camelcase */\n/* eslint-disable no-use-before-define */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable  */\nconst kaboom = (() => {\n  const __defProp = Object.defineProperty;\n  const __name = (target, value) =>\n    __defProp(target, 'name', { value, configurable: true });\n  const __esm = (fn, res) =>\n    function __init() {\n      return fn && (res = (0, fn[Object.keys(fn)[0]])((fn = 0))), res;\n    };\n  const __commonJS = (cb, mod) =>\n    function __require() {\n      return (\n        mod ||\n          (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod),\n        mod.exports\n      );\n    };\n  const __toBinary = /* @__PURE__ */ (() => {\n    const table = new Uint8Array(128);\n    for (let i = 0; i < 64; i++)\n      table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] =\n        i;\n    return base64 => {\n      const n = base64.length;\n      const bytes = new Uint8Array(\n        (((n - (base64[n - 1] == '=') - (base64[n - 2] == '=')) * 3) / 4) | 0\n      );\n      for (let i2 = 0, j = 0; i2 < n; ) {\n        const c0 = table[base64.charCodeAt(i2++)];\n        const c1 = table[base64.charCodeAt(i2++)];\n        const c2 = table[base64.charCodeAt(i2++)];\n        const c3 = table[base64.charCodeAt(i2++)];\n        bytes[j++] = (c0 << 2) | (c1 >> 4);\n        bytes[j++] = (c1 << 4) | (c2 >> 2);\n        bytes[j++] = (c2 << 6) | c3;\n      }\n      return bytes;\n    };\n  })();\n\n  // src/math.ts\n  function deg2rad(deg) {\n    return (deg * Math.PI) / 180;\n  }\n  function rad2deg(rad) {\n    return (rad * 180) / Math.PI;\n  }\n  function clamp(val, min, max) {\n    if (min > max) {\n      return clamp(val, max, min);\n    }\n    return Math.min(Math.max(val, min), max);\n  }\n  function lerp(a, b, t) {\n    return a + (b - a) * t;\n  }\n  function map(v, l1, h1, l2, h2) {\n    return l2 + ((v - l1) / (h1 - l1)) * (h2 - l2);\n  }\n  function mapc(v, l1, h1, l2, h2) {\n    return clamp(map(v, l1, h1, l2, h2), l2, h2);\n  }\n  function vec2(...args) {\n    if (args.length === 0) {\n      return vec2(0, 0);\n    }\n    if (args.length === 1) {\n      if (typeof args[0] === 'number') {\n        return vec2(args[0], args[0]);\n      }\n      if (isVec2(args[0])) {\n        return vec2(args[0].x, args[0].y);\n      }\n      if (Array.isArray(args[0]) && args[0].length === 2) {\n        return vec2.apply(null, args[0]);\n      }\n    }\n    return {\n      x: args[0],\n      y: args[1],\n      clone() {\n        return vec2(this.x, this.y);\n      },\n      add(...args2) {\n        const p2 = vec2(...args2);\n        return vec2(this.x + p2.x, this.y + p2.y);\n      },\n      sub(...args2) {\n        const p2 = vec2(...args2);\n        return vec2(this.x - p2.x, this.y - p2.y);\n      },\n      scale(...args2) {\n        const s = vec2(...args2);\n        return vec2(this.x * s.x, this.y * s.y);\n      },\n      dist(...args2) {\n        const p2 = vec2(...args2);\n        return Math.sqrt(\n          (this.x - p2.x) * (this.x - p2.x) + (this.y - p2.y) * (this.y - p2.y)\n        );\n      },\n      len() {\n        return this.dist(vec2(0, 0));\n      },\n      unit() {\n        return this.scale(1 / this.len());\n      },\n      normal() {\n        return vec2(this.y, -this.x);\n      },\n      dot(p2) {\n        return this.x * p2.x + this.y + p2.y;\n      },\n      angle(...args2) {\n        const p2 = vec2(...args2);\n        return Math.atan2(this.y - p2.y, this.x - p2.x);\n      },\n      lerp(p2, t) {\n        return vec2(lerp(this.x, p2.x, t), lerp(this.y, p2.y, t));\n      },\n      toFixed(n) {\n        return vec2(this.x.toFixed(n), this.y.toFixed(n));\n      },\n      eq(other) {\n        return this.x === other.x && this.y === other.y;\n      },\n      str() {\n        return `(${this.x}, ${this.y})`;\n      },\n    };\n  }\n  function vec2FromAngle(a) {\n    return vec2(Math.cos(a), Math.sin(a));\n  }\n  function vec3(x, y, z) {\n    return {\n      x,\n      y,\n      z,\n      xy() {\n        return vec2(this.x, this.y);\n      },\n    };\n  }\n  function isVec2(p) {\n    return p !== void 0 && p.x !== void 0 && p.y !== void 0;\n  }\n  function isVec3(p) {\n    return p !== void 0 && p.x !== void 0 && p.y !== void 0 && p.z !== void 0;\n  }\n  function isColor(c) {\n    return (\n      c !== void 0 &&\n      c.r !== void 0 &&\n      c.g !== void 0 &&\n      c.b !== void 0 &&\n      c.a !== void 0\n    );\n  }\n  function isMat4(m) {\n    if (m !== void 0 && Array.isArray(m.m) && m.m.length === 16) {\n      return m;\n    }\n  }\n  function rgb(...args) {\n    if (args.length === 0) {\n      return rgba();\n    }\n    if (args.length === 1) {\n      if (isColor(args[0])) {\n        return rgba(args[0]);\n      }\n      if (Array.isArray(args[0]) && args[0].length === 3) {\n        return rgb.apply(null, args[0]);\n      }\n    }\n    return rgba(args[0], args[1], args[2], 1);\n  }\n  function rgba(...args) {\n    if (args.length === 0) {\n      return rgba(1, 1, 1, 1);\n    }\n    if (args.length === 1) {\n      if (isColor(args[0])) {\n        return rgba(args[0].r, args[0].g, args[0].b, args[0].a);\n      }\n      if (Array.isArray(args[0]) && args[0].length === 4) {\n        return rgba.apply(null, args[0]);\n      }\n    }\n    return {\n      r: args[0],\n      g: args[1],\n      b: args[2],\n      a: args[3] ?? 1,\n      clone() {\n        return rgba(this.r, this.g, this.b, this.a);\n      },\n      lighten(a) {\n        return rgba(this.r + a, this.g + a, this.b + a, this.a);\n      },\n      darken(a) {\n        return this.lighten(-a);\n      },\n      invert() {\n        return rgba(1 - this.r, 1 - this.g, 1 - this.b, this.a);\n      },\n      isDark(p = 0.5) {\n        return this.r + this.g + this.b < 3 * p;\n      },\n      isLight(p = 0.5) {\n        return this.r + this.g + this.b > 3 * p;\n      },\n      eq(other) {\n        return (\n          this.r === other.r &&\n          this.g === other.g &&\n          this.b === other.g &&\n          this.a === other.a\n        );\n      },\n    };\n  }\n  function quad(x, y, w, h) {\n    return {\n      x,\n      y,\n      w,\n      h,\n      scale(other) {\n        return quad(\n          this.x + this.w * other.x,\n          this.y + this.h * other.y,\n          this.w * other.w,\n          this.h * other.h\n        );\n      },\n      clone() {\n        return quad(this.x, this.y, this.w, this.h);\n      },\n      eq(other) {\n        return (\n          this.x === other.x &&\n          this.y === other.y &&\n          this.w === other.w &&\n          this.h === other.h\n        );\n      },\n    };\n  }\n  function mat4(m) {\n    return {\n      m: m ? [...m] : [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\n      clone() {\n        return mat4(this.m);\n      },\n      mult(other) {\n        const out = [];\n        for (let i = 0; i < 4; i++) {\n          for (let j = 0; j < 4; j++) {\n            out[i * 4 + j] =\n              this.m[0 * 4 + j] * other.m[i * 4 + 0] +\n              this.m[1 * 4 + j] * other.m[i * 4 + 1] +\n              this.m[2 * 4 + j] * other.m[i * 4 + 2] +\n              this.m[3 * 4 + j] * other.m[i * 4 + 3];\n          }\n        }\n        return mat4(out);\n      },\n      multVec4(p) {\n        return {\n          x:\n            p.x * this.m[0] +\n            p.y * this.m[4] +\n            p.z * this.m[8] +\n            p.w * this.m[12],\n          y:\n            p.x * this.m[1] +\n            p.y * this.m[5] +\n            p.z * this.m[9] +\n            p.w * this.m[13],\n          z:\n            p.x * this.m[2] +\n            p.y * this.m[6] +\n            p.z * this.m[10] +\n            p.w * this.m[14],\n          w:\n            p.x * this.m[3] +\n            p.y * this.m[7] +\n            p.z * this.m[11] +\n            p.w * this.m[15],\n        };\n      },\n      multVec3(p) {\n        const p4 = this.multVec4({\n          x: p.x,\n          y: p.y,\n          z: p.z,\n          w: 1,\n        });\n        return vec3(p4.x, p4.y, p4.z);\n      },\n      multVec2(p) {\n        return vec2(\n          p.x * this.m[0] + p.y * this.m[4] + 0 * this.m[8] + 1 * this.m[12],\n          p.x * this.m[1] + p.y * this.m[5] + 0 * this.m[9] + 1 * this.m[13]\n        );\n      },\n      translate(p) {\n        return this.mult(\n          mat4([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, p.x, p.y, 0, 1])\n        );\n      },\n      scale(s) {\n        return this.mult(\n          mat4([s.x, 0, 0, 0, 0, s.y, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])\n        );\n      },\n      rotateX(a) {\n        return this.mult(\n          mat4([\n            1,\n            0,\n            0,\n            0,\n            0,\n            Math.cos(a),\n            -Math.sin(a),\n            0,\n            0,\n            Math.sin(a),\n            Math.cos(a),\n            0,\n            0,\n            0,\n            0,\n            1,\n          ])\n        );\n      },\n      rotateY(a) {\n        return this.mult(\n          mat4([\n            Math.cos(a),\n            0,\n            -Math.sin(a),\n            0,\n            0,\n            1,\n            0,\n            0,\n            Math.sin(a),\n            0,\n            Math.cos(a),\n            0,\n            0,\n            0,\n            0,\n            1,\n          ])\n        );\n      },\n      rotateZ(a) {\n        return this.mult(\n          mat4([\n            Math.cos(a),\n            -Math.sin(a),\n            0,\n            0,\n            Math.sin(a),\n            Math.cos(a),\n            0,\n            0,\n            0,\n            0,\n            1,\n            0,\n            0,\n            0,\n            0,\n            1,\n          ])\n        );\n      },\n      invert() {\n        const out = [];\n        const f00 = this.m[10] * this.m[15] - this.m[14] * this.m[11];\n        const f01 = this.m[9] * this.m[15] - this.m[13] * this.m[11];\n        const f02 = this.m[9] * this.m[14] - this.m[13] * this.m[10];\n        const f03 = this.m[8] * this.m[15] - this.m[12] * this.m[11];\n        const f04 = this.m[8] * this.m[14] - this.m[12] * this.m[10];\n        const f05 = this.m[8] * this.m[13] - this.m[12] * this.m[9];\n        const f06 = this.m[6] * this.m[15] - this.m[14] * this.m[7];\n        const f07 = this.m[5] * this.m[15] - this.m[13] * this.m[7];\n        const f08 = this.m[5] * this.m[14] - this.m[13] * this.m[6];\n        const f09 = this.m[4] * this.m[15] - this.m[12] * this.m[7];\n        const f10 = this.m[4] * this.m[14] - this.m[12] * this.m[6];\n        const f11 = this.m[5] * this.m[15] - this.m[13] * this.m[7];\n        const f12 = this.m[4] * this.m[13] - this.m[12] * this.m[5];\n        const f13 = this.m[6] * this.m[11] - this.m[10] * this.m[7];\n        const f14 = this.m[5] * this.m[11] - this.m[9] * this.m[7];\n        const f15 = this.m[5] * this.m[10] - this.m[9] * this.m[6];\n        const f16 = this.m[4] * this.m[11] - this.m[8] * this.m[7];\n        const f17 = this.m[4] * this.m[10] - this.m[8] * this.m[6];\n        const f18 = this.m[4] * this.m[9] - this.m[8] * this.m[5];\n        out[0] = this.m[5] * f00 - this.m[6] * f01 + this.m[7] * f02;\n        out[4] = -(this.m[4] * f00 - this.m[6] * f03 + this.m[7] * f04);\n        out[8] = this.m[4] * f01 - this.m[5] * f03 + this.m[7] * f05;\n        out[12] = -(this.m[4] * f02 - this.m[5] * f04 + this.m[6] * f05);\n        out[1] = -(this.m[1] * f00 - this.m[2] * f01 + this.m[3] * f02);\n        out[5] = this.m[0] * f00 - this.m[2] * f03 + this.m[3] * f04;\n        out[9] = -(this.m[0] * f01 - this.m[1] * f03 + this.m[3] * f05);\n        out[13] = this.m[0] * f02 - this.m[1] * f04 + this.m[2] * f05;\n        out[2] = this.m[1] * f06 - this.m[2] * f07 + this.m[3] * f08;\n        out[6] = -(this.m[0] * f06 - this.m[2] * f09 + this.m[3] * f10);\n        out[10] = this.m[0] * f11 - this.m[1] * f09 + this.m[3] * f12;\n        out[14] = -(this.m[0] * f08 - this.m[1] * f10 + this.m[2] * f12);\n        out[3] = -(this.m[1] * f13 - this.m[2] * f14 + this.m[3] * f15);\n        out[7] = this.m[0] * f13 - this.m[2] * f16 + this.m[3] * f17;\n        out[11] = -(this.m[0] * f14 - this.m[1] * f16 + this.m[3] * f18);\n        out[15] = this.m[0] * f15 - this.m[1] * f17 + this.m[2] * f18;\n        const det =\n          this.m[0] * out[0] +\n          this.m[1] * out[4] +\n          this.m[2] * out[8] +\n          this.m[3] * out[12];\n        for (let i = 0; i < 4; i++) {\n          for (let j = 0; j < 4; j++) {\n            out[i * 4 + j] *= 1 / det;\n          }\n        }\n        return mat4(out);\n      },\n    };\n  }\n  function wave(lo, hi, t) {\n    return lo + ((Math.sin(t) + 1) / 2) * (hi - lo);\n  }\n  function makeRng(seed) {\n    return {\n      seed,\n      gen(...args) {\n        if (args.length === 0) {\n          this.seed = (A * this.seed + C) % M;\n          return this.seed / M;\n        }\n        if (args.length === 1) {\n          if (typeof args[0] === 'number') {\n            return this.gen(0, args[0]);\n          }\n          if (isVec2(args[0])) {\n            return this.gen(vec2(0, 0), args[0]);\n          }\n          if (isColor(args[0])) {\n            return this.gen(rgba(0, 0, 0, 0), args[0]);\n          }\n        } else if (args.length === 2) {\n          if (typeof args[0] === 'number' && typeof args[1] === 'number') {\n            return this.gen() * (args[1] - args[0]) + args[0];\n          }\n          if (isVec2(args[0]) && isVec2(args[1])) {\n            return vec2(\n              this.gen(args[0].x, args[1].x),\n              this.gen(args[0].y, args[1].y)\n            );\n          }\n          if (isColor(args[0]) && isColor(args[1])) {\n            return rgba(\n              this.gen(args[0].r, args[1].r),\n              this.gen(args[0].g, args[1].g),\n              this.gen(args[0].b, args[1].b),\n              this.gen(args[0].a, args[1].a)\n            );\n          }\n        }\n      },\n    };\n  }\n  function randSeed(seed) {\n    if (seed != null) {\n      defRNG.seed = seed;\n    }\n    return defRNG.seed;\n  }\n  function rand(...args) {\n    return defRNG.gen(...args);\n  }\n  function chance(p) {\n    return rand() <= p;\n  }\n  function choose(list) {\n    return list[Math.floor(rand(list.length))];\n  }\n  function colRectRect(r1, r2) {\n    return (\n      r1.p2.x >= r2.p1.x &&\n      r1.p1.x <= r2.p2.x &&\n      r1.p2.y >= r2.p1.y &&\n      r1.p1.y <= r2.p2.y\n    );\n  }\n  function overlapRectRect(r1, r2) {\n    return (\n      r1.p2.x > r2.p1.x &&\n      r1.p1.x < r2.p2.x &&\n      r1.p2.y > r2.p1.y &&\n      r1.p1.y < r2.p2.y\n    );\n  }\n  function colRectPt(r, pt) {\n    return pt.x >= r.p1.x && pt.x <= r.p2.x && pt.y >= r.p1.y && pt.y < r.p2.y;\n  }\n  let A;\n  let C;\n  let M;\n  let defRNG;\n  const init_math = __esm({\n    'src/math.ts': function () {\n      __name(deg2rad, 'deg2rad');\n      __name(rad2deg, 'rad2deg');\n      __name(clamp, 'clamp');\n      __name(lerp, 'lerp');\n      __name(map, 'map');\n      __name(mapc, 'mapc');\n      __name(vec2, 'vec2');\n      __name(vec2FromAngle, 'vec2FromAngle');\n      __name(vec3, 'vec3');\n      __name(isVec2, 'isVec2');\n      __name(isVec3, 'isVec3');\n      __name(isColor, 'isColor');\n      __name(isMat4, 'isMat4');\n      __name(rgb, 'rgb');\n      __name(rgba, 'rgba');\n      __name(quad, 'quad');\n      __name(mat4, 'mat4');\n      __name(wave, 'wave');\n      A = 1103515245;\n      C = 12345;\n      M = 2147483648;\n      defRNG = makeRng(Date.now());\n      __name(makeRng, 'makeRng');\n      __name(randSeed, 'randSeed');\n      __name(rand, 'rand');\n      __name(chance, 'chance');\n      __name(choose, 'choose');\n      __name(colRectRect, 'colRectRect');\n      __name(overlapRectRect, 'overlapRectRect');\n      __name(colRectPt, 'colRectPt');\n    },\n  });\n\n  // src/utils.ts\n  function deepEq(o1, o2) {\n    const t1 = typeof o1;\n    const t2 = typeof o2;\n    if (t1 !== t2) {\n      return false;\n    }\n    if (t1 === 'object' && t2 === 'object') {\n      const k1 = Object.keys(o1);\n      const k2 = Object.keys(o2);\n      if (k1.length !== k2.length) {\n        return false;\n      }\n      for (const k of k1) {\n        const v1 = o1[k];\n        const v2 = o2[k];\n        if (!(typeof v1 === 'function' && typeof v2 === 'function')) {\n          if (!deepEq(v1, v2)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return o1 === o2;\n  }\n  const init_utils = __esm({\n    'src/utils.ts': function () {\n      __name(deepEq, 'deepEq');\n    },\n  });\n\n  // src/gfx.ts\n  function originPt(orig) {\n    switch (orig) {\n      case 'topleft':\n        return vec2(-1, -1);\n      case 'top':\n        return vec2(0, -1);\n      case 'topright':\n        return vec2(1, -1);\n      case 'left':\n        return vec2(-1, 0);\n      case 'center':\n        return vec2(0, 0);\n      case 'right':\n        return vec2(1, 0);\n      case 'botleft':\n        return vec2(-1, 1);\n      case 'bot':\n        return vec2(0, 1);\n      case 'botright':\n        return vec2(1, 1);\n      default:\n        return orig;\n    }\n  }\n  function gfxInit(gl, gconf) {\n    const texFilter = (() => {\n      switch (gconf.texFilter) {\n        case 'linear':\n          return gl.LINEAR;\n        case 'nearest':\n          return gl.NEAREST;\n        default:\n          return gl.NEAREST;\n      }\n    })();\n    const gfx = (() => {\n      const defProg = makeProgram(DEF_VERT, DEF_FRAG);\n      const emptyTex = makeTex(\n        new ImageData(new Uint8ClampedArray([255, 255, 255, 255]), 1, 1)\n      );\n      const c = gconf.clearColor ?? rgba(0, 0, 0, 1);\n      gl.clearColor(c.r, c.g, c.b, c.a);\n      gl.enable(gl.BLEND);\n      gl.blendFuncSeparate(\n        gl.SRC_ALPHA,\n        gl.ONE_MINUS_SRC_ALPHA,\n        gl.ONE,\n        gl.ONE_MINUS_SRC_ALPHA\n      );\n      const vbuf = gl.createBuffer();\n      gl.bindBuffer(gl.ARRAY_BUFFER, vbuf);\n      gl.bufferData(gl.ARRAY_BUFFER, QUEUE_COUNT * 4, gl.DYNAMIC_DRAW);\n      gl.bindBuffer(gl.ARRAY_BUFFER, null);\n      const ibuf = gl.createBuffer();\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf);\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, QUEUE_COUNT * 2, gl.DYNAMIC_DRAW);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n      const bgTex = makeTex(\n        new ImageData(\n          new Uint8ClampedArray([\n            128, 128, 128, 255, 190, 190, 190, 255, 190, 190, 190, 255, 128,\n            128, 128, 255,\n          ]),\n          2,\n          2\n        )\n      );\n      return {\n        drawCalls: 0,\n        lastDrawCalls: 0,\n        defProg,\n        curProg: defProg,\n        defTex: emptyTex,\n        curTex: emptyTex,\n        curUniform: {},\n        vbuf,\n        ibuf,\n        vqueue: [],\n        iqueue: [],\n        transform: mat4(),\n        transformStack: [],\n        clearColor: c,\n        bgTex,\n      };\n    })();\n    frameStart();\n    frameEnd();\n    function powerOfTwo(n) {\n      return (Math.log(n) / Math.log(2)) % 1 === 0;\n    }\n    __name(powerOfTwo, 'powerOfTwo');\n    function makeTex(data) {\n      const id = gl.createTexture();\n      gl.bindTexture(gl.TEXTURE_2D, id);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, texFilter);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, texFilter);\n      const wrap = (() => {\n        if (powerOfTwo(data.width) && powerOfTwo(data.height)) {\n          return gl.REPEAT;\n        }\n        return gl.CLAMP_TO_EDGE;\n      })();\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrap);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrap);\n      gl.bindTexture(gl.TEXTURE_2D, null);\n      return {\n        width: data.width,\n        height: data.height,\n        bind() {\n          gl.bindTexture(gl.TEXTURE_2D, id);\n        },\n        unbind() {\n          gl.bindTexture(gl.TEXTURE_2D, null);\n        },\n      };\n    }\n    __name(makeTex, 'makeTex');\n    function makeProgram(vertSrc = DEF_VERT, fragSrc = DEF_FRAG) {\n      let msg;\n      const vcode = VERT_TEMPLATE.replace('{{user}}', vertSrc ?? DEF_VERT);\n      const fcode = FRAG_TEMPLATE.replace('{{user}}', fragSrc ?? DEF_FRAG);\n      const vertShader = gl.createShader(gl.VERTEX_SHADER);\n      const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n      gl.shaderSource(vertShader, vcode);\n      gl.shaderSource(fragShader, fcode);\n      gl.compileShader(vertShader);\n      gl.compileShader(fragShader);\n      if ((msg = gl.getShaderInfoLog(vertShader))) {\n        throw new Error(msg);\n      }\n      if ((msg = gl.getShaderInfoLog(fragShader))) {\n        throw new Error(msg);\n      }\n      const id = gl.createProgram();\n      gl.attachShader(id, vertShader);\n      gl.attachShader(id, fragShader);\n      gl.bindAttribLocation(id, 0, 'a_pos');\n      gl.bindAttribLocation(id, 1, 'a_uv');\n      gl.bindAttribLocation(id, 2, 'a_color');\n      gl.linkProgram(id);\n      if ((msg = gl.getProgramInfoLog(id))) {\n        if (msg !== '\\n') {\n          throw new Error(msg);\n        }\n      }\n      return {\n        bind() {\n          gl.useProgram(id);\n        },\n        unbind() {\n          gl.useProgram(null);\n        },\n        bindAttribs() {\n          gl.vertexAttribPointer(0, 3, gl.FLOAT, false, STRIDE * 4, 0);\n          gl.enableVertexAttribArray(0);\n          gl.vertexAttribPointer(1, 2, gl.FLOAT, false, STRIDE * 4, 12);\n          gl.enableVertexAttribArray(1);\n          gl.vertexAttribPointer(2, 4, gl.FLOAT, false, STRIDE * 4, 20);\n          gl.enableVertexAttribArray(2);\n        },\n        send(uniform) {\n          this.bind();\n          for (const name in uniform) {\n            const val = uniform[name];\n            const loc = gl.getUniformLocation(id, name);\n            if (typeof val === 'number') {\n              gl.uniform1f(loc, val);\n            } else if (isMat4(val)) {\n              gl.uniformMatrix4fv(loc, false, new Float32Array(val.m));\n            } else if (isColor(val)) {\n              gl.uniform4f(loc, val.r, val.g, val.b, val.a);\n            } else if (isVec3(val)) {\n              gl.uniform3f(loc, val.x, val.y, val.z);\n            } else if (isVec2(val)) {\n              gl.uniform2f(loc, val.x, val.y);\n            }\n          }\n          this.unbind();\n        },\n      };\n    }\n    __name(makeProgram, 'makeProgram');\n    function makeFont(tex, gw, gh, chars) {\n      const cols = tex.width / gw;\n      const rows = tex.height / gh;\n      const qw = 1 / cols;\n      const qh = 1 / rows;\n      const map2 = {};\n      const charMap = chars.split('').entries();\n      for (const [i, ch] of charMap) {\n        map2[ch] = vec2((i % cols) * qw, Math.floor(i / cols) * qh);\n      }\n      return {\n        tex,\n        map: map2,\n        qw,\n        qh,\n      };\n    }\n    __name(makeFont, 'makeFont');\n    function drawRaw(\n      verts,\n      indices,\n      tex = gfx.defTex,\n      prog = gfx.defProg,\n      uniform = {}\n    ) {\n      tex = tex ?? gfx.defTex;\n      prog = prog ?? gfx.defProg;\n      if (\n        tex !== gfx.curTex ||\n        prog !== gfx.curProg ||\n        !deepEq(gfx.curUniform, uniform) ||\n        gfx.vqueue.length + verts.length * STRIDE > QUEUE_COUNT ||\n        gfx.iqueue.length + indices.length > QUEUE_COUNT\n      ) {\n        flush();\n      }\n      gfx.curTex = tex;\n      gfx.curProg = prog;\n      gfx.curUniform = uniform;\n      const nIndices = indices.map(i => {\n        return i + gfx.vqueue.length / STRIDE;\n      });\n      const nVerts = verts\n        .map(v => {\n          const pt = toNDC(gfx.transform.multVec2(v.pos.xy()));\n          return [\n            pt.x,\n            pt.y,\n            v.pos.z,\n            v.uv.x,\n            v.uv.y,\n            v.color.r,\n            v.color.g,\n            v.color.b,\n            v.color.a,\n          ];\n        })\n        .flat();\n      nIndices.forEach(i => gfx.iqueue.push(i));\n      nVerts.forEach(v => gfx.vqueue.push(v));\n    }\n    __name(drawRaw, 'drawRaw');\n    function flush() {\n      if (\n        !gfx.curTex ||\n        !gfx.curProg ||\n        gfx.vqueue.length === 0 ||\n        gfx.iqueue.length === 0\n      ) {\n        return;\n      }\n      gfx.curProg.send(gfx.curUniform);\n      gl.bindBuffer(gl.ARRAY_BUFFER, gfx.vbuf);\n      gl.bufferSubData(gl.ARRAY_BUFFER, 0, new Float32Array(gfx.vqueue));\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gfx.ibuf);\n      gl.bufferSubData(gl.ELEMENT_ARRAY_BUFFER, 0, new Uint16Array(gfx.iqueue));\n      gfx.curProg.bind();\n      gfx.curProg.bindAttribs();\n      gfx.curTex.bind();\n      gl.drawElements(gl.TRIANGLES, gfx.iqueue.length, gl.UNSIGNED_SHORT, 0);\n      gfx.curTex.unbind();\n      gfx.curProg.unbind();\n      gl.bindBuffer(gl.ARRAY_BUFFER, null);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n      gfx.iqueue = [];\n      gfx.vqueue = [];\n      gfx.drawCalls++;\n    }\n    __name(flush, 'flush');\n    function frameStart() {\n      gl.clear(gl.COLOR_BUFFER_BIT);\n      if (!gconf.clearColor) {\n        drawQuad({\n          width: width(),\n          height: height(),\n          quad: quad(\n            0,\n            0,\n            (width() * scale()) / BG_GRID_SIZE,\n            (height() * scale()) / BG_GRID_SIZE\n          ),\n          tex: gfx.bgTex,\n        });\n      }\n      gfx.drawCalls = 0;\n      gfx.transformStack = [];\n      gfx.transform = mat4();\n    }\n    __name(frameStart, 'frameStart');\n    function frameEnd() {\n      flush();\n      gfx.lastDrawCalls = gfx.drawCalls;\n    }\n    __name(frameEnd, 'frameEnd');\n    function drawCalls() {\n      return gfx.lastDrawCalls;\n    }\n    __name(drawCalls, 'drawCalls');\n    function toNDC(pt) {\n      return vec2((pt.x / width()) * 2 - 1, (-pt.y / height()) * 2 + 1);\n    }\n    __name(toNDC, 'toNDC');\n    function pushMatrix(m) {\n      gfx.transform = m.clone();\n    }\n    __name(pushMatrix, 'pushMatrix');\n    function pushTranslate(p) {\n      if (!p || (p.x === 0 && p.y === 0)) {\n        return;\n      }\n      gfx.transform = gfx.transform.translate(p);\n    }\n    __name(pushTranslate, 'pushTranslate');\n    function pushScale(p) {\n      if (!p || (p.x === 1 && p.y === 1)) {\n        return;\n      }\n      gfx.transform = gfx.transform.scale(p);\n    }\n    __name(pushScale, 'pushScale');\n    function pushRotateX(a) {\n      if (!a) {\n        return;\n      }\n      gfx.transform = gfx.transform.rotateX(a);\n    }\n    __name(pushRotateX, 'pushRotateX');\n    function pushRotateY(a) {\n      if (!a) {\n        return;\n      }\n      gfx.transform = gfx.transform.rotateY(a);\n    }\n    __name(pushRotateY, 'pushRotateY');\n    function pushRotateZ(a) {\n      if (!a) {\n        return;\n      }\n      gfx.transform = gfx.transform.rotateZ(a);\n    }\n    __name(pushRotateZ, 'pushRotateZ');\n    function pushTransform() {\n      gfx.transformStack.push(gfx.transform.clone());\n    }\n    __name(pushTransform, 'pushTransform');\n    function popTransform() {\n      if (gfx.transformStack.length > 0) {\n        gfx.transform = gfx.transformStack.pop();\n      }\n    }\n    __name(popTransform, 'popTransform');\n    function drawQuad(conf = {}) {\n      const w = conf.width || 0;\n      const h = conf.height || 0;\n      const pos = conf.pos || vec2(0, 0);\n      const origin = originPt(conf.origin || DEF_ORIGIN);\n      const offset = origin.scale(vec2(w, h).scale(-0.5));\n      const scale2 = vec2(conf.scale ?? 1);\n      const rot = conf.rot || 0;\n      const q = conf.quad || quad(0, 0, 1, 1);\n      const z = 1 - (conf.z ?? 0);\n      const color = conf.color || rgba(1, 1, 1, 1);\n      pushTransform();\n      pushTranslate(pos);\n      pushRotateZ(rot);\n      pushScale(scale2);\n      pushTranslate(offset);\n      drawRaw(\n        [\n          {\n            pos: vec3(-w / 2, h / 2, z),\n            uv: vec2(\n              conf.flipX ? q.x + q.w : q.x,\n              conf.flipY ? q.y : q.y + q.h\n            ),\n            color,\n          },\n          {\n            pos: vec3(-w / 2, -h / 2, z),\n            uv: vec2(\n              conf.flipX ? q.x + q.w : q.x,\n              conf.flipY ? q.y + q.h : q.y\n            ),\n            color,\n          },\n          {\n            pos: vec3(w / 2, -h / 2, z),\n            uv: vec2(\n              conf.flipX ? q.x : q.x + q.w,\n              conf.flipY ? q.y + q.h : q.y\n            ),\n            color,\n          },\n          {\n            pos: vec3(w / 2, h / 2, z),\n            uv: vec2(\n              conf.flipX ? q.x : q.x + q.w,\n              conf.flipY ? q.y : q.y + q.h\n            ),\n            color,\n          },\n        ],\n        [0, 1, 3, 1, 2, 3],\n        conf.tex,\n        conf.prog,\n        conf.uniform\n      );\n      popTransform();\n    }\n    __name(drawQuad, 'drawQuad');\n    function drawTexture(tex, conf = {}) {\n      const q = conf.quad ?? quad(0, 0, 1, 1);\n      const w = tex.width * q.w;\n      const h = tex.height * q.h;\n      const scale2 = vec2(1);\n      if (conf.tiled) {\n        const repX = Math.ceil((conf.width || w) / w);\n        const repY = Math.ceil((conf.height || h) / h);\n        const origin = originPt(conf.origin || DEF_ORIGIN)\n          .add(vec2(1, 1))\n          .scale(0.5);\n        const offset = origin.scale(repX * w, repY * h);\n        for (let i = 0; i < repX; i++) {\n          for (let j = 0; j < repY; j++) {\n            drawQuad({\n              ...conf,\n              pos: (conf.pos || vec2(0)).add(vec2(w * i, h * j)).sub(offset),\n              scale: scale2.scale(conf.scale || vec2(1)),\n              tex,\n              quad: q,\n              width: w,\n              height: h,\n              origin: 'topleft',\n            });\n          }\n        }\n      } else {\n        if (conf.width && conf.height) {\n          scale2.x = conf.width / w;\n          scale2.y = conf.height / h;\n        } else if (conf.width) {\n          scale2.x = conf.width / w;\n          scale2.y = scale2.x;\n        } else if (conf.height) {\n          scale2.y = conf.height / h;\n          scale2.x = scale2.y;\n        }\n        drawQuad({\n          ...conf,\n          scale: scale2.scale(conf.scale || vec2(1)),\n          tex,\n          quad: q,\n          width: w,\n          height: h,\n        });\n      }\n    }\n    __name(drawTexture, 'drawTexture');\n    function drawRect(pos, w, h, conf = {}) {\n      drawQuad({\n        ...conf,\n        pos,\n        width: w,\n        height: h,\n      });\n    }\n    __name(drawRect, 'drawRect');\n    function drawRectStroke(pos, w, h, conf = {}) {\n      const offset = originPt(conf.origin || DEF_ORIGIN)\n        .scale(vec2(w, h))\n        .scale(0.5);\n      const p1 = pos.add(vec2(-w / 2, -h / 2)).sub(offset);\n      const p2 = pos.add(vec2(-w / 2, h / 2)).sub(offset);\n      const p3 = pos.add(vec2(w / 2, h / 2)).sub(offset);\n      const p4 = pos.add(vec2(w / 2, -h / 2)).sub(offset);\n      drawLine(p1, p2, conf);\n      drawLine(p2, p3, conf);\n      drawLine(p3, p4, conf);\n      drawLine(p4, p1, conf);\n    }\n    __name(drawRectStroke, 'drawRectStroke');\n    function drawLine(p1, p2, conf = {}) {\n      const w = conf.width || 1;\n      const h = p1.dist(p2);\n      const rot = Math.PI / 2 - p1.angle(p2);\n      drawQuad({\n        ...conf,\n        pos: p1.add(p2).scale(0.5),\n        width: w,\n        height: h,\n        rot,\n        origin: 'center',\n      });\n    }\n    __name(drawLine, 'drawLine');\n    function drawTri(p1, p2, p3, conf = {}) {\n      const { z } = conf;\n      const color = conf.color || rgb(1, 1, 1);\n      drawRaw(\n        [\n          {\n            pos: vec3(p1.x, p1.y, z),\n            uv: vec2(0, 0),\n            color,\n          },\n          {\n            pos: vec3(p2.x, p2.y, z),\n            uv: vec2(0, 0),\n            color,\n          },\n          {\n            pos: vec3(p3.x, p3.y, z),\n            uv: vec2(0, 0),\n            color,\n          },\n        ],\n        [0, 1, 2],\n        gfx.defTex,\n        conf.prog,\n        conf.uniform\n      );\n    }\n    __name(drawTri, 'drawTri');\n    function fmtText(text, font, conf = {}) {\n      const chars = `${text}`.split('');\n      const gw = font.qw * font.tex.width;\n      const gh = font.qh * font.tex.height;\n      const size = conf.size || gh;\n      const scale2 = vec2(size / gh).scale(vec2(conf.scale || 1));\n      const cw = scale2.x * gw;\n      const ch = scale2.y * gh;\n      let curX = 0;\n      let th = ch;\n      let tw = 0;\n      const flines = [];\n      let curLine = [];\n      let lastSpace = null;\n      let cursor = 0;\n      while (cursor < chars.length) {\n        let char = chars[cursor];\n        if (char === '\\n') {\n          th += ch;\n          curX = 0;\n          lastSpace = null;\n          flines.push(curLine);\n          curLine = [];\n        } else if (conf.width ? curX + cw > conf.width : false) {\n          th += ch;\n          curX = 0;\n          if (lastSpace != null) {\n            cursor -= curLine.length - lastSpace;\n            char = chars[cursor];\n            curLine = curLine.slice(0, lastSpace);\n          }\n          lastSpace = null;\n          flines.push(curLine);\n          curLine = [];\n        }\n        if (char !== '\\n') {\n          curLine.push(char);\n          curX += cw;\n          if (char === ' ') {\n            lastSpace = curLine.length;\n          }\n        }\n        tw = Math.max(tw, curX);\n        cursor++;\n      }\n      flines.push(curLine);\n      if (conf.width) {\n        tw = conf.width;\n      }\n      const fchars = [];\n      const pos = vec2(conf.pos || 0);\n      const offset = originPt(conf.origin || DEF_ORIGIN).scale(0.5);\n      const ox = -offset.x * cw - (offset.x + 0.5) * (tw - cw);\n      const oy = -offset.y * ch - (offset.y + 0.5) * (th - ch);\n      flines.forEach((line, ln) => {\n        const oxl = (tw - line.length * cw) * (offset.x + 0.5);\n        line.forEach((char, cn) => {\n          const qpos = font.map[char];\n          const x = cn * cw;\n          const y = ln * ch;\n          if (qpos) {\n            fchars.push({\n              tex: font.tex,\n              quad: quad(qpos.x, qpos.y, font.qw, font.qh),\n              ch: char,\n              pos: vec2(pos.x + x + ox + oxl, pos.y + y + oy),\n              color: conf.color,\n              origin: conf.origin,\n              scale: scale2,\n              z: conf.z,\n            });\n          }\n        });\n      });\n      return {\n        width: tw,\n        height: th,\n        chars: fchars,\n      };\n    }\n    __name(fmtText, 'fmtText');\n    function drawText(txt, font, conf = {}) {\n      drawFmtText(fmtText(txt, font, conf));\n    }\n    __name(drawText, 'drawText');\n    function drawFmtText(ftext) {\n      for (const ch of ftext.chars) {\n        drawQuad({\n          tex: ch.tex,\n          width: ch.tex.width * ch.quad.w,\n          height: ch.tex.height * ch.quad.h,\n          pos: ch.pos,\n          scale: ch.scale,\n          color: ch.color,\n          quad: ch.quad,\n          origin: 'center',\n          z: ch.z,\n        });\n      }\n    }\n    __name(drawFmtText, 'drawFmtText');\n    function width() {\n      return gl.drawingBufferWidth / scale();\n    }\n    __name(width, 'width');\n    function height() {\n      return gl.drawingBufferHeight / scale();\n    }\n    __name(height, 'height');\n    function scale() {\n      return gconf.scale ?? 1;\n    }\n    __name(scale, 'scale');\n    function clearColor() {\n      return gfx.clearColor.clone();\n    }\n    __name(clearColor, 'clearColor');\n    return {\n      width,\n      height,\n      scale,\n      makeTex,\n      makeProgram,\n      makeFont,\n      drawTexture,\n      drawText,\n      drawFmtText,\n      drawRect,\n      drawRectStroke,\n      drawLine,\n      drawTri,\n      fmtText,\n      frameStart,\n      frameEnd,\n      pushTransform,\n      popTransform,\n      pushMatrix,\n      drawCalls,\n      clearColor,\n    };\n  }\n  let DEF_ORIGIN;\n  let STRIDE;\n  let QUEUE_COUNT;\n  let BG_GRID_SIZE;\n  let VERT_TEMPLATE;\n  let FRAG_TEMPLATE;\n  let DEF_VERT;\n  let DEF_FRAG;\n  const init_gfx = __esm({\n    'src/gfx.ts': function () {\n      init_math();\n      init_utils();\n      DEF_ORIGIN = 'topleft';\n      STRIDE = 9;\n      QUEUE_COUNT = 65536;\n      BG_GRID_SIZE = 64;\n      VERT_TEMPLATE = `\nattribute vec3 a_pos;\nattribute vec2 a_uv;\nattribute vec4 a_color;\n\nvarying vec3 v_pos;\nvarying vec2 v_uv;\nvarying vec4 v_color;\n\nvec4 def_vert() {\n\treturn vec4(a_pos, 1.0);\n}\n\n{{user}}\n\nvoid main() {\n\tvec4 pos = vert(a_pos, a_uv, a_color);\n\tv_pos = a_pos;\n\tv_uv = a_uv;\n\tv_color = a_color;\n\tgl_Position = pos;\n}\n`;\n      FRAG_TEMPLATE = `\nprecision mediump float;\n\nvarying vec3 v_pos;\nvarying vec2 v_uv;\nvarying vec4 v_color;\n\nuniform sampler2D u_tex;\n\nvec4 def_frag() {\n\treturn v_color * texture2D(u_tex, v_uv);\n}\n\n{{user}}\n\nvoid main() {\n\tgl_FragColor = frag(v_pos, v_uv, v_color, u_tex);\n\tif (gl_FragColor.a == 0.0) {\n\t\tdiscard;\n\t}\n}\n`;\n      DEF_VERT = `\nvec4 vert(vec3 pos, vec2 uv, vec4 color) {\n\treturn def_vert();\n}\n`;\n      DEF_FRAG = `\nvec4 frag(vec3 pos, vec2 uv, vec4 color, sampler2D tex) {\n\treturn def_frag();\n}\n`;\n      __name(originPt, 'originPt');\n      __name(gfxInit, 'gfxInit');\n    },\n  });\n\n  // src/app.ts\n  function processBtnState(s) {\n    if (s === 'pressed' || s === 'rpressed') {\n      return 'down';\n    }\n    if (s === 'released') {\n      return 'up';\n    }\n    return s;\n  }\n  function appInit(gconf = {}) {\n    const app = {\n      canvas:\n        gconf.canvas ??\n        (() => {\n          const canvas = document.createElement('canvas');\n          (gconf.root ?? document.body).appendChild(canvas);\n          return canvas;\n        })(),\n      keyStates: {},\n      charInputted: [],\n      mouseMoved: false,\n      mouseState: 'up',\n      mousePos: vec2(0, 0),\n      time: 0,\n      realTime: 0,\n      skipTime: false,\n      dt: 0,\n      scale: gconf.scale ?? 1,\n      isTouch: false,\n      loopID: null,\n      stopped: false,\n      fps: 0,\n      fpsBuf: [],\n      fpsTimer: 0,\n    };\n    const keyMap = {\n      ArrowLeft: 'left',\n      ArrowRight: 'right',\n      ArrowUp: 'up',\n      ArrowDown: 'down',\n      ' ': 'space',\n    };\n    const preventDefaultKeys = [\n      'space',\n      'left',\n      'right',\n      'up',\n      'down',\n      'tab',\n      'f1',\n      'f2',\n      'f3',\n      'f4',\n      'f5',\n      'f6',\n      'f7',\n      'f8',\n      'f9',\n      'f10',\n      'f11',\n    ];\n    if (gconf.fullscreen) {\n      app.canvas.width = window.innerWidth;\n      app.canvas.height = window.innerHeight;\n    } else {\n      app.canvas.width = (gconf.width || 640) * app.scale;\n      app.canvas.height = (gconf.height || 480) * app.scale;\n    }\n    const styles = ['outline: none', 'cursor: default'];\n    if (gconf.crisp) {\n      styles.push('image-rendering: pixelated');\n      styles.push('image-rendering: crisp-edges');\n    }\n    app.canvas.style = styles.join(';');\n    app.canvas.setAttribute('tabindex', '0');\n    const gl = app.canvas.getContext('webgl', {\n      antialias: true,\n      depth: true,\n      stencil: true,\n      alpha: true,\n      preserveDrawingBuffer: true,\n    });\n    app.isTouch =\n      'ontouchstart' in window ||\n      navigator.maxTouchPoints > 0 ||\n      navigator.msMaxTouchPoints > 0;\n    app.canvas.addEventListener('mousemove', e => {\n      app.mousePos = vec2(e.offsetX, e.offsetY).scale(1 / app.scale);\n      app.mouseMoved = true;\n    });\n    app.canvas.addEventListener('mousedown', () => {\n      app.mouseState = 'pressed';\n    });\n    app.canvas.addEventListener('mouseup', () => {\n      app.mouseState = 'released';\n    });\n    app.canvas.addEventListener('touchstart', e => {\n      if (!gconf.touchToMouse) return;\n      e.preventDefault();\n      const t = e.touches[0];\n      app.mousePos = vec2(t.clientX, t.clientY).scale(1 / app.scale);\n      app.mouseState = 'pressed';\n    });\n    app.canvas.addEventListener('touchmove', e => {\n      if (!gconf.touchToMouse) return;\n      e.preventDefault();\n      const t = e.touches[0];\n      app.mousePos = vec2(t.clientX, t.clientY).scale(1 / app.scale);\n      app.mouseMoved = true;\n    });\n    app.canvas.addEventListener('touchend', e => {\n      if (!gconf.touchToMouse) return;\n      app.mouseState = 'released';\n    });\n    app.canvas.addEventListener('touchcancel', e => {\n      if (!gconf.touchToMouse) return;\n      app.mouseState = 'released';\n    });\n    app.canvas.addEventListener('keydown', e => {\n      const k = keyMap[e.key] || e.key.toLowerCase();\n      if (preventDefaultKeys.includes(k)) {\n        e.preventDefault();\n      }\n      if (k.length === 1) {\n        app.charInputted.push(k);\n      }\n      if (k === 'space') {\n        app.charInputted.push(' ');\n      }\n      if (e.repeat) {\n        app.keyStates[k] = 'rpressed';\n      } else {\n        app.keyStates[k] = 'pressed';\n      }\n    });\n    app.canvas.addEventListener('keyup', e => {\n      const k = keyMap[e.key] || e.key.toLowerCase();\n      app.keyStates[k] = 'released';\n    });\n    app.canvas.focus();\n    document.addEventListener('visibilitychange', () => {\n      switch (document.visibilityState) {\n        case 'visible':\n          app.skipTime = true;\n          break;\n        case 'hidden':\n          break;\n      }\n    });\n    function mousePos() {\n      return app.mousePos.clone();\n    }\n    __name(mousePos, 'mousePos');\n    function mouseClicked() {\n      return app.mouseState === 'pressed';\n    }\n    __name(mouseClicked, 'mouseClicked');\n    function mouseDown() {\n      return app.mouseState === 'pressed' || app.mouseState === 'down';\n    }\n    __name(mouseDown, 'mouseDown');\n    function mouseReleased() {\n      return app.mouseState === 'released';\n    }\n    __name(mouseReleased, 'mouseReleased');\n    function mouseMoved() {\n      return app.mouseMoved;\n    }\n    __name(mouseMoved, 'mouseMoved');\n    function keyPressed(k) {\n      return app.keyStates[k] === 'pressed';\n    }\n    __name(keyPressed, 'keyPressed');\n    function keyPressedRep(k) {\n      return app.keyStates[k] === 'pressed' || app.keyStates[k] === 'rpressed';\n    }\n    __name(keyPressedRep, 'keyPressedRep');\n    function keyDown(k) {\n      return (\n        app.keyStates[k] === 'pressed' ||\n        app.keyStates[k] === 'rpressed' ||\n        app.keyStates[k] === 'down'\n      );\n    }\n    __name(keyDown, 'keyDown');\n    function keyReleased(k) {\n      return app.keyStates[k] === 'released';\n    }\n    __name(keyReleased, 'keyReleased');\n    function charInputted() {\n      return [...app.charInputted];\n    }\n    __name(charInputted, 'charInputted');\n    function dt() {\n      return app.dt;\n    }\n    __name(dt, 'dt');\n    function time() {\n      return app.time;\n    }\n    __name(time, 'time');\n    function fps() {\n      return app.fps;\n    }\n    __name(fps, 'fps');\n    function screenshot() {\n      return app.canvas.toDataURL();\n    }\n    __name(screenshot, 'screenshot');\n    function cursor(c) {\n      if (c) {\n        app.canvas.style.cursor = c ?? 'default';\n      }\n      return app.canvas.style.cursor;\n    }\n    __name(cursor, 'cursor');\n    function run(f) {\n      const frame = /* @__PURE__ */ __name(t => {\n        const realTime = t / 1e3;\n        const realDt = realTime - app.realTime;\n        app.realTime = realTime;\n        if (!app.skipTime) {\n          app.dt = realDt;\n          app.time += app.dt;\n          app.fpsBuf.push(1 / app.dt);\n          app.fpsTimer += app.dt;\n          if (app.fpsTimer >= 1) {\n            app.fpsTimer = 0;\n            app.fps = Math.round(\n              app.fpsBuf.reduce((a, b) => a + b) / app.fpsBuf.length\n            );\n            app.fpsBuf = [];\n          }\n        }\n        app.skipTime = false;\n        f();\n        for (const k in app.keyStates) {\n          app.keyStates[k] = processBtnState(app.keyStates[k]);\n        }\n        app.mouseState = processBtnState(app.mouseState);\n        app.charInputted = [];\n        app.mouseMoved = false;\n        if (!app.stopped) {\n          app.loopID = requestAnimationFrame(frame);\n        }\n      }, 'frame');\n      app.loopID = requestAnimationFrame(frame);\n    }\n    __name(run, 'run');\n    function quit() {\n      cancelAnimationFrame(app.loopID);\n      app.stopped = true;\n    }\n    __name(quit, 'quit');\n    return {\n      gl,\n      mousePos,\n      keyDown,\n      keyPressed,\n      keyPressedRep,\n      keyReleased,\n      mouseDown,\n      mouseClicked,\n      mouseReleased,\n      mouseMoved,\n      charInputted,\n      cursor,\n      dt,\n      time,\n      fps,\n      screenshot,\n      run,\n      quit,\n      focused: () => document.activeElement === app.canvas,\n      focus: () => app.canvas.focus(),\n      canvas: () => app.canvas,\n      isTouch: () => app.isTouch,\n    };\n  }\n  const init_app = __esm({\n    'src/app.ts': function () {\n      init_math();\n      __name(processBtnState, 'processBtnState');\n      __name(appInit, 'appInit');\n    },\n  });\n\n  // src/assets/burp.mp3\n  let burp_default;\n  const init_burp = __esm({\n    'src/assets/burp.mp3': function () {\n      burp_default = __toBinary(\n        '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L5QNSqT5iiySS9Ja2SV//5ME0ak//+4KgAAABgQBAADAMDgYCAEgCteQ0fZH6+ICXA357+MPfhR/+ywRf/U///LVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5JknQAFoWhGLm5gBClBmT3GiAAAAAGkHAAAIAAANIOAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV'\n      );\n    },\n  });\n\n  // src/audio.ts\n  function audioInit() {\n    const audio = (() => {\n      const ctx2 = new (window.AudioContext || window.webkitAudioContext)();\n      const gainNode = ctx2.createGain();\n      const masterNode = gainNode;\n      masterNode.connect(ctx2.destination);\n      return {\n        ctx: ctx2,\n        gainNode,\n        masterNode,\n      };\n    })();\n    let burpBuf;\n    audio.ctx.decodeAudioData(\n      burp_default.buffer.slice(0),\n      buf => {\n        burpBuf = buf;\n      },\n      () => {\n        throw new Error('failed to make burp');\n      }\n    );\n    function volume(v) {\n      if (v !== void 0) {\n        audio.gainNode.gain.value = clamp(v, MIN_GAIN, MAX_GAIN);\n      }\n      return audio.gainNode.gain.value;\n    }\n    __name(volume, 'volume');\n    function play(\n      sound,\n      conf = {\n        loop: false,\n        volume: 1,\n        speed: 1,\n        detune: 0,\n        seek: 0,\n      }\n    ) {\n      let stopped = false;\n      let srcNode = audio.ctx.createBufferSource();\n      srcNode.buffer = sound;\n      srcNode.loop = !!conf.loop;\n      const gainNode = audio.ctx.createGain();\n      srcNode.connect(gainNode);\n      gainNode.connect(audio.masterNode);\n      const pos = conf.seek ?? 0;\n      srcNode.start(0, pos);\n      let startTime = audio.ctx.currentTime - pos;\n      let stopTime = null;\n      const handle = {\n        stop() {\n          if (stopped) {\n            return;\n          }\n          this.pause();\n          startTime = audio.ctx.currentTime;\n        },\n        play(seek) {\n          if (!stopped) {\n            return;\n          }\n          const oldNode = srcNode;\n          srcNode = audio.ctx.createBufferSource();\n          srcNode.buffer = oldNode.buffer;\n          srcNode.loop = oldNode.loop;\n          srcNode.playbackRate.value = oldNode.playbackRate.value;\n          if (srcNode.detune) {\n            srcNode.detune.value = oldNode.detune.value;\n          }\n          srcNode.connect(gainNode);\n          const pos2 = seek ?? this.time();\n          srcNode.start(0, pos2);\n          startTime = audio.ctx.currentTime - pos2;\n          stopped = false;\n          stopTime = null;\n        },\n        pause() {\n          if (stopped) {\n            return;\n          }\n          srcNode.stop();\n          stopped = true;\n          stopTime = audio.ctx.currentTime;\n        },\n        paused() {\n          return stopped;\n        },\n        stopped() {\n          return stopped;\n        },\n        speed(val) {\n          if (val !== void 0) {\n            srcNode.playbackRate.value = clamp(val, MIN_SPEED, MAX_SPEED);\n          }\n          return srcNode.playbackRate.value;\n        },\n        detune(val) {\n          if (!srcNode.detune) {\n            return 0;\n          }\n          if (val !== void 0) {\n            srcNode.detune.value = clamp(val, MIN_DETUNE, MAX_DETUNE);\n          }\n          return srcNode.detune.value;\n        },\n        volume(val) {\n          if (val !== void 0) {\n            gainNode.gain.value = clamp(val, MIN_GAIN, MAX_GAIN);\n          }\n          return gainNode.gain.value;\n        },\n        loop() {\n          srcNode.loop = true;\n        },\n        unloop() {\n          srcNode.loop = false;\n        },\n        duration() {\n          return sound.duration;\n        },\n        time() {\n          if (stopped) {\n            return stopTime - startTime;\n          }\n          return audio.ctx.currentTime - startTime;\n        },\n      };\n      handle.speed(conf.speed);\n      handle.detune(conf.detune);\n      handle.volume(conf.volume);\n      return handle;\n    }\n    __name(play, 'play');\n    function ctx() {\n      return audio.ctx;\n    }\n    __name(ctx, 'ctx');\n    function burp(conf) {\n      return play(burpBuf, conf);\n    }\n    __name(burp, 'burp');\n    return {\n      ctx,\n      volume,\n      play,\n      burp,\n    };\n  }\n  let MIN_GAIN;\n  let MAX_GAIN;\n  let MIN_SPEED;\n  let MAX_SPEED;\n  let MIN_DETUNE;\n  let MAX_DETUNE;\n  const init_audio = __esm({\n    'src/audio.ts': function () {\n      init_math();\n      init_burp();\n      MIN_GAIN = 0;\n      MAX_GAIN = 3;\n      MIN_SPEED = 0;\n      MAX_SPEED = 3;\n      MIN_DETUNE = -1200;\n      MAX_DETUNE = 1200;\n      __name(audioInit, 'audioInit');\n    },\n  });\n\n  // src/assets/unscii_8x8.png\n  let unscii_8x8_default;\n  const init_unscii_8x8 = __esm({\n    'src/assets/unscii_8x8.png': function () {\n      unscii_8x8_default =\n        'data:image/png;base64,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';\n    },\n  });\n\n  // src/assets/mark.png\n  let mark_default;\n  const init_mark = __esm({\n    'src/assets/mark.png': function () {\n      mark_default =\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAAAXNSR0IArs4c6QAAALBJREFUSInFlsESwyAIRNlOP5w/pxfjpLgIqTrlJkN8rqtECA8L8j7wa5GZaY2AoY5CfbIMSKBf894HSwAC63O/tszqoi22+4qe36TiHpeiZSXE/LFGJioAlVWFgM492bWFR4w/DmEe/VdJ5dSwb5iPIcRMH4EYoHRPKiBA06P+zlaYgWZ3TFpHOdJWfIPc3oU9YBisghiAJqS16KewCBAmL1gFFP0NqxCR2oMifUx8AEs8Sqk46+g8AAAAAElFTkSuQmCC';\n    },\n  });\n\n  // src/assets.ts\n  function loadImg(src) {\n    const img = new Image();\n    img.src = src;\n    img.crossOrigin = 'anonymous';\n    return new Promise((resolve, reject) => {\n      img.onload = () => {\n        resolve(img);\n      };\n      img.onerror = () => {\n        reject(`failed to load ${src}`);\n      };\n    });\n  }\n  function isDataUrl(src) {\n    return src.startsWith('data:');\n  }\n  function assetsInit(gfx, audio, gconf = {}) {\n    const assets = {\n      lastLoaderID: 0,\n      loadRoot: '',\n      loaders: {},\n      sprites: {},\n      sounds: {},\n      fonts: {},\n      shaders: {},\n    };\n    function addLoader(prom) {\n      const id = assets.lastLoaderID;\n      assets.loaders[id] = false;\n      assets.lastLoaderID++;\n      prom\n        .catch(gconf.errHandler ?? console.error)\n        .finally(() => (assets.loaders[id] = true));\n    }\n    __name(addLoader, 'addLoader');\n    function loadProgress() {\n      let total = 0;\n      let loaded = 0;\n      for (const id in assets.loaders) {\n        total += 1;\n        if (assets.loaders[id]) {\n          loaded += 1;\n        }\n      }\n      return loaded / total;\n    }\n    __name(loadProgress, 'loadProgress');\n    function loadRoot(path) {\n      if (path !== void 0) {\n        assets.loadRoot = path;\n      }\n      return assets.loadRoot;\n    }\n    __name(loadRoot, 'loadRoot');\n    function loadFont(name, src, gw, gh, chars = ASCII_CHARS) {\n      const loader = new Promise((resolve, reject) => {\n        const path = isDataUrl(src) ? src : assets.loadRoot + src;\n        loadImg(path)\n          .then(img => {\n            const font = gfx.makeFont(gfx.makeTex(img), gw, gh, chars);\n            assets.fonts[name] = font;\n            resolve(font);\n          })\n          .catch(reject);\n      });\n      addLoader(loader);\n      return loader;\n    }\n    __name(loadFont, 'loadFont');\n    function loadSprite(\n      name,\n      src,\n      conf = {\n        sliceX: 1,\n        sliceY: 1,\n        anims: {},\n      }\n    ) {\n      function loadRawSprite(\n        name2,\n        src2,\n        conf2 = {\n          sliceX: 1,\n          sliceY: 1,\n          gridWidth: 0,\n          gridHeight: 0,\n          anims: {},\n        }\n      ) {\n        const frames = [];\n        const tex = gfx.makeTex(src2);\n        const sliceX =\n          conf2.sliceX || tex.width / (conf2.gridWidth || tex.width);\n        const sliceY =\n          conf2.sliceY || tex.height / (conf2.gridHeight || tex.height);\n        const qw = 1 / sliceX;\n        const qh = 1 / sliceY;\n        for (let j = 0; j < sliceY; j++) {\n          for (let i = 0; i < sliceX; i++) {\n            frames.push(quad(i * qw, j * qh, qw, qh));\n          }\n        }\n        const sprite = {\n          tex,\n          frames,\n          anims: conf2.anims || {},\n        };\n        assets.sprites[name2] = sprite;\n        return sprite;\n      }\n      __name(loadRawSprite, 'loadRawSprite');\n      const loader = new Promise((resolve, reject) => {\n        if (!src) {\n          return reject(`expected sprite src for \"${name}\"`);\n        }\n        if (typeof src === 'string') {\n          const path = isDataUrl(src) ? src : assets.loadRoot + src;\n          loadImg(path)\n            .then(img => {\n              resolve(loadRawSprite(name, img, conf));\n            })\n            .catch(reject);\n        } else {\n          resolve(loadRawSprite(name, src, conf));\n        }\n      });\n      addLoader(loader);\n      return loader;\n    }\n    __name(loadSprite, 'loadSprite');\n    function loadShader(name, vert, frag, isUrl = false) {\n      function loadRawShader(name2, vert2, frag2) {\n        const shader = gfx.makeProgram(vert2, frag2);\n        assets.shaders[name2] = shader;\n        return shader;\n      }\n      __name(loadRawShader, 'loadRawShader');\n      const loader = new Promise((resolve, reject) => {\n        if (!vert && !frag) {\n          return reject('no shader');\n        }\n        function resolveUrl(url) {\n          return url\n            ? fetch(assets.loadRoot + url)\n                .then(r => {\n                  if (r.ok) {\n                    return r.text();\n                  }\n                  throw new Error(`failed to load ${url}`);\n                })\n                .catch(reject)\n            : new Promise(r => r(null));\n        }\n        __name(resolveUrl, 'resolveUrl');\n        if (isUrl) {\n          Promise.all([resolveUrl(vert), resolveUrl(frag)])\n            .then(([vcode, fcode]) => {\n              resolve(loadRawShader(name, vcode, fcode));\n            })\n            .catch(reject);\n        } else {\n          try {\n            resolve(loadRawShader(name, vert, frag));\n          } catch (err) {\n            reject(err);\n          }\n        }\n      });\n      addLoader(loader);\n      return loader;\n    }\n    __name(loadShader, 'loadShader');\n    function loadSound(name, src) {\n      const url = assets.loadRoot + src;\n      const loader = new Promise((resolve, reject) => {\n        if (!src) {\n          return reject(`expected sound src for \"${name}\"`);\n        }\n        if (typeof src === 'string') {\n          fetch(url)\n            .then(res => {\n              if (res.ok) {\n                return res.arrayBuffer();\n              }\n              throw new Error(`failed to load ${url}`);\n            })\n            .then(data => {\n              return new Promise((resolve2, reject2) => {\n                audio.ctx().decodeAudioData(data, resolve2, reject2);\n              });\n            })\n            .then(buf => {\n              assets.sounds[name] = buf;\n              resolve(buf);\n            })\n            .catch(reject);\n        }\n      });\n      addLoader(loader);\n      return loader;\n    }\n    __name(loadSound, 'loadSound');\n    function defFont() {\n      return assets.fonts[DEF_FONT];\n    }\n    __name(defFont, 'defFont');\n    loadFont(DEF_FONT, unscii_8x8_default, 8, 8);\n    loadSprite('mark', mark_default);\n    return {\n      loadRoot,\n      loadSprite,\n      loadSound,\n      loadFont,\n      loadShader,\n      loadProgress,\n      addLoader,\n      defFont,\n      sprites: assets.sprites,\n      fonts: assets.fonts,\n      sounds: assets.sounds,\n      shaders: assets.shaders,\n    };\n  }\n  let ASCII_CHARS;\n  let DEF_FONT;\n  const init_assets = __esm({\n    'src/assets.ts': function () {\n      init_math();\n      init_unscii_8x8();\n      init_mark();\n      ASCII_CHARS =\n        ' !\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\n      DEF_FONT = 'unscii';\n      __name(loadImg, 'loadImg');\n      __name(isDataUrl, 'isDataUrl');\n      __name(assetsInit, 'assetsInit');\n    },\n  });\n\n  // src/logger.ts\n  function loggerInit(\n    gfx,\n    assets,\n    conf = {\n      max: 8,\n    }\n  ) {\n    let logs = [];\n    const max = conf.max ?? 8;\n    function draw() {\n      if (logs.length > max) {\n        logs = logs.slice(0, max);\n      }\n      const pos = vec2(0, gfx.height());\n      logs.forEach((log, i) => {\n        const txtAlpha = map(i, 0, max, 1, 0.5);\n        const bgAlpha = map(i, 0, max, 0.8, 0.2);\n        const col = (() => {\n          switch (log.type) {\n            case 'info':\n              return rgba(1, 1, 1, txtAlpha);\n            case 'error':\n              return rgba(1, 0, 0.5, txtAlpha);\n          }\n        })();\n        const ftext = gfx.fmtText(log.msg, assets.defFont(), {\n          pos,\n          origin: 'botleft',\n          color: col,\n          size: LOG_SIZE / gfx.scale(),\n          width: gfx.width(),\n        });\n        gfx.drawRect(pos, ftext.width, ftext.height, {\n          origin: 'botleft',\n          color: rgba(0, 0, 0, bgAlpha),\n        });\n        gfx.drawFmtText(ftext);\n        pos.y -= ftext.height;\n      });\n    }\n    __name(draw, 'draw');\n    function error(msg) {\n      console.error(msg);\n      logs.unshift({\n        type: 'error',\n        msg,\n      });\n    }\n    __name(error, 'error');\n    function info(msg) {\n      logs.unshift({\n        type: 'info',\n        msg,\n      });\n    }\n    __name(info, 'info');\n    function clear() {\n      logs = [];\n    }\n    __name(clear, 'clear');\n    return {\n      info,\n      error,\n      draw,\n      clear,\n    };\n  }\n  let LOG_SIZE;\n  const init_logger = __esm({\n    'src/logger.ts': function () {\n      init_math();\n      LOG_SIZE = 16;\n      __name(loggerInit, 'loggerInit');\n    },\n  });\n\n  // src/net.ts\n  function netInit(url) {\n    const handlers = {};\n    const sendQueue = [];\n    let socket = null;\n    function connected() {\n      return socket !== null && socket.readyState === 1;\n    }\n    __name(connected, 'connected');\n    function connect() {\n      const ws = new WebSocket(url);\n      return new Promise((resolve, reject) => {\n        ws.onopen = () => {\n          resolve(ws);\n          socket = ws;\n          for (const msg of sendQueue) {\n            ws.send(msg);\n          }\n        };\n        ws.onerror = () => {\n          reject(`failed to connect to ${url}`);\n        };\n        ws.onmessage = e => {\n          const msg = JSON.parse(e.data);\n          if (handlers[msg.type]) {\n            for (const handler of handlers[msg.type]) {\n              handler(msg.id, msg.data);\n            }\n          }\n        };\n      });\n    }\n    __name(connect, 'connect');\n    function recv(type, handler) {\n      if (!handlers[type]) {\n        handlers[type] = [];\n      }\n      handlers[type].push(handler);\n    }\n    __name(recv, 'recv');\n    function send(type, data) {\n      const msg = JSON.stringify({\n        type,\n        data,\n      });\n      if (socket) {\n        socket.send(msg);\n      } else {\n        sendQueue.push(msg);\n      }\n    }\n    __name(send, 'send');\n    function close() {\n      if (socket) {\n        socket.close();\n      }\n    }\n    __name(close, 'close');\n    return {\n      connect,\n      close,\n      connected,\n      recv,\n      send,\n    };\n  }\n  const init_net = __esm({\n    'src/net.ts': function () {\n      __name(netInit, 'netInit');\n    },\n  });\n\n  // src/kaboom.ts\n  const require_kaboom = __commonJS({\n    'src/kaboom.ts': function (exports, module) {\n      init_math();\n      init_gfx();\n      init_app();\n      init_audio();\n      init_assets();\n      init_logger();\n      init_net();\n      const IDList = class extends Map {\n        constructor(...args) {\n          super(...args);\n          this.lastID = 0;\n        }\n\n        push(v) {\n          const id = this.lastID;\n          this.set(id, v);\n          this.lastID++;\n          return id;\n        }\n\n        pushd(v) {\n          const id = this.push(v);\n          return () => this.delete(id);\n        }\n      };\n      __name(IDList, 'IDList');\n      module.exports = (\n        gconf = {\n          width: 640,\n          height: 480,\n          scale: 1,\n          fullscreen: false,\n          debug: false,\n          crisp: false,\n          canvas: null,\n          connect: null,\n          logMax: 8,\n          root: document.body,\n        }\n      ) => {\n        const app = appInit({\n          width: gconf.width,\n          height: gconf.height,\n          scale: gconf.scale,\n          fullscreen: gconf.fullscreen,\n          crisp: gconf.crisp,\n          canvas: gconf.canvas,\n          root: gconf.root,\n          touchToMouse: gconf.touchToMouse ?? true,\n        });\n        const gfx = gfxInit(app.gl, {\n          clearColor: gconf.clearColor ? rgba(gconf.clearColor) : void 0,\n          scale: gconf.scale,\n          texFilter: gconf.texFilter,\n        });\n        const audio = audioInit();\n        const assets = assetsInit(gfx, audio, {\n          errHandler: err => {\n            logger.error(err);\n          },\n        });\n        const logger = loggerInit(gfx, assets, {\n          max: gconf.logMax,\n        });\n        const net = gconf.connect ? netInit(gconf.connect) : null;\n        let NetMsg;\n        (function (NetMsg2) {\n          NetMsg2.AddObj = 'ADD_OBJ';\n          NetMsg2.UpdateObj = 'UPDATE_OBJ';\n          NetMsg2.DestroyObj = 'DESTROY_OBJ';\n          NetMsg2.Disconnect = 'DISCONNECT';\n        })(NetMsg || (NetMsg = {}));\n        function sync(obj) {\n          if (!net) {\n            throw new Error('not connected to any websockets');\n          }\n          game.travelers.push(obj._id);\n          send(NetMsg.AddObj, obj._data());\n        }\n        __name(sync, 'sync');\n        if (net) {\n          recv(NetMsg.AddObj, (id, data) => {\n            if (!game.visitors[id]) {\n              game.visitors[id] = {};\n            }\n          });\n          recv(NetMsg.DestroyObj, (id, data) => {\n            if (!game.visitors[id]) {\n              return;\n            }\n            const oid = game.visitors[id][data.id];\n            if (oid != null) {\n              destroy(game.objs.get(oid));\n              delete game.visitors[id][data.id];\n            }\n          });\n          recv(NetMsg.Disconnect, (id, data) => {\n            if (game.visitors[id]) {\n              for (const oid of Object.values(game.visitors[id])) {\n                destroy(game.objs.get(oid));\n              }\n              delete game.visitors[id];\n            }\n          });\n        }\n        function recv(ty, handler) {\n          if (!net) {\n            throw new Error('not connected to any websockets');\n          }\n          net.recv(ty, (data, id) => {\n            try {\n              handler(data, id);\n            } catch (err) {\n              logger.error(err);\n            }\n          });\n        }\n        __name(recv, 'recv');\n        function send(ty, data) {\n          if (!net) {\n            throw new Error('not connected to any websockets');\n          }\n          net.send(ty, data);\n        }\n        __name(send, 'send');\n        function dt() {\n          return app.dt() * debug.timeScale;\n        }\n        __name(dt, 'dt');\n        function play(id, conf = {}) {\n          const pb = audio.play(\n            new AudioBuffer({\n              length: 1,\n              numberOfChannels: 1,\n              sampleRate: 44100,\n            })\n          );\n          ready(() => {\n            const sound = assets.sounds[id];\n            if (!sound) {\n              throw new Error(`sound not found: \"${id}\"`);\n            }\n            const pb2 = audio.play(sound, conf);\n            for (const k in pb2) {\n              pb[k] = pb2[k];\n            }\n          });\n          return pb;\n        }\n        __name(play, 'play');\n        function isCamLayer(layer2) {\n          return !game.layers[layer2 ?? game.defLayer]?.noCam;\n        }\n        __name(isCamLayer, 'isCamLayer');\n        function mousePos(layer2) {\n          return isCamLayer(layer2) ? game.camMousePos : app.mousePos();\n        }\n        __name(mousePos, 'mousePos');\n        function drawSprite(id, conf = {}) {\n          const spr = (() => {\n            if (typeof id === 'string') {\n              return assets.sprites[id];\n            }\n            return id;\n          })();\n          if (!spr) {\n            throw new Error(`sprite not found: \"${id}\"`);\n          }\n          const q = spr.frames[conf.frame ?? 0];\n          gfx.drawTexture(spr.tex, {\n            ...conf,\n            quad: q.scale(conf.quad || quad(0, 0, 1, 1)),\n          });\n        }\n        __name(drawSprite, 'drawSprite');\n        function drawText(txt, conf = {}) {\n          const fid = conf.font ?? DEF_FONT;\n          const font = assets.fonts[fid];\n          if (!font) {\n            throw new Error(`font not found: ${fid}`);\n          }\n          gfx.drawText(txt, font, conf);\n        }\n        __name(drawText, 'drawText');\n        const DEF_GRAVITY = 980;\n        const DEF_ORIGIN2 = 'topleft';\n        const game = {\n          loaded: false,\n          events: {},\n          objEvents: {},\n          actions: new IDList(),\n          renders: new IDList(),\n          objs: new IDList(),\n          timers: new IDList(),\n          cam: {\n            pos: vec2(gfx.width() / 2, gfx.height() / 2),\n            scale: vec2(1, 1),\n            angle: 0,\n            shake: 0,\n          },\n          camMousePos: app.mousePos(),\n          camMatrix: mat4(),\n          layers: {},\n          defLayer: null,\n          gravity: DEF_GRAVITY,\n          data: {},\n          travelers: [],\n          visitors: {},\n          on(ev, cb) {\n            if (!this.events[ev]) {\n              this.events[ev] = new IDList();\n            }\n            return this.events[ev].pushd(cb);\n          },\n          trigger(ev, ...args) {\n            if (this.events[ev]) {\n              this.events[ev].forEach(cb => cb(...args));\n            }\n          },\n          scenes: {},\n        };\n        function layers(list, def) {\n          list.forEach((name, idx) => {\n            game.layers[name] = {\n              alpha: 1,\n              order: idx + 1,\n              noCam: false,\n            };\n          });\n          if (def) {\n            game.defLayer = def;\n          }\n        }\n        __name(layers, 'layers');\n        function camPos(...pos2) {\n          if (pos2.length > 0) {\n            game.cam.pos = vec2(...pos2);\n          }\n          return game.cam.pos.clone();\n        }\n        __name(camPos, 'camPos');\n        function camScale(...scale2) {\n          if (scale2.length > 0) {\n            game.cam.scale = vec2(...scale2);\n          }\n          return game.cam.scale.clone();\n        }\n        __name(camScale, 'camScale');\n        function camRot(angle) {\n          if (angle !== void 0) {\n            game.cam.angle = angle;\n          }\n          return game.cam.angle;\n        }\n        __name(camRot, 'camRot');\n        function camShake(intensity) {\n          game.cam.shake = intensity;\n        }\n        __name(camShake, 'camShake');\n        function camIgnore(layers2) {\n          layers2.forEach(name => {\n            if (game.layers[name]) {\n              game.layers[name].noCam = true;\n            }\n          });\n        }\n        __name(camIgnore, 'camIgnore');\n        const COMP_EVENTS = new Set([\n          'add',\n          'load',\n          'update',\n          'draw',\n          'destroy',\n          'inspect',\n        ]);\n        function add(comps) {\n          const compStates = {};\n          const customState = {};\n          const events = {};\n          const tags = [];\n          const obj = {\n            hidden: false,\n            paused: false,\n            _id: null,\n            use(comp) {\n              if (comp === void 0) {\n                return;\n              }\n              const ty = typeof comp;\n              if (ty === 'string') {\n                tags.push(comp);\n                return;\n              }\n              if (ty !== 'object') {\n                throw new Error(`invalid comp type: ${ty}`);\n              }\n              let stateContainer = customState;\n              if (comp.id) {\n                compStates[comp.id] = {};\n                stateContainer = compStates[comp.id];\n              }\n              for (const k in comp) {\n                if (k === 'id' || k === 'require') {\n                  continue;\n                }\n                if (typeof comp[k] === 'function') {\n                  const func = comp[k].bind(this);\n                  if (COMP_EVENTS.has(k)) {\n                    this.on(k, func);\n                    continue;\n                  } else {\n                    stateContainer[k] = func;\n                  }\n                } else {\n                  stateContainer[k] = comp[k];\n                }\n                if (!this[k]) {\n                  Object.defineProperty(this, k, {\n                    get() {\n                      if (comp.id) {\n                        return compStates[comp.id][k];\n                      }\n                      return customState[k];\n                    },\n                    set(val) {\n                      if (comp.id) {\n                        compStates[comp.id][k] = val;\n                      } else {\n                        customState[k] = val;\n                      }\n                    },\n                  });\n                }\n              }\n            },\n            c(id) {\n              return compStates[id];\n            },\n            exists() {\n              return this._id !== void 0;\n            },\n            is(tag) {\n              if (tag === '*') {\n                return true;\n              }\n              if (Array.isArray(tag)) {\n                for (const t of tag) {\n                  if (!tags.includes(t)) {\n                    return false;\n                  }\n                }\n                return true;\n              }\n              return tags.includes(tag);\n            },\n            on(ev, cb) {\n              if (!events[ev]) {\n                events[ev] = new IDList();\n              }\n              return events[ev].pushd(cb);\n            },\n            action(cb) {\n              return this.on('update', cb);\n            },\n            trigger(ev, ...args) {\n              if (events[ev]) {\n                events[ev].forEach(cb => cb.call(this, ...args));\n              }\n              const gEvents = game.objEvents[ev];\n              if (gEvents) {\n                gEvents.forEach(e => {\n                  if (this.is(e.tag)) {\n                    e.cb(this, ...args);\n                  }\n                });\n              }\n            },\n            rmTag(t) {\n              const idx = tags.indexOf(t);\n              if (idx > -1) {\n                tags.splice(idx, 1);\n              }\n            },\n            _inspect() {\n              const info = [];\n              if (events.inspect) {\n                for (const inspect of events.inspect.values()) {\n                  info.push(inspect());\n                }\n              }\n              return {\n                tags,\n                info,\n              };\n            },\n            destroy() {\n              destroy(this);\n            },\n          };\n          for (const comp of comps) {\n            obj.use(comp);\n          }\n          obj._id = game.objs.push(obj);\n          obj.trigger('add');\n          ready(() => obj.trigger('load'));\n          for (const id in compStates) {\n            const comp = compStates[id];\n            const deps = comp.require || [];\n            for (const dep of deps) {\n              if (!obj.c(dep)) {\n                throw new Error(`comp '${id}' requires comp '${dep}'`);\n              }\n            }\n          }\n          return obj;\n        }\n        __name(add, 'add');\n        function readd(obj) {\n          if (!obj.exists()) {\n            return;\n          }\n          game.objs.delete(obj._id);\n          const id = game.objs.push(obj);\n          obj._id = id;\n          return obj;\n        }\n        __name(readd, 'readd');\n        function on(event, tag, cb) {\n          if (!game.objEvents[event]) {\n            game.objEvents[event] = new IDList();\n          }\n          return game.objEvents[event].pushd({\n            tag,\n            cb,\n          });\n        }\n        __name(on, 'on');\n        function action(tag, cb) {\n          if (typeof tag === 'function' && cb === void 0) {\n            return game.actions.pushd(tag);\n          }\n          if (typeof tag === 'string') {\n            return on('update', tag, cb);\n          }\n        }\n        __name(action, 'action');\n        function render(tag, cb) {\n          if (typeof tag === 'function' && cb === void 0) {\n            return game.renders.pushd(tag);\n          }\n          if (typeof tag === 'string') {\n            return on('update', tag, cb);\n          }\n        }\n        __name(render, 'render');\n        function collides(t1, t2, f) {\n          return action(t1, o1 => {\n            o1._checkCollisions(t2, o2 => {\n              f(o1, o2);\n            });\n          });\n        }\n        __name(collides, 'collides');\n        function overlaps(t1, t2, f) {\n          return action(t1, o1 => {\n            o1._checkOverlaps(t2, o2 => {\n              f(o1, o2);\n            });\n          });\n        }\n        __name(overlaps, 'overlaps');\n        function clicks(t, f) {\n          return action(t, o => {\n            if (o.isClicked()) {\n              f(o);\n            }\n          });\n        }\n        __name(clicks, 'clicks');\n        function wait(t, f) {\n          return new Promise(resolve => {\n            game.timers.push({\n              time: t,\n              cb: () => {\n                if (f) {\n                  f();\n                }\n                resolve();\n              },\n            });\n          });\n        }\n        __name(wait, 'wait');\n        function loop(t, f) {\n          let stopped = false;\n          const newF = /* @__PURE__ */ __name(() => {\n            if (stopped) {\n              return;\n            }\n            f();\n            wait(t, newF);\n          }, 'newF');\n          newF();\n          return () => (stopped = true);\n        }\n        __name(loop, 'loop');\n        function keyDown(k, f) {\n          if (Array.isArray(k)) {\n            const cancellers = k.map(key => keyDown(key, f));\n            return () => cancellers.forEach(cb => cb());\n          }\n          return game.on('input', () => app.keyDown(k) && f());\n        }\n        __name(keyDown, 'keyDown');\n        function keyPress(k, f) {\n          if (Array.isArray(k)) {\n            const cancellers = k.map(key => keyPress(key, f));\n            return () => cancellers.forEach(cb => cb());\n          }\n          return game.on('input', () => app.keyPressed(k) && f());\n        }\n        __name(keyPress, 'keyPress');\n        function keyPressRep(k, f) {\n          if (Array.isArray(k)) {\n            const cancellers = k.map(key => keyPressRep(key, f));\n            return () => cancellers.forEach(cb => cb());\n          }\n          return game.on('input', () => app.keyPressedRep(k) && f());\n        }\n        __name(keyPressRep, 'keyPressRep');\n        function keyRelease(k, f) {\n          if (Array.isArray(k)) {\n            const cancellers = k.map(key => keyRelease(key, f));\n            return () => cancellers.forEach(cb => cb());\n          }\n          return game.on('input', () => app.keyReleased(k) && f());\n        }\n        __name(keyRelease, 'keyRelease');\n        function mouseDown(f) {\n          return game.on('input', () => app.mouseDown() && f());\n        }\n        __name(mouseDown, 'mouseDown');\n        function mouseClick(f) {\n          return game.on('input', () => app.mouseClicked() && f());\n        }\n        __name(mouseClick, 'mouseClick');\n        function mouseRelease(f) {\n          return game.on('input', () => app.mouseReleased() && f());\n        }\n        __name(mouseRelease, 'mouseRelease');\n        function mouseMove(f) {\n          return game.on('input', () => app.mouseMoved() && f());\n        }\n        __name(mouseMove, 'mouseMove');\n        function charInput(f) {\n          return game.on('input', () =>\n            app.charInputted().forEach(ch => f(ch))\n          );\n        }\n        __name(charInput, 'charInput');\n        function touchStart(f) {\n          return game.on('input', () => {});\n        }\n        __name(touchStart, 'touchStart');\n        function touchMove(f) {\n          return game.on('input', () => {});\n        }\n        __name(touchMove, 'touchMove');\n        function touchEnd(f) {\n          return game.on('input', () => {});\n        }\n        __name(touchEnd, 'touchEnd');\n        function touchIsActive(id) {\n          return false;\n        }\n        __name(touchIsActive, 'touchIsActive');\n        function get(t) {\n          const objs = [...game.objs.values()].sort((o1, o2) => {\n            const l1 = game.layers[o1.layer ?? game.defLayer]?.order ?? 0;\n            const l2 = game.layers[o2.layer ?? game.defLayer]?.order ?? 0;\n            return l1 - l2;\n          });\n          if (!t) {\n            return objs;\n          }\n          return objs.filter(obj => obj.is(t));\n        }\n        __name(get, 'get');\n        function every(t, f) {\n          if (typeof t === 'function' && f === void 0) {\n            return get().map(t);\n          }\n          if (typeof t === 'string') {\n            return get(t).map(f);\n          }\n        }\n        __name(every, 'every');\n        function revery(t, f) {\n          if (typeof t === 'function' && f === void 0) {\n            return get().reverse().map(t);\n          }\n          if (typeof t === 'string') {\n            return get(t).reverse().map(f);\n          }\n        }\n        __name(revery, 'revery');\n        function destroy(obj) {\n          if (!obj.exists()) {\n            return;\n          }\n          obj.trigger('destroy');\n          game.objs.delete(obj._id);\n          delete obj._id;\n        }\n        __name(destroy, 'destroy');\n        function destroyAll(t) {\n          every(t, obj => {\n            destroy(obj);\n          });\n        }\n        __name(destroyAll, 'destroyAll');\n        function gravity(g) {\n          if (g !== void 0) {\n            game.gravity = g;\n          }\n          return game.gravity;\n        }\n        __name(gravity, 'gravity');\n        function gameFrame(ignorePause) {\n          game.trigger('nextFrame');\n          delete game.events.nextFrame;\n          const doUpdate = ignorePause || !debug.paused;\n          if (doUpdate) {\n            game.timers.forEach((t, id) => {\n              t.time -= dt();\n              if (t.time <= 0) {\n                t.cb();\n                game.timers.delete(id);\n              }\n            });\n          }\n          revery(obj => {\n            if (!obj.paused && doUpdate) {\n              obj.trigger('update');\n            }\n          });\n          if (doUpdate) {\n            game.actions.forEach(a => a());\n          }\n          const size = vec2(gfx.width(), gfx.height());\n          const { cam } = game;\n          const shake = vec2FromAngle(rand(0, Math.PI * 2)).scale(cam.shake);\n          cam.shake = lerp(cam.shake, 0, 5 * dt());\n          game.camMatrix = mat4()\n            .translate(size.scale(0.5))\n            .scale(cam.scale)\n            .rotateZ(cam.angle)\n            .translate(size.scale(-0.5))\n            .translate(cam.pos.scale(-1).add(size.scale(0.5)).add(shake));\n          every(obj => {\n            if (!obj.hidden) {\n              gfx.pushTransform();\n              if (isCamLayer(obj.layer)) {\n                gfx.pushMatrix(game.camMatrix);\n              }\n              obj.trigger('draw');\n              gfx.popTransform();\n            }\n          });\n          game.renders.forEach(r => r());\n        }\n        __name(gameFrame, 'gameFrame');\n        function drawInspect() {\n          let inspecting = null;\n          const font = assets.defFont();\n          const lcolor = rgba(gconf.inspectColor ?? [0, 1, 1, 1]);\n          function drawInspectTxt(pos2, txt, scale2) {\n            const pad = vec2(4).scale(1 / scale2);\n            const ftxt = gfx.fmtText(txt, font, {\n              size: 12 / scale2,\n              pos: pos2.add(vec2(pad.x, pad.y)),\n            });\n            gfx.drawRect(\n              pos2,\n              ftxt.width + pad.x * 2,\n              ftxt.height + pad.x * 2,\n              {\n                color: rgba(0, 0, 0, 1),\n              }\n            );\n            gfx.drawFmtText(ftxt);\n          }\n          __name(drawInspectTxt, 'drawInspectTxt');\n          function drawObj(obj, f) {\n            const isCam = isCamLayer(obj.layer);\n            const scale2 =\n              gfx.scale() *\n              (isCam ? (game.cam.scale.x + game.cam.scale.y) / 2 : 1);\n            if (isCam) {\n              gfx.pushTransform();\n              gfx.pushMatrix(game.camMatrix);\n            }\n            f(scale2);\n            if (isCam) {\n              gfx.popTransform();\n            }\n          }\n          __name(drawObj, 'drawObj');\n          revery(obj => {\n            if (!obj.area) {\n              return;\n            }\n            if (obj.hidden) {\n              return;\n            }\n            drawObj(obj, scale2 => {\n              if (!inspecting) {\n                if (obj.isHovered()) {\n                  inspecting = obj;\n                }\n              }\n              const lwidth = (inspecting === obj ? 6 : 2) / scale2;\n              const a = obj._worldArea();\n              const w = a.p2.x - a.p1.x;\n              const h = a.p2.y - a.p1.y;\n              gfx.drawRectStroke(a.p1, w, h, {\n                width: lwidth,\n                color: lcolor,\n              });\n            });\n          });\n          if (inspecting) {\n            drawObj(inspecting, scale2 => {\n              const mpos = mousePos(inspecting.layer);\n              const lines = [];\n              const data = inspecting._inspect();\n              for (const tag of data.tags) {\n                lines.push(`\"${tag}\"`);\n              }\n              for (const info of data.info) {\n                for (const field in info) {\n                  lines.push(`${field}: ${info[field]}`);\n                }\n              }\n              drawInspectTxt(mpos, lines.join('\\n'), scale2);\n            });\n          }\n          drawInspectTxt(vec2(0), `${app.fps()}`, gfx.scale());\n        }\n        __name(drawInspect, 'drawInspect');\n        function pos(...args) {\n          return {\n            id: 'pos',\n            pos: vec2(...args),\n            move(...args2) {\n              const p = vec2(...args2);\n              const dx = p.x * dt();\n              const dy = p.y * dt();\n              this.pos.x += dx;\n              this.pos.y += dy;\n            },\n            screenPos() {\n              return game.camMatrix.multVec2(this.pos);\n            },\n            inspect() {\n              return {\n                pos: `(${~~this.pos.x}, ${~~this.pos.y})`,\n              };\n            },\n          };\n        }\n        __name(pos, 'pos');\n        function scale(...args) {\n          if (args.length === 0) {\n            return scale(1);\n          }\n          return {\n            id: 'scale',\n            scale: vec2(...args),\n          };\n        }\n        __name(scale, 'scale');\n        function rotate(r) {\n          return {\n            id: 'rotate',\n            angle: r ?? 0,\n          };\n        }\n        __name(rotate, 'rotate');\n        function color(...args) {\n          return {\n            id: 'color',\n            color: rgba(...args),\n          };\n        }\n        __name(color, 'color');\n        function origin(o) {\n          return {\n            id: 'origin',\n            origin: o,\n          };\n        }\n        __name(origin, 'origin');\n        function layer(l) {\n          return {\n            id: 'layer',\n            layer: l,\n            inspect() {\n              return {\n                layer: this.layer ?? game.defLayer,\n              };\n            },\n          };\n        }\n        __name(layer, 'layer');\n        function isSameLayer(o1, o2) {\n          return (o1.layer ?? game.defLayer) === (o2.layer ?? game.defLayer);\n        }\n        __name(isSameLayer, 'isSameLayer');\n        function area(p1, p2) {\n          const colliding = {};\n          const overlapping = {};\n          return {\n            id: 'area',\n            area: {\n              p1,\n              p2,\n            },\n            areaWidth() {\n              const { p1: p12, p2: p22 } = this._worldArea();\n              return p22.x - p12.x;\n            },\n            areaHeight() {\n              const { p1: p12, p2: p22 } = this._worldArea();\n              return p22.y - p12.y;\n            },\n            isClicked() {\n              return app.mouseClicked() && this.isHovered();\n            },\n            isHovered() {\n              return this.hasPt(mousePos(this.layer));\n            },\n            isCollided(other) {\n              if (!other.area) {\n                return false;\n              }\n              if (!isSameLayer(this, other)) {\n                return false;\n              }\n              const a1 = this._worldArea();\n              const a2 = other._worldArea();\n              return colRectRect(a1, a2);\n            },\n            isOverlapped(other) {\n              if (!other.area) {\n                return false;\n              }\n              if (!isSameLayer(this, other)) {\n                return false;\n              }\n              const a1 = this._worldArea();\n              const a2 = other._worldArea();\n              return overlapRectRect(a1, a2);\n            },\n            clicks(f) {\n              this.action(() => {\n                if (this.isClicked()) {\n                  f();\n                }\n              });\n            },\n            hovers(f) {\n              this.action(() => {\n                if (this.isHovered()) {\n                  f();\n                }\n              });\n            },\n            collides(tag, f) {\n              this.action(() => {\n                this._checkCollisions(tag, f);\n              });\n            },\n            overlaps(tag, f) {\n              this.action(() => {\n                this._checkOverlaps(tag, f);\n              });\n            },\n            hasPt(pt) {\n              const a = this._worldArea();\n              return colRectPt(\n                {\n                  p1: a.p1,\n                  p2: a.p2,\n                },\n                pt\n              );\n            },\n            pushOut(obj) {\n              if (obj === this) {\n                return null;\n              }\n              if (!obj.area) {\n                return null;\n              }\n              if (!isSameLayer(this, obj)) {\n                return null;\n              }\n              const a1 = this._worldArea();\n              const a2 = obj._worldArea();\n              if (!colRectRect(a1, a2)) {\n                return null;\n              }\n              const disLeft = a1.p2.x - a2.p1.x;\n              const disRight = a2.p2.x - a1.p1.x;\n              const disTop = a1.p2.y - a2.p1.y;\n              const disBottom = a2.p2.y - a1.p1.y;\n              const min = Math.min(disLeft, disRight, disTop, disBottom);\n              switch (min) {\n                case disLeft:\n                  this.pos.x -= disLeft;\n                  return {\n                    obj,\n                    side: 'right',\n                    dis: -disLeft,\n                  };\n                case disRight:\n                  this.pos.x += disRight;\n                  return {\n                    obj,\n                    side: 'left',\n                    dis: disRight,\n                  };\n                case disTop:\n                  this.pos.y -= disTop;\n                  return {\n                    obj,\n                    side: 'bottom',\n                    dis: -disTop,\n                  };\n                case disBottom:\n                  this.pos.y += disBottom;\n                  return {\n                    obj,\n                    side: 'top',\n                    dis: disBottom,\n                  };\n              }\n              return null;\n            },\n            pushOutAll() {\n              return every(other =>\n                other.solid ? this.pushOut(other) : null\n              ).filter(res => res != null);\n            },\n            _checkCollisions(tag, f) {\n              every(tag, obj => {\n                if (this === obj) {\n                  return;\n                }\n                if (colliding[obj._id]) {\n                  return;\n                }\n                if (this.isCollided(obj)) {\n                  f(obj);\n                  colliding[obj._id] = obj;\n                }\n              });\n              for (const id in colliding) {\n                const obj = colliding[id];\n                if (!this.isCollided(obj)) {\n                  delete colliding[id];\n                }\n              }\n            },\n            _checkOverlaps(tag, f) {\n              every(tag, obj => {\n                if (this === obj) {\n                  return;\n                }\n                if (overlapping[obj._id]) {\n                  return;\n                }\n                if (this.isOverlapped(obj)) {\n                  f(obj);\n                  overlapping[obj._id] = obj;\n                }\n              });\n              for (const id in overlapping) {\n                const obj = overlapping[id];\n                if (!this.isOverlapped(obj)) {\n                  delete overlapping[id];\n                }\n              }\n            },\n            _worldArea() {\n              const a = this.area;\n              const pos2 = this.pos || vec2(0);\n              const scale2 = this.scale || vec2(1);\n              const p12 = pos2.add(a.p1.scale(scale2));\n              const p22 = pos2.add(a.p2.scale(scale2));\n              const area2 = {\n                p1: vec2(Math.min(p12.x, p22.x), Math.min(p12.y, p22.y)),\n                p2: vec2(Math.max(p12.x, p22.x), Math.max(p12.y, p22.y)),\n              };\n              return area2;\n            },\n          };\n        }\n        __name(area, 'area');\n        function getAreaFromSize(w, h, o) {\n          const size = vec2(w, h);\n          const offset = originPt(o || DEF_ORIGIN2)\n            .scale(size)\n            .scale(-0.5);\n          return area(offset.sub(size.scale(0.5)), offset.add(size.scale(0.5)));\n        }\n        __name(getAreaFromSize, 'getAreaFromSize');\n        function sprite(id, conf = {}) {\n          let spr = null;\n          let curAnim = null;\n          function calcTexScale(tex, q, w, h) {\n            const scale2 = vec2(1, 1);\n            if (w && h) {\n              scale2.x = w / (tex.width * q.w);\n              scale2.y = h / (tex.height * q.h);\n            } else if (w) {\n              scale2.x = w / (tex.width * q.w);\n              scale2.y = scale2.x;\n            } else if (h) {\n              scale2.y = h / (tex.height * q.h);\n              scale2.x = scale2.y;\n            }\n            return scale2;\n          }\n          __name(calcTexScale, 'calcTexScale');\n          return {\n            id: 'sprite',\n            width: 0,\n            height: 0,\n            animSpeed: conf.animSpeed || 0.1,\n            frame: conf.frame || 0,\n            quad: conf.quad || quad(0, 0, 1, 1),\n            add() {\n              if (!conf.noArea) {\n                this.use(area(vec2(0), vec2(0)));\n              }\n            },\n            load() {\n              spr = assets.sprites[id];\n              if (!spr) {\n                throw new Error(`sprite not found: \"${id}\"`);\n              }\n              let q = { ...spr.frames[0] };\n              if (conf.quad) {\n                q = q.scale(conf.quad);\n              }\n              const scale2 = calcTexScale(spr.tex, q, conf.width, conf.height);\n              this.width = spr.tex.width * q.w * scale2.x;\n              this.height = spr.tex.height * q.h * scale2.y;\n              if (!conf.noArea) {\n                this.use(getAreaFromSize(this.width, this.height, this.origin));\n              }\n            },\n            draw() {\n              drawSprite(spr, {\n                pos: this.pos,\n                scale: this.scale,\n                rot: this.angle,\n                color: this.color,\n                frame: this.frame,\n                origin: this.origin,\n                quad: this.quad,\n                prog: assets.shaders[this.shader],\n                uniform: this.uniform,\n                flipX: conf.flipX,\n                flipY: conf.flipY,\n                tiled: conf.tiled,\n                width: conf.width,\n                height: conf.height,\n              });\n            },\n            update() {\n              if (!curAnim) {\n                return;\n              }\n              const anim = spr.anims[curAnim.name];\n              curAnim.timer += dt();\n              if (curAnim.timer >= this.animSpeed) {\n                this.frame++;\n                if (this.frame > anim.to) {\n                  if (curAnim.loop) {\n                    this.frame = anim.from;\n                  } else {\n                    this.frame--;\n                    this.stop();\n                  }\n                }\n                if (curAnim) {\n                  curAnim.timer -= this.animSpeed;\n                }\n              }\n            },\n            play(name, loop2 = true) {\n              if (!spr) {\n                ready(() => {\n                  this.play(name, loop2);\n                });\n                return;\n              }\n              const anim = spr.anims[name];\n              if (!anim) {\n                throw new Error(`anim not found: ${name}`);\n              }\n              if (curAnim) {\n                this.stop();\n              }\n              curAnim = {\n                name,\n                loop: loop2,\n                timer: 0,\n              };\n              this.frame = anim.from;\n              this.trigger('animPlay', name);\n            },\n            stop() {\n              if (!curAnim) {\n                return;\n              }\n              const prevAnim = curAnim.name;\n              curAnim = null;\n              this.trigger('animEnd', prevAnim);\n            },\n            changeSprite(id2) {\n              if (!spr) {\n                ready(() => {\n                  this.changeSprite(id2);\n                });\n                return;\n              }\n              spr = assets.sprites[id2];\n              if (!spr) {\n                throw new Error(`sprite not found: \"${id2}\"`);\n              }\n              const q = { ...spr.frames[0] };\n              if (conf.quad) {\n                q.x += conf.quad.x * q.w;\n                q.y += conf.quad.y * q.h;\n                q.w *= conf.quad.w;\n                q.h *= conf.quad.h;\n              }\n              this.width = spr.tex.width * q.w;\n              this.height = spr.tex.height * q.h;\n              if (!conf.noArea) {\n                this.use(getAreaFromSize(this.width, this.height, this.origin));\n              }\n              curAnim = null;\n              this.frame = 0;\n            },\n            numFrames() {\n              if (!spr) {\n                return 0;\n              }\n              return spr.frames.length;\n            },\n            curAnim() {\n              return curAnim?.name;\n            },\n            flipX(b) {\n              conf.flipX = b;\n            },\n            flipY(b) {\n              conf.flipY = b;\n            },\n            inspect() {\n              const info = {};\n              if (curAnim) {\n                info.curAnim = `\"${curAnim.name}\"`;\n              }\n              return info;\n            },\n          };\n        }\n        __name(sprite, 'sprite');\n        function text(t, size, conf = {}) {\n          return {\n            id: 'text',\n            text: t,\n            textSize: size || 16,\n            font: conf.font,\n            width: 0,\n            height: 0,\n            add() {\n              if (!conf.noArea) {\n                this.use(area(vec2(0), vec2(0)));\n              }\n            },\n            load() {\n              if (!conf.noArea) {\n                const font = assets.fonts[this.font ?? DEF_FONT];\n                const ftext = gfx.fmtText(`${this.text}`, font, {\n                  pos: this.pos,\n                  scale: this.scale,\n                  rot: this.angle,\n                  size: this.textSize,\n                  origin: this.origin,\n                  color: this.color,\n                  width: conf.width,\n                });\n                this.width = ftext.width / (this.scale?.x || 1);\n                this.height = ftext.height / (this.scale?.y || 1);\n                this.use(getAreaFromSize(this.width, this.height, this.origin));\n              }\n            },\n            draw() {\n              const font = assets.fonts[this.font ?? DEF_FONT];\n              const ftext = gfx.fmtText(`${this.text}`, font, {\n                pos: this.pos,\n                scale: this.scale,\n                rot: this.angle,\n                size: this.textSize,\n                origin: this.origin,\n                color: this.color,\n                width: conf.width,\n              });\n              this.width = ftext.width;\n              this.height = ftext.height;\n              gfx.drawFmtText(ftext);\n            },\n          };\n        }\n        __name(text, 'text');\n        function rect(w, h, conf = {}) {\n          return {\n            id: 'rect',\n            width: w,\n            height: h,\n            add() {\n              if (!this.area && !conf.noArea) {\n                this.use(getAreaFromSize(this.width, this.height, this.origin));\n              }\n            },\n            draw() {\n              gfx.drawRect(this.pos, this.width, this.height, {\n                scale: this.scale,\n                rot: this.angle,\n                color: this.color,\n                origin: this.origin,\n                prog: assets.shaders[this.shader],\n                uniform: this.uniform,\n              });\n            },\n          };\n        }\n        __name(rect, 'rect');\n        function solid() {\n          return {\n            id: 'solid',\n            solid: true,\n          };\n        }\n        __name(solid, 'solid');\n        const DEF_MAX_VEL = 960;\n        const DEF_JUMP_FORCE = 480;\n        function body(conf = {}) {\n          let velY = 0;\n          let curPlatform = null;\n          let lastPlatformPos = null;\n          const maxVel = conf.maxVel ?? DEF_MAX_VEL;\n          return {\n            id: 'body',\n            jumpForce: conf.jumpForce ?? DEF_JUMP_FORCE,\n            update() {\n              this.move(0, velY);\n              const targets = this.pushOutAll();\n              let justOff = false;\n              if (curPlatform) {\n                if (!curPlatform.exists() || !this.isCollided(curPlatform)) {\n                  curPlatform = null;\n                  lastPlatformPos = null;\n                  justOff = true;\n                } else if (lastPlatformPos) {\n                  this.pos = this.pos.add(curPlatform.pos.sub(lastPlatformPos));\n                  lastPlatformPos = curPlatform.pos.clone();\n                }\n              }\n              if (!curPlatform) {\n                velY = Math.min(velY + gravity() * dt(), maxVel);\n                for (const target of targets) {\n                  if (target.side === 'bottom' && velY > 0) {\n                    curPlatform = target.obj;\n                    velY = 0;\n                    lastPlatformPos = curPlatform.pos.clone();\n                    if (!justOff) {\n                      this.trigger('grounded', curPlatform);\n                    }\n                  } else if (target.side === 'top' && velY < 0) {\n                    velY = 0;\n                    this.trigger('headbutt', target.obj);\n                  }\n                }\n              }\n            },\n            curPlatform() {\n              return curPlatform;\n            },\n            grounded() {\n              return curPlatform !== null;\n            },\n            falling() {\n              return velY > 0;\n            },\n            jump(force) {\n              curPlatform = null;\n              velY = -force || -this.jumpForce;\n            },\n          };\n        }\n        __name(body, 'body');\n        function shader(id, uniform = {}) {\n          const prog = assets.shaders[id];\n          return {\n            id: 'shader',\n            shader: id,\n            uniform,\n          };\n        }\n        __name(shader, 'shader');\n        const debug = {\n          paused: false,\n          inspect: false,\n          timeScale: 1,\n          showLog: true,\n          fps: app.fps,\n          objCount() {\n            return game.objs.size;\n          },\n          stepFrame() {\n            gameFrame(true);\n          },\n          drawCalls: gfx.drawCalls,\n          clearLog: logger.clear,\n          log: logger.info,\n          error: logger.error,\n        };\n        function gridder(level, p) {\n          return {\n            id: 'gridder',\n            gridPos: p.clone(),\n            setGridPos(p2) {\n              this.gridPos = p2.clone();\n              this.pos = vec2(\n                level.offset().x + this.gridPos.x * level.gridWidth(),\n                level.offset().y + this.gridPos.y * level.gridHeight()\n              );\n            },\n            moveLeft() {\n              this.setGridPos(this.gridPos.add(vec2(-1, 0)));\n            },\n            moveRight() {\n              this.setGridPos(this.gridPos.add(vec2(1, 0)));\n            },\n            moveUp() {\n              this.setGridPos(this.gridPos.add(vec2(0, -1)));\n            },\n            moveDown() {\n              this.setGridPos(this.gridPos.add(vec2(0, 1)));\n            },\n          };\n        }\n        __name(gridder, 'gridder');\n        function addLevel(map2, conf) {\n          const objs = [];\n          const offset = vec2(conf.pos || 0);\n          let longRow = 0;\n          const level = {\n            offset() {\n              return offset.clone();\n            },\n            gridWidth() {\n              return conf.width;\n            },\n            gridHeight() {\n              return conf.height;\n            },\n            getPos(...args) {\n              const p = vec2(...args);\n              return vec2(\n                offset.x + p.x * conf.width,\n                offset.y + p.y * conf.height\n              );\n            },\n            spawn(sym, p) {\n              const comps = (() => {\n                if (Array.isArray(sym)) {\n                  return sym;\n                }\n                if (conf[sym]) {\n                  if (typeof conf[sym] === 'function') {\n                    return conf[sym]();\n                  }\n                  if (Array.isArray(conf[sym])) {\n                    return [...conf[sym]];\n                  }\n                } else if (conf.any) {\n                  return conf.any(sym);\n                }\n              })();\n              if (!comps) {\n                return;\n              }\n              comps.push(\n                pos(offset.x + p.x * conf.width, offset.y + p.y * conf.height)\n              );\n              const obj = add(comps);\n              objs.push(obj);\n              obj.use(gridder(this, p));\n              return obj;\n            },\n            width() {\n              return longRow * conf.width;\n            },\n            height() {\n              return map2.length * conf.height;\n            },\n            destroy() {\n              for (const obj of objs) {\n                destroy(obj);\n              }\n            },\n          };\n          map2.forEach((row, i) => {\n            const syms = row.split('');\n            longRow = Math.max(syms.length, longRow);\n            syms.forEach((sym, j) => {\n              level.spawn(sym, vec2(j, i));\n            });\n          });\n          return level;\n        }\n        __name(addLevel, 'addLevel');\n        function commonProps(props) {\n          return [\n            pos(props.pos ?? vec2(0)),\n            rotate(props.rot ?? 0),\n            scale(vec2(props.scale ?? 1)),\n            color(props.color ?? rgb(1, 1, 1)),\n            origin(props.origin),\n          ];\n        }\n        __name(commonProps, 'commonProps');\n        function addSprite(name, props = {}) {\n          return add([\n            sprite(name, props),\n            props.body && body(),\n            props.solid && solid(),\n            props.layer && layer(props.layer),\n            props.origin && origin(props.origin),\n            props.data,\n            ...commonProps(props),\n            ...(props.tags || []),\n          ]);\n        }\n        __name(addSprite, 'addSprite');\n        function addRect(w, h, props = {}) {\n          return add([\n            rect(w, h, props),\n            props.body && body(),\n            props.solid && solid(),\n            props.layer && layer(props.layer),\n            props.origin && origin(props.origin),\n            props.data,\n            ...commonProps(props),\n            ...(props.tags || []),\n          ]);\n        }\n        __name(addRect, 'addRect');\n        function addText(txt, size, props = {}) {\n          return add([\n            text(txt, size, props),\n            props.body && body(),\n            props.solid && solid(),\n            props.layer && layer(props.layer),\n            props.origin && origin(props.origin),\n            props.data,\n            ...commonProps(props),\n            ...(props.tags || []),\n          ]);\n        }\n        __name(addText, 'addText');\n        function ready(cb) {\n          if (game.loaded) {\n            cb();\n          } else {\n            game.on('load', cb);\n          }\n        }\n        __name(ready, 'ready');\n        function scene(id, def) {\n          game.scenes[id] = def;\n        }\n        __name(scene, 'scene');\n        function go(id, ...args) {\n          game.on('nextFrame', () => {\n            game.events = {};\n            game.objEvents = {\n              add: new IDList(),\n              update: new IDList(),\n              draw: new IDList(),\n              destroy: new IDList(),\n            };\n            game.actions = new IDList();\n            game.renders = new IDList();\n            game.objs = new IDList();\n            game.timers = new IDList();\n            game.cam = {\n              pos: vec2(gfx.width() / 2, gfx.height() / 2),\n              scale: vec2(1, 1),\n              angle: 0,\n              shake: 0,\n            };\n            game.camMousePos = app.mousePos();\n            game.camMatrix = mat4();\n            game.layers = {};\n            game.defLayer = null;\n            game.gravity = DEF_GRAVITY;\n            game.scenes[id](...args);\n            if (gconf.debug) {\n              regDebugInput();\n            }\n          });\n        }\n        __name(go, 'go');\n        function getData(key, def) {\n          try {\n            return JSON.parse(window.localStorage[key]);\n          } catch {\n            if (def) {\n              setData(key, def);\n              return def;\n            }\n            return null;\n          }\n        }\n        __name(getData, 'getData');\n        function setData(key, data) {\n          window.localStorage[key] = JSON.stringify(data);\n        }\n        __name(setData, 'setData');\n        const ctx = {\n          loadRoot: assets.loadRoot,\n          loadSprite: assets.loadSprite,\n          loadSound: assets.loadSound,\n          loadFont: assets.loadFont,\n          loadShader: assets.loadShader,\n          addLoader: assets.addLoader,\n          width: gfx.width,\n          height: gfx.height,\n          dt,\n          time: app.time,\n          screenshot: app.screenshot,\n          focused: app.focused,\n          focus: app.focus,\n          cursor: app.cursor,\n          ready,\n          isTouch: app.isTouch,\n          layers,\n          camPos,\n          camScale,\n          camRot,\n          camShake,\n          camIgnore,\n          gravity,\n          add,\n          readd,\n          destroy,\n          destroyAll,\n          get,\n          every,\n          revery,\n          sync,\n          send,\n          recv,\n          pos,\n          scale,\n          rotate,\n          color,\n          origin,\n          layer,\n          area,\n          sprite,\n          text,\n          rect,\n          solid,\n          body,\n          shader,\n          on,\n          action,\n          render,\n          collides,\n          overlaps,\n          clicks,\n          keyDown,\n          keyPress,\n          keyPressRep,\n          keyRelease,\n          mouseDown,\n          mouseClick,\n          mouseRelease,\n          mouseMove,\n          charInput,\n          touchStart,\n          touchMove,\n          touchEnd,\n          touchIsActive,\n          mousePos,\n          keyIsDown: app.keyDown,\n          keyIsPressed: app.keyPressed,\n          keyIsPressedRep: app.keyPressedRep,\n          keyIsReleased: app.keyReleased,\n          mouseIsDown: app.mouseDown,\n          mouseIsClicked: app.mouseClicked,\n          mouseIsReleased: app.mouseReleased,\n          mouseIsMoved: app.mouseMoved,\n          loop,\n          wait,\n          play,\n          volume: audio.volume,\n          burp: audio.burp,\n          makeRng,\n          rand,\n          randSeed,\n          vec2,\n          rgb,\n          rgba,\n          quad,\n          choose,\n          chance,\n          lerp,\n          map,\n          mapc,\n          wave,\n          deg2rad,\n          rad2deg,\n          drawSprite,\n          drawText,\n          drawRect: gfx.drawRect,\n          drawRectStroke: gfx.drawRectStroke,\n          drawLine: gfx.drawLine,\n          drawTri: gfx.drawTri,\n          debug,\n          addLevel,\n          addSprite,\n          addRect,\n          addText,\n          scene,\n          go,\n          getData,\n          setData,\n        };\n\n\n        if (gconf.plugins) {\n          for (const src of gconf.plugins) {\n            const map2 = src(ctx);\n            for (const k in map2) {\n              ctx[k] = map2[k];\n            }\n          }\n        }\n        if (gconf.global) {\n          Object.entries(ctx).forEach(([key, value]) => {\n            window[key] = value\n          })\n        }\n        app.run(() => {\n          gfx.frameStart();\n          if (!game.loaded) {\n            const progress = assets.loadProgress();\n            if (progress === 1) {\n              game.loaded = true;\n              game.trigger('load');\n              if (net) {\n                net.connect().catch(logger.error);\n              }\n            } else {\n              const w = gfx.width() / 2;\n              const h = 24 / gfx.scale();\n              const pos2 = vec2(gfx.width() / 2, gfx.height() / 2).sub(\n                vec2(w / 2, h / 2)\n              );\n              gfx.drawRect(vec2(0), gfx.width(), gfx.height(), {\n                color: rgb(0, 0, 0),\n              });\n              gfx.drawRectStroke(pos2, w, h, { width: 4 / gfx.scale() });\n              gfx.drawRect(pos2, w * progress, h);\n            }\n          } else {\n            try {\n              game.camMousePos = game.camMatrix\n                .invert()\n                .multVec2(app.mousePos());\n              game.trigger('input');\n              gameFrame();\n              if (debug.inspect) {\n                drawInspect();\n              }\n            } catch (e) {\n              logger.error(e.stack);\n              app.quit();\n            }\n            if (debug.showLog) {\n              logger.draw();\n            }\n          }\n          gfx.frameEnd();\n        });\n        function regDebugInput() {\n          keyPress('f1', () => {\n            debug.inspect = !debug.inspect;\n          });\n          keyPress('f2', () => {\n            debug.clearLog();\n          });\n          keyPress('f8', () => {\n            debug.paused = !debug.paused;\n            logger.info(`${debug.paused ? 'paused' : 'unpaused'}`);\n          });\n          keyPress('f7', () => {\n            debug.timeScale = clamp(debug.timeScale - 0.2, 0, 2);\n            logger.info(`time scale: ${debug.timeScale.toFixed(1)}`);\n          });\n          keyPress('f9', () => {\n            debug.timeScale = clamp(debug.timeScale + 0.2, 0, 2);\n            logger.info(`time scale: ${debug.timeScale.toFixed(1)}`);\n          });\n          keyPress('f10', () => {\n            debug.stepFrame();\n            logger.info(`stepped frame`);\n          });\n        }\n        __name(regDebugInput, 'regDebugInput');\n        if (gconf.debug) {\n          regDebugInput();\n        }\n        return ctx;\n      };\n    },\n  });\n  return require_kaboom();\n})();\n\nexport default kaboom;\n","import kaboom from './kaboom';\n// import asepritePlugin from 'kaboom/plugins/aseprite';\n/* eslint-disable  */\nkaboom({\n\tglobal: true,\n\tfullscreen: true,\n\tscale: 2,\n\tclearColor: [0, 0, 0, 1],\n});\n\n\n\n// // load assets\nloadRoot(\"/assets/img/\");\n\nloadSprite(\"guy\", \"guy.png\");\nloadSprite(\"spike\", \"spike.png\");\nloadSprite(\"steel\", \"steel.png\");\nloadSprite(\"prize\", \"jumpy.png\");\nloadSprite(\"apple\", \"apple.png\");\nloadSprite(\"coin\", \"coin.png\");\n\n// // define some constants\nconst JUMP_FORCE = 320;\nconst MOVE_SPEED = 120;\nconst FALL_DEATH = 640;\n\n// define layers, draw \"ui\" on top, and \"game\" is the default layer\nlayers([\n\t\"game\",\n\t\"ui\",\n], \"game\");\n\n// camera will ignore \"ui\" layer\ncamIgnore([ \"ui\", ]);\n\n// add level to scene\nconst level = addLevel([\n\t\"           $    \",\n\t\"  %      ====   \",\n\t\"                \",\n\t\"                \",\n\t\"       ^^       \",\n\t\"===============\",\n], {\n\t// TODO: derive grid size from sprite size instead of hardcode\n\t// grid size\n\twidth: 11,\n\theight: 11,\n\t// define each object as a list of components\n\t\"=\": [\n\t\tsprite(\"steel\"),\n\t\tsolid(),\n\t],\n\t\"$\": [\n\t\tsprite(\"coin\"),\n\t\t\"coin\",\n\t],\n\t\"%\": [\n\t\tsprite(\"prize\"),\n\t\tsolid(),\n\t\t\"prize\",\n\t],\n\t\"^\": [\n\t\tsprite(\"spike\"),\n\t\tarea(vec2(0, 6), vec2(11, 11)),\n\t\t\"dangerous\",\n\t],\n\t\"#\": [\n\t\tsprite(\"apple\"),\n\t\t\"apple\",\n\t],\n});\n\n// add score counter obj\nconst score = add([\n\ttext(\"0\"),\n\tpos(6, 6),\n\tlayer(\"ui\"),\n\t{\n\t\tvalue: 0,\n\t},\n]);\n\n// define a custom component that handles player grow big logic\nfunction big() {\n\tlet timer = 0;\n\tlet isBig = false;\n\treturn {\n\t\tupdate() {\n\t\t\tif (isBig) {\n\t\t\t\ttimer -= dt();\n\t\t\t\tif (timer <= 0) {\n\t\t\t\t\tthis.smallify();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tisBig() {\n\t\t\treturn isBig;\n\t\t},\n\t\tsmallify() {\n\t\t\tthis.scale = vec2(1);\n\t\t\ttimer = 0;\n\t\t\tisBig = false;\n\t\t},\n\t\tbiggify(time) {\n\t\t\tthis.scale = vec2(2);\n\t\t\ttimer = time;\n\t\t\tisBig = true;\n\t\t},\n\t};\n}\n\n// define player object\nconst player = add([\n\tsprite(\"guy\"),\n\tpos(0, 0),\n\tscale(1),\n\t// makes it fall to gravity and jumpable\n\tbody(),\n\t// as we defined above\n\tbig(),\n]);\n\n// action() runs every frame\nplayer.action(() => {\n\t// center camera to player\n\tcamPos(player.pos);\n\t// check fall death\n\tif (player.pos.y >= FALL_DEATH) {\n\t\tgo(\"lose\", { score: score.value, });\n\t}\n});\n\n// if player collides with any obj with \"dangerous\" tag, lose\nplayer.collides(\"dangerous\", () => {\n\tgo(\"lose\", { score: score.value, });\n});\n\n// grow an apple if player's head bumps into an obj with \"prize\" tag\nplayer.on(\"headbutt\", (obj) => {\n\tif (obj.is(\"prize\")) {\n\t\tlevel.spawn(\"#\", obj.gridPos.sub(0, 1));\n\t}\n});\n\n// player grows big collides with an \"apple\" obj\nplayer.collides(\"apple\", (a) => {\n\tdestroy(a);\n\t// as we defined in the big() component\n\tplayer.biggify(3);\n});\n\n// increase score if meets coin\nplayer.collides(\"coin\", (c) => {\n\tdestroy(c);\n\tscore.value++;\n\tscore.text = score.value;\n});\n\n// jump with space\nkeyPress(\"space\", () => {\n\t// these 2 functions are provided by body() component\n\tif (player.grounded()) {\n\t\tplayer.jump(JUMP_FORCE);\n\t}\n});\n\nkeyDown(\"left\", () => {\n\tplayer.move(-MOVE_SPEED, 0);\n});\n\nkeyDown(\"right\", () => {\n\tplayer.move(MOVE_SPEED, 0);\n});\n\nscene(\"lose\", ({ score }) => {\n\tadd([\n\t\ttext(\"Score: \" + score, 24),\n\t\torigin(\"center\"),\n\t\tpos(width() / 2, height() / 2),\n\t]);\n});\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}